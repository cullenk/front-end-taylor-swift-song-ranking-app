import './polyfills.server.mjs';
import{a as $e,b as de,d as ss,e as Ye,f as as,g as qe,h as On,i as ue,j as ls,m as Ge,n as cs,o as ds,p as us,q as bi,r as xi,s as vi,u as hs,v as Qe,w as yi,x as Ci,y as H}from"./chunk-7XFLNHFR.mjs";import{$ as Zr,$b as Ue,A as Vt,Aa as E,B as Ht,C as et,Ca as C,D as ze,Da as k,Ea as Jr,F as ut,Fa as it,G as D,Ga as ot,H as Wt,Ha as rt,I as Pe,Ia as Mn,Ja as f,K as Gr,Ka as A,L as vn,La as j,M as P,Ma as Ut,N as S,Na as $t,Oa as Yt,P as Qr,Pa as wn,Q as le,Qa as T,R as yt,Ra as ce,Sa as Pn,Tb as rs,V as Kr,Xa as ts,Yb as mi,_b as _i,a as we,aa as N,ab as Be,b as _n,ba as Po,bc as te,c as nt,ca as m,d as Fe,da as x,db as Sn,e as yo,eb as es,g as ui,h as bn,i as Hr,ib as Jt,j as Wr,ja as Xt,k as Ur,ka as Xr,l as $r,la as So,lb as ns,m as hi,ma as Oo,mb as L,n as gi,nb as Tt,o as Co,oa as pi,ob as Ve,p as Dt,pa as w,pb as R,q as Yr,qa as Ne,r as ko,ra as b,rb as is,s as Mo,sa as yn,t as fi,ta as je,u as wo,v as xn,va as d,vb as He,w as qr,wa as u,wb as We,xa as y,xb as os,ya as Cn,z as tt,za as kn}from"./chunk-JLEOY5R2.mjs";import{a as Y,b as K}from"./chunk-VVCT4QZE.mjs";function Rd(n,t){if(n&1){let i=E();d(0,"li",5)(1,"button",12),C("click",function(){P(i);let o=k();return S(o.logout())}),f(2,"Logout"),u()()}}var fs=(()=>{let t=class t{constructor(e){this.AuthService=e,this.userAuthenticated=!1,this.isMobileMenuOpen=!1}ngOnDestroy(){this.authenticationSub.unsubscribe()}ngOnInit(){this.userAuthenticated=this.AuthService.getIsAuthenticated(),this.authenticationSub=this.AuthService.getAuthenticatedSub().subscribe(e=>{this.userAuthenticated=e})}toggleMobileMenu(){this.isMobileMenuOpen=!this.isMobileMenuOpen}logout(){this.AuthService.logout()}};t.\u0275fac=function(o){return new(o||t)(x(Ye))},t.\u0275cmp=D({type:t,selectors:[["app-header"]],standalone:!0,features:[T],decls:28,vars:5,consts:[[1,"header-main-div"],["routerLink","./userHome"],["src","https://d3e29z0m37b0un.cloudfront.net/graphics/Logo+New.svg",1,"logo"],["tabindex","0","role","button","aria-label","Toggle menu",1,"hamburger-icon",3,"click","keydown.enter"],[1,"header-menu-list"],[1,"nav-item"],["routerLink","./about"],["routerLink","./rankings"],["routerLink","./top13list"],["routerLink","./erasTourBuilder"],["routerLink","./userProfile"],["class","nav-item",4,"ngIf"],["type","button",1,"logout-btn",3,"click"]],template:function(o,r){o&1&&(d(0,"header",0)(1,"a",1),y(2,"img",2),u(),d(3,"div",3),C("click",function(){return r.toggleMobileMenu()})("keydown.enter",function(){return r.toggleMobileMenu()}),y(4,"span")(5,"span")(6,"span"),u(),d(7,"nav")(8,"ul",4)(9,"li",5)(10,"a",1),f(11,"Home"),u()(),d(12,"li",5)(13,"a",6),f(14,"About"),u()(),d(15,"li",5)(16,"a",7),f(17,"Album Rankings"),u()(),d(18,"li",5)(19,"a",8),f(20,"Top 13 List"),u()(),d(21,"li",5)(22,"a",9),f(23,"Eras Tour Builder"),u()(),d(24,"li",5)(25,"a",10),f(26,"My Profile"),u()(),w(27,Rd,3,0,"li",11),u()()()),o&2&&(m(3),Ne("aria-expanded",r.isMobileMenuOpen),m(4),je("mobile-menu-open",r.isMobileMenuOpen),Ne("aria-hidden",!r.isMobileMenuOpen),m(20),b("ngIf",r.userAuthenticated))},dependencies:[te,Ue,R,Tt],styles:[".header-main-div[_ngcontent-%COMP%]{background-color:var(--primary-color);color:var(--text-color);padding:var(--padding-base);display:flex;justify-content:space-between;align-items:center;position:relative;z-index:1001}.hamburger-icon[_ngcontent-%COMP%]{display:none;flex-direction:column;justify-content:space-around;width:30px;height:25px;cursor:pointer}.hamburger-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%;height:3px;background-color:var(--text-color);transition:all .3s ease}.logo[_ngcontent-%COMP%]{width:200px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--logo-text-color);text-decoration:none;font-weight:700;transition:opacity .2s ease;cursor:pointer}.logo[_ngcontent-%COMP%]:hover{opacity:.8}.header-menu-list[_ngcontent-%COMP%]{list-style-type:none;display:flex;align-items:center;margin:0;padding:0}.nav-item[_ngcontent-%COMP%]{margin-right:var(--padding-base)}.nav-item[_ngcontent-%COMP%]:last-child{margin-right:0}.nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-color);text-decoration:none;transition:color .2s ease-in-out}.nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#a6cafc}.logout-btn[_ngcontent-%COMP%]{padding:calc(var(--padding-base) * .5) var(--padding-base);background-color:var(--secondary-color);color:var(--text-color);border:none;border-radius:4px;cursor:pointer;transition:background-color .2s ease-in-out;font-size:1rem}.logout-btn[_ngcontent-%COMP%]:hover{background-color:var(--hover-color)}@media (max-width: 768px){.header-main-div[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-between;align-items:center}.hamburger-icon[_ngcontent-%COMP%]{display:flex}nav[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;background-color:var(--primary-color);max-height:0;overflow:hidden;transition:max-height .3s ease;z-index:1000;width:100%;box-shadow:0 4px 6px #0000001a}nav.mobile-menu-open[_ngcontent-%COMP%]{max-height:350px}.header-menu-list[_ngcontent-%COMP%]{flex-direction:column;align-items:center;padding:var(--padding-base) 0}.nav-item[_ngcontent-%COMP%]{margin:10px 0;width:100%;text-align:right;padding-right:28px}}"]});let n=t;return n})();var ps=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=D({type:t,selectors:[["app-footer"]],standalone:!0,features:[T],decls:34,vars:0,consts:[[1,"footer-main-div"],[1,"footer-content"],[1,"footer-logo"],["routerLink","./userHome"],["src","https://d3e29z0m37b0un.cloudfront.net/graphics/Logo+New.svg","alt","Logo",1,"logo"],[1,"footer-links"],[1,"footer-links-column"],["routerLink","./about"],["routerLink","./rankings"],["routerLink","./top13list"],["routerLink","./erasTourBuilder"],["routerLink","./userProfile"],["routerLink","./contact"],[1,"footer-copyright"]],template:function(o,r){o&1&&(d(0,"footer",0)(1,"div",1)(2,"div",2)(3,"a",3),y(4,"img",4),u()(),d(5,"div",5)(6,"div",6)(7,"ul")(8,"li")(9,"a",3),f(10,"Home"),u()(),d(11,"li")(12,"a",7),f(13,"About"),u()(),d(14,"li")(15,"a",8),f(16,"Album Rankings"),u()(),d(17,"li")(18,"a",9),f(19,"Top 13 List"),u()()()(),d(20,"div",6)(21,"ul")(22,"li")(23,"a",10),f(24,"Eras Tour Builder"),u()(),d(25,"li")(26,"a",11),f(27,"My Profile"),u()(),d(28,"li")(29,"a",12),f(30,"Contact"),u()()()()()(),d(31,"div",13)(32,"p"),f(33,"Copyright 2024 Swiftie Ranking Hub"),u()()())},dependencies:[te,Ue],styles:[".footer-main-div[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff;padding:25px}.footer-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:1200px;margin:0 auto;flex-wrap:wrap;padding:20px 0}.footer-logo[_ngcontent-%COMP%]{flex:0 0 auto;height:100%;display:flex;align-items:center;margin-bottom:20px}.logo[_ngcontent-%COMP%]{max-width:300px;height:auto}.footer-links[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;justify-content:space-between;width:100%;max-width:500px}.footer-links-column[_ngcontent-%COMP%]{flex:0 0 48%}.footer-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0}.footer-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:14px}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.footer-copyright[_ngcontent-%COMP%]{margin-top:20px;text-align:center;font-size:12px}.footer-copyright[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}@media (max-width: 768px){.footer-content[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.footer-logo[_ngcontent-%COMP%]{margin-bottom:20px}.footer-links[_ngcontent-%COMP%]{flex-direction:column;align-items:center;width:100%}.footer-links-column[_ngcontent-%COMP%]{flex:0 0 100%;margin-bottom:20px}.footer-links-column[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{text-align:center}}"]});let n=t;return n})();var ms=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=D({type:t,selectors:[["app-user-dashboard"]],standalone:!0,features:[T],decls:5,vars:0,consts:[[1,"router-outlet-container"],[1,"main-content"]],template:function(o,r){o&1&&(d(0,"div",0),y(1,"app-header"),d(2,"main",1),y(3,"router-outlet"),u(),y(4,"app-footer"),u())},dependencies:[fs,ps,mi],styles:[".router-outlet-container[_ngcontent-%COMP%]{min-height:100%;display:flex;flex-direction:column;min-height:100vh}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}.main-content[_ngcontent-%COMP%]{flex:1 0 auto}app-footer[_ngcontent-%COMP%]{flex-shrink:0}"]});let n=t;return n})();var bs=(()=>{let t=class t{constructor(e){this.http=e,this.apiUrl=$e.apiUrl}getHeaders(){let e=localStorage.getItem("token");return new He().set("Authorization",`Bearer ${e}`)}getTopThirteen(){return this.http.get(`${this.apiUrl}/rankings/user/top-thirteen`,{headers:this.getHeaders()}).pipe(Dt(e=>(console.error("Error fetching top thirteen:",e),ui([]))))}updateSong(e,o,r,s,a){return this.http.post(`${this.apiUrl}/rankings/user/top-thirteen`,{slot:e,albumName:o,songId:r,songTitle:s,albumCover:a},{headers:this.getHeaders()}).pipe(Dt(l=>{throw console.error("Error updating song:",l),l}))}removeSong(e){return this.http.delete(`${this.apiUrl}/rankings/user/top-thirteen/${e}`,{headers:this.getHeaders()}).pipe(Dt(o=>{throw console.error("Error removing song:",o),o}))}};t.\u0275fac=function(o){return new(o||t)(et(We))},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var xs=(()=>{let t=class t{constructor(){this.topThirteenSubject=new Fe([]),this.topThirteen$=this.topThirteenSubject.asObservable()}updateTopThirteen(e){this.topThirteenSubject.next(e)}getTopThirteen(){return this.topThirteenSubject.value}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var vs={"Taylor Swift":{backgroundImage:"url(https://d3e29z0m37b0un.cloudfront.net/graphics/song+panels/debut-panel.png)",overlay:"linear-gradient(to right, rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.1))"},"Fearless (Taylor's Version)":{backgroundImage:"url(https://d3e29z0m37b0un.cloudfront.net/graphics/song+panels/fearless-panel.png)",overlay:"linear-gradient(to right, rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.1))"},"Speak Now (Taylor's Version)":{backgroundImage:"url(https://d3e29z0m37b0un.cloudfront.net/graphics/song+panels/speak-now-panel.png)",overlay:"linear-gradient(to right, rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.1))"},"Red (Taylor's Version)":{backgroundImage:"url(https://d3e29z0m37b0un.cloudfront.net/graphics/song+panels/red-panel.png)",overlay:"linear-gradient(to right, rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.1))"},"1989 (Taylor's Version)":{backgroundImage:"url(https://d3e29z0m37b0un.cloudfront.net/graphics/song+panels/1989-panel.png)",overlay:"linear-gradient(to right, rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.1))"},reputation:{backgroundImage:"url(https://d3e29z0m37b0un.cloudfront.net/graphics/song+panels/reputation-panel.png)",overlay:"linear-gradient(to right, rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.1))"},Lover:{backgroundImage:"url(https://d3e29z0m37b0un.cloudfront.net/graphics/song+panels/lover-panel.png)",overlay:"linear-gradient(to right, rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.1))"},folklore:{backgroundImage:"url(https://d3e29z0m37b0un.cloudfront.net/graphics/song+panels/folklore-panel.png)",overlay:"linear-gradient(to right, rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.1))"},evermore:{backgroundImage:"url(https://d3e29z0m37b0un.cloudfront.net/graphics/song+panels/evermore-panel.png)",overlay:"linear-gradient(to right, rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.1))"},Midnights:{backgroundImage:"url(https://d3e29z0m37b0un.cloudfront.net/graphics/song+panels/midnights-panel.png)",overlay:"linear-gradient(to right, rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.1))"},"The Tortured Poets Department":{backgroundImage:"url(https://d3e29z0m37b0un.cloudfront.net/graphics/song+panels/ttpd-panel.png)",overlay:"linear-gradient(to right, rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.1))"}};var ys=(()=>{let t=class t{getTheme(e){return e?vs[e]||this.getDefaultTheme():this.getDefaultTheme()}getDefaultTheme(){return{backgroundImage:"url(https://d3e29z0m37b0un.cloudfront.net/graphics/song+panels/singles-panel.png)",overlay:"linear-gradient(to right, rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.1))"}}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var zd=n=>({"background-image":n}),Nd=n=>({background:n});function jd(n,t){if(n&1){let i=E();d(0,"div",11),C("click",function(){let o=P(i).$implicit,r=k(3);return S(r.selectSong(o))}),f(1),u()}if(n&2){let i=t.$implicit;m(),j(" ",i.title," ")}}function Bd(n,t){if(n&1&&(d(0,"div",9),w(1,jd,2,1,"div",10),u()),n&2){let i=k(2);m(),b("ngForOf",i.searchResults)}}function Vd(n,t){if(n&1){let i=E();d(0,"div",5)(1,"div",6)(2,"input",7),Yt("ngModelChange",function(o){P(i);let r=k();return $t(r.searchQuery,o)||(r.searchQuery=o),S(o)}),C("input",function(){P(i);let o=k();return S(o.searchSongs())}),u(),w(3,Bd,2,1,"div",8),u()()}if(n&2){let i=k();m(2),Ut("ngModel",i.searchQuery),m(),b("ngIf",i.searchResults.length>0)}}function Hd(n,t){if(n&1){let i=E();d(0,"div",12),y(1,"div",13),d(2,"div",14)(3,"button",15),C("click",function(){P(i);let o=k();return S(o.resetSong())}),f(4,"X"),u(),d(5,"div",16)(6,"img",17),C("error",function(o){P(i);let r=k();return S(r.handleImageError(o))}),u()(),d(7,"div",18)(8,"h3",19),f(9),u(),d(10,"p",20),f(11),u()(),d(12,"audio",21),C("error",function(o){P(i);let r=k();return S(r.handleAudioError(o))}),y(13,"source",22),f(14," Your browser does not support the audio element. "),u()()()}if(n&2){let i=k();b("ngStyle",ce(7,zd,i.albumTheme.backgroundImage)),m(),b("ngStyle",ce(9,Nd,i.albumTheme.overlay)),m(5),b("src",i.selectedSong.albumImageSource,N)("alt",i.selectedSong.album+" Cover"),m(3),A(i.selectedSong.title),m(2),A(i.selectedSong.album),m(2),b("src",i.selectedSong.audioSource,N)}}var Cs=(()=>{let t=class t{constructor(e,o,r,s,a){this.albumService=e,this.topThirteenService=o,this.topThirteenStateService=r,this.toastr=s,this.albumThemeService=a,this.searchQuery="",this.searchResults=[],this.selectedSong=null,this.topThirteen=[],this.albumTheme=this.albumThemeService.getTheme(void 0)}ngOnInit(){this.topThirteenStateService.topThirteen$.subscribe(e=>this.topThirteen=e),this.loadTopThirteenList(),this.disableAudioRightClick()}updateAlbumTheme(){this.selectedSong?this.albumTheme=this.albumThemeService.getTheme(this.selectedSong.album):this.albumTheme=this.albumThemeService.getTheme(void 0)}disableAudioRightClick(){document.addEventListener("contextmenu",e=>{e.target instanceof HTMLElement&&e.target.tagName==="AUDIO"&&e.preventDefault()},!1)}loadTopThirteenList(){this.topThirteenService.getTopThirteen().subscribe(e=>{this.topThirteenStateService.updateTopThirteen(e),this.loadExistingSong()},e=>{console.error("Error loading top thirteen:",e),this.toastr.error("Error loading top 13 list","Error")})}loadExistingSong(){let e=this.topThirteen.find(o=>o.slot===this.slotIndex);e?this.albumService.getSongById(e.songId).subscribe(o=>{this.selectedSong=o,this.updateAlbumTheme()},o=>{console.error("Error loading song:",o),this.toastr.error("Error loading song details","Error")}):(console.log(`No song selected for slot ${this.slotIndex}`),this.updateAlbumTheme())}searchSongs(){this.albumService.searchSongs(this.searchQuery).subscribe(e=>{console.log("Search results:",e),this.searchResults=e},e=>{console.error("Error searching songs:",e),this.toastr.error("Error searching songs","Error")})}selectSong(e){console.log("Audio source:",e.audioSource),this.fetchSongDetails(e._id),this.updateAlbumTheme()}handleAudioError(e){console.error("Audio failed to load:",e),this.toastr.error("Failed to load audio. Please try again later.","Error")}fetchSongDetails(e){this.albumService.getSongById(e).subscribe(o=>{this.checkAndUpdateTopThirteen(o)},o=>{console.error("Error fetching song:",o),this.toastr.error("Error fetching song","Error")})}checkAndUpdateTopThirteen(e){if(this.topThirteen.find(r=>r.songTitle===e.title&&r.slot!==this.slotIndex)){this.toastr.error("This song is already in your top 13 list!","Duplicate Song"),this.resetSelection();return}this.selectedSong=e,this.updateAlbumTheme(),this.updateTopThirteen()}updateTopThirteen(){this.selectedSong&&this.topThirteenService.updateSong(this.slotIndex,this.selectedSong.album,this.selectedSong._id,this.selectedSong.title,this.selectedSong.albumImageSource).subscribe(e=>{console.log("Top 13 list updated successfully",e),this.topThirteenStateService.updateTopThirteen(e),this.toastr.success("Song added to your top 13 list!","Success")},e=>{console.error("Error updating top 13 list:",e),this.toastr.error("Error updating top 13 list","Error"),this.resetSelection()})}resetSelection(){this.selectedSong=null,this.searchQuery="",this.searchResults=[]}handleImageError(e){e.target.src="https://d3e29z0m37b0un.cloudfront.net/Taylor+Swift.jpg",console.error("Failed to load album image")}resetSong(){this.topThirteenService.removeSong(this.slotIndex).subscribe(e=>{console.log("Song removed from top 13 list"),this.topThirteenStateService.updateTopThirteen(e),this.toastr.success("Song removed from your top 13 list","Success"),this.resetSelection()},e=>{console.error("Error removing song from top 13 list:",e),this.toastr.error("Error removing song from top 13 list","Error")})}};t.\u0275fac=function(o){return new(o||t)(x(H),x(bs),x(xs),x(de),x(ys))},t.\u0275cmp=D({type:t,selectors:[["app-top-13-song-slot"]],inputs:{slotIndex:"slotIndex"},standalone:!0,features:[T],decls:7,vars:3,consts:[[1,"song-slot"],[1,"ranking-box"],[1,"song-content"],["class","song-search-card",4,"ngIf"],["class","chosen-song-card",3,"ngStyle",4,"ngIf"],[1,"song-search-card"],[1,"dropdown-parent"],["type","text","placeholder","Search for a song",1,"search-input",3,"ngModelChange","input","ngModel"],["class","search-dropdown",4,"ngIf"],[1,"search-dropdown"],["class","dropdown-option",3,"click",4,"ngFor","ngForOf"],[1,"dropdown-option",3,"click"],[1,"chosen-song-card",3,"ngStyle"],[1,"overlay",3,"ngStyle"],[1,"chosen-song-card-content"],["aria-label","Reset song",1,"reset-button",3,"click"],[1,"album-cover-div"],[1,"album-cover",3,"error","src","alt"],[1,"chosen-song-details-div"],[1,"song-title"],[1,"album-name"],["controls","","controlsList","nodownload",3,"error"],["type","audio/mpeg",3,"src"]],template:function(o,r){o&1&&(d(0,"div",0)(1,"div",1)(2,"p"),f(3),u()(),d(4,"div",2),w(5,Vd,4,2,"div",3)(6,Hd,15,11,"div",4),u()()),o&2&&(m(3),A(r.slotIndex),m(2),b("ngIf",!r.selectedSong),m(),b("ngIf",r.selectedSong))},dependencies:[R,L,Tt,Ve,Qe,qe,ue,Ge],styles:[".song-slot[_ngcontent-%COMP%]{display:flex;height:100%;width:100%;transition:all .3s ease;position:relative;z-index:1}.song-slot[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 8px #00000026;z-index:2}.ranking-box[_ngcontent-%COMP%]{background-color:#f5f5f5;font-size:24px;font-weight:700;width:50px;display:flex;justify-content:center;align-items:center;border:2px solid rgba(0,0,0,.3);border-right:none;box-shadow:2px 0 4px #0000001a;z-index:2}.song-content[_ngcontent-%COMP%]{flex:1;display:flex;position:relative}.song-search-card[_ngcontent-%COMP%], .chosen-song-card[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;border-radius:0 10px 10px 0;position:relative}.song-search-card[_ngcontent-%COMP%]{background-color:#baf3f3;padding:15px;border:2px solid rgba(0,0,0,.3);border-left:none;z-index:2}.chosen-song-card[_ngcontent-%COMP%]{background-size:cover;background-position:center;color:#fff;position:relative}audio[_ngcontent-%COMP%]{width:200px;height:30px;background-color:#ffffff1a;border-radius:15px;outline:1px solid white}audio[_ngcontent-%COMP%]::-webkit-media-controls-panel{background-color:none}audio[_ngcontent-%COMP%]::-webkit-media-controls-play-button{background-color:#fff3;border-radius:50%}audio[_ngcontent-%COMP%]::-webkit-media-controls-current-time-display, audio[_ngcontent-%COMP%]::-webkit-media-controls-time-remaining-display{color:#000}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to right,#000000b3,#0000001a)}.chosen-song-card-content[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;align-items:center;width:100%;height:100%;padding:15px}.reset-button[_ngcontent-%COMP%]{position:absolute;top:20px;right:10px;background:none;border:none;color:#fff;font-size:1.2rem;cursor:pointer;transition:all .2s ease}.reset-button[_ngcontent-%COMP%]:hover{background:#ffffffb3;color:#000}.album-cover-div[_ngcontent-%COMP%]{height:80px;width:80px;margin-right:15px;overflow:hidden;border-radius:5px}.album-cover-div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover}.chosen-song-details-div[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}.song-title[_ngcontent-%COMP%], .album-name[_ngcontent-%COMP%]{margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.song-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin-bottom:5px}.album-name[_ngcontent-%COMP%]{font-size:14px;font-weight:400}audio[_ngcontent-%COMP%]{display:block;width:100%;max-width:300px;margin-top:10px}.dropdown-parent[_ngcontent-%COMP%]{position:relative;width:100%}.search-input[_ngcontent-%COMP%]{width:100%;padding:15px;border:1px solid rgba(0,0,0,.3);border-radius:10px;font-size:16px;box-sizing:border-box}.search-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;background-color:#f0f8ff;border:1px solid rgba(0,0,0,.1);border-top:none;border-radius:0 0 10px 10px;max-height:200px;overflow-y:auto;z-index:1000;box-shadow:0 4px 6px #0000001a}.dropdown-option[_ngcontent-%COMP%]{padding:10px;transition:.2s ease-in-out;cursor:pointer}.dropdown-option[_ngcontent-%COMP%]:hover{background-color:#5f9ea0;color:#fff}@media (max-width: 768px){.song-slot[_ngcontent-%COMP%]{flex-direction:column;height:auto}.ranking-box[_ngcontent-%COMP%]{width:100%;height:40px;border-right:2px solid rgba(0,0,0,.3);border-bottom:none}.song-content[_ngcontent-%COMP%]{width:100%}.song-search-card[_ngcontent-%COMP%], .chosen-song-card[_ngcontent-%COMP%]{border-radius:0 0 10px 10px}.search-dropdown[_ngcontent-%COMP%]{position:relative;z-index:1000}}"]});let n=t;return n})();function Wd(n,t){if(n&1&&(d(0,"div",8),y(1,"app-top-13-song-slot",9),u()),n&2){let i=t.index;m(),b("slotIndex",i+1)}}var ks=(()=>{let t=class t{constructor(){this.slots=Array(13).fill(0)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=D({type:t,selectors:[["app-top-13-song-slot-list"]],standalone:!0,features:[T],decls:10,vars:1,consts:[[1,"container"],[1,"header-container"],["src","https://d3e29z0m37b0un.cloudfront.net/graphics/bracelets.png","alt","Background Graphic",1,"background-graphic"],[1,"header-div"],[1,"header-title"],[1,"header-sub-title"],[1,"song-slots-list"],["class","song-slot",4,"ngFor","ngForOf"],[1,"song-slot"],[3,"slotIndex"]],template:function(o,r){o&1&&(d(0,"div",0)(1,"div",1),y(2,"img",2),d(3,"div",3)(4,"h1",4),f(5,"My Top 13"),u(),d(6,"h1",5),f(7,"Taylor Swift Songs"),u()()(),d(8,"div",6),w(9,Wd,2,1,"div",7),u()()),o&2&&(m(9),b("ngForOf",r.slots))},dependencies:[R,L,Cs],styles:[".container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.header-container[_ngcontent-%COMP%]{position:relative;width:100%;margin-bottom:30px;overflow:hidden;border-radius:10px}.background-graphic[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:50%;height:100%;object-fit:cover;z-index:1}.header-div[_ngcontent-%COMP%]{background-color:#ffd78c;height:100%;border-radius:10px;z-index:10;display:flex;flex-direction:column;align-items:center;padding:28px 20px 20px}.header-title[_ngcontent-%COMP%]{width:100%;position:relative;z-index:2;color:#000;text-align:left;margin:0 0 10px;font-size:3rem}.header-sub-title[_ngcontent-%COMP%]{width:100%;position:relative;z-index:2;color:#266dd3;text-align:left;margin:0;font-size:3.6rem}.song-slots-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.song-slot[_ngcontent-%COMP%]{width:100%}@media (max-width: 768px){.header-container[_ngcontent-%COMP%]{height:150px}.header-title[_ngcontent-%COMP%]{font-size:1.8rem}.header-sub-title[_ngcontent-%COMP%]{font-size:2.4rem}}"]});let n=t;return n})();function $d(n,t){if(n&1&&(d(0,"option",10),f(1),u()),n&2){let i=t.$implicit;b("value",i),m(),A(i)}}function Yd(n,t){n&1&&(d(0,"div",11),f(1,"Loading..."),u())}function qd(n,t){if(n&1&&(d(0,"div",12),f(1),u()),n&2){let i=k();m(),A(i.loadingError)}}function Gd(n,t){if(n&1&&(d(0,"audio",27),y(1,"source",28),f(2," Your browser does not support the audio element. "),u()),n&2){let i=k().$implicit;m(),b("src",i.audioSource,N)}}function Qd(n,t){if(n&1&&(d(0,"li")(1,"div",23),y(2,"img",24),d(3,"div",25)(4,"h3"),f(5),u()(),w(6,Gd,3,1,"audio",26),u()()),n&2){let i=t.$implicit;m(2),b("src",i.albumImage,N)("alt",i.songTitle+" cover"),m(3),A(i.songTitle),m(),b("ngIf",i.audioSource)}}function Kd(n,t){if(n&1&&(Cn(0),d(1,"ol"),w(2,Qd,7,4,"li",22),u(),kn()),n&2){let i=k(2);m(2),b("ngForOf",i.userProfile.rankings.topThirteen)}}function Zd(n,t){n&1&&(d(0,"p"),f(1,"You haven't chosen your Top 13 songs yet! Visit the Top 13 page to create your list."),u())}function Xd(n,t){if(n&1){let i=E();d(0,"button",29),C("click",function(){P(i);let o=k(2);return S(o.startEditing())}),f(1,"Edit Answers"),u()}}function Jd(n,t){if(n&1){let i=E();d(0,"button",30),C("click",function(){P(i);let o=k(2);return S(o.saveAnswers())}),f(1,"Save Answers"),u()}}function tu(n,t){if(n&1){let i=E();d(0,"div",31)(1,"p",32),f(2),u(),d(3,"div",33),C("blur",function(o){let r=P(i).index,s=k(2);return S(s.updateQuestionAnswer(r,o))}),u()()}if(n&2){let i=t.$implicit,e=k(2);m(2),A(i.question),m(),b("contentEditable",e.isEditing)("innerHTML",i.answer,Zr)}}function eu(n,t){if(n&1&&(d(0,"div",13)(1,"section",14)(2,"h2"),f(3,"My Top 13 Songs"),u(),w(4,Kd,3,1,"ng-container",15)(5,Zd,2,0,"ng-template",null,0,Pn),u(),d(7,"section",16)(8,"div",17)(9,"h2"),f(10,"Swiftie Questionnaire"),u(),d(11,"div"),w(12,Xd,2,0,"button",18)(13,Jd,2,0,"button",19),u()(),d(14,"div",20),w(15,tu,4,3,"div",21),u()()()),n&2){let i=Mn(6),e=k();m(4),b("ngIf",e.userProfile.rankings.topThirteen.length>0)("ngIfElse",i),m(8),b("ngIf",!e.isEditing),m(),b("ngIf",e.isEditing),m(2),b("ngForOf",e.userProfile.profileQuestions)}}var Ms=(()=>{let t=class t{constructor(e,o,r){this.userProfileService=e,this.albumService=o,this.toastr=r,this.userProfile={theme:"",username:"",rankings:{topThirteen:[]},profileQuestions:[]},this.defaultTheme="Fearless",this.defaultQuestions=[{question:"What is your cry in the car song?",answer:"Not answered yet"},{question:"What are your dream surprise songs?",answer:"Not answered yet"},{question:"What album made you a Swiftie?",answer:"Not answered yet"}],this.themes=["Debut","Fearless","Speak Now","Red","1989","Reputation","Lover","Folklore","Evermore","Midnights","The Tortured Poets Department"],this.themeClassMap={Debut:"Debut",Fearless:"Fearless","Speak Now":"SpeakNow",Red:"Red",1989:"_1989",Reputation:"Reputation",Lover:"Lover",Folklore:"Folklore",Evermore:"Evermore",Midnights:"Midnights","The Tortured Poets Department":"TorturedPoets"},this.themeBackgrounds={Debut:"https://d3e29z0m37b0un.cloudfront.net/profile+backgrounds/debut-profile-bg.jpeg",Fearless:"https://d3e29z0m37b0un.cloudfront.net/profile+backgrounds/fearless-profile-bg.jpeg","Speak Now":"https://d3e29z0m37b0un.cloudfront.net/profile+backgrounds/speak-now-profile-bg.jpeg",Red:"https://d3e29z0m37b0un.cloudfront.net/profile+backgrounds/red-profile-bg.jpeg",1989:"https://d3e29z0m37b0un.cloudfront.net/profile+backgrounds/1989-profile-bg.jpeg",Reputation:"https://d3e29z0m37b0un.cloudfront.net/profile+backgrounds/rep-profile-bg.jpeg",Lover:"https://d3e29z0m37b0un.cloudfront.net/profile+backgrounds/lover-profile-bg.jpeg",Folklore:"https://d3e29z0m37b0un.cloudfront.net/profile+backgrounds/folklore-profile-bg.jpeg",Evermore:"https://d3e29z0m37b0un.cloudfront.net/profile+backgrounds/evermore-profile-bg.jpeg",Midnights:"https://d3e29z0m37b0un.cloudfront.net/profile+backgrounds/midnights-profile-bg.jpeg","The Tortured Poets Department":"https://d3e29z0m37b0un.cloudfront.net/profile+backgrounds/ttpd-profile-bg.jpeg"},this.questions=["What album made you a Swiftie?","What are your dream surprise songs? (Mashups allowed!)","What song would you play first for a non-swiftie?","What would be your cry in the car song?","Which song makes you have a dance party in your room?","Which song would you want to walk down the aisle to?","Hot take: What are three songs you usually skip?","Which Eras Tour set is your favorite?","Which album cover is your favorite?","What song has your favorite bridge?","What song has your favorite chorus?","What is your favorite lyric from any song?","Dream artist collaboration with Taylor?"],this.isLoading=!1,this.loadingError=null,this.isEditing=!1}ngOnInit(){this.loadUserProfile(),this.disableAudioRightClick()}loadUserProfile(){this.isLoading=!0,this.loadingError=null,this.userProfileService.getUserProfile().subscribe(e=>{console.log("Received profile:",e),this.userProfile=this.setDefaultsIfNeeded(e),console.log("Profile after setDefaultsIfNeeded:",this.userProfile),this.loadTopThirteenDetails()},e=>{console.error("Error loading user profile",e),this.loadingError="Failed to load user profile. Please try again.",this.isLoading=!1})}setDefaultsIfNeeded(e){return e?K(Y({},e),{theme:e.theme||this.defaultTheme,rankings:e.rankings||{topThirteen:[]},profileQuestions:this.questions.map(o=>e.profileQuestions?.find(s=>s.question===o)||{question:o,answer:""})}):{username:"New Swiftie",theme:this.defaultTheme,rankings:{topThirteen:[]},profileQuestions:this.questions.map(o=>({question:o,answer:""}))}}loadTopThirteenDetails(){if(console.log("Entering loadTopThirteenDetails"),this.userProfile.rankings&&this.userProfile.rankings.topThirteen&&this.userProfile.rankings.topThirteen.length>0){let e=this.userProfile.rankings.topThirteen.map(o=>this.albumService.getSongById(o.songId));Wr(e).subscribe(o=>{this.userProfile.rankings.topThirteen=this.userProfile.rankings.topThirteen.map((r,s)=>{let a=o[s];return K(Y({},r),{albumImage:a.albumImageSource,audioSource:a.audioSource})}),this.userProfile.rankings.topThirteen.sort((r,s)=>r.slot-s.slot),this.isLoading=!1},o=>{console.error("Error loading song details",o),this.loadingError="Failed to load song details. Please try again.",this.isLoading=!1})}else console.log("No top thirteen songs, setting isLoading to false"),this.isLoading=!1}disableAudioRightClick(){document.addEventListener("contextmenu",e=>{e.target instanceof HTMLElement&&e.target.tagName==="AUDIO"&&e.preventDefault()},!1)}getThemeClass(){return this.themeClassMap[this.userProfile?.theme]||""}getThemeBackground(){return this.userProfile?.theme?this.themeBackgrounds[this.userProfile.theme]:""}startEditing(){this.isEditing=!0}saveAnswers(){this.isEditing=!1,this.updateProfileQuestions()}updateTheme(e){this.userProfile&&(this.userProfile.theme=e,this.userProfileService.updateTheme(e).subscribe(()=>this.loadUserProfile(),o=>console.error("Error updating theme",o)))}updateProfileQuestions(){this.userProfile&&this.userProfile.profileQuestions&&this.userProfileService.updateProfileQuestions(this.userProfile.profileQuestions).subscribe(()=>this.loadUserProfile(),e=>console.error("Error updating profile questions",e))}updateQuestionAnswer(e,o){let r=o.target?.textContent??"";this.userProfile.profileQuestions||(this.userProfile.profileQuestions=[]),this.userProfile.profileQuestions[e]||(this.userProfile.profileQuestions[e]={question:this.questions[e],answer:""}),this.userProfile.profileQuestions[e].answer=r||""}isProfileShareable(){let e=this.userProfile.rankings.topThirteen.length>0,o=this.userProfile.profileQuestions.some(r=>r.answer&&r.answer!=="");return e&&o}shareProfile(){if(!this.isProfileShareable()){this.toastr.warning("Please add at least one song to your Top 13 and answer at least one question before sharing your profile.","Cannot Share Yet",{timeOut:5e3});return}let e=`${window.location.origin}/public-profile/${this.userProfile.username}`;navigator.clipboard.writeText(e).then(()=>{this.toastr.success("Profile link copied to clipboard!","Success",{timeOut:3e3})},o=>{this.toastr.error("Could not copy profile link","Error",{timeOut:3e3})})}};t.\u0275fac=function(o){return new(o||t)(x(Ci),x(H),x(de))},t.\u0275cmp=D({type:t,selectors:[["app-user-profile"]],standalone:!0,features:[T],decls:15,vars:10,consts:[["noTopThirteen",""],[1,"user-profile",3,"ngClass"],[1,"share-btn",3,"click","disabled"],[1,"theme-selector"],["for","theme"],["id","theme",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","loading",4,"ngIf"],["class","error",4,"ngIf"],["class","profile-content",4,"ngIf"],[3,"value"],[1,"loading"],[1,"error"],[1,"profile-content"],[1,"top-13-list"],[4,"ngIf","ngIfElse"],[1,"questionnaire"],[1,"btn-container"],["class","edit-button",3,"click",4,"ngIf"],["class","save-button",3,"click",4,"ngIf"],[1,"question-list"],["class","question-item",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"song-item"],[1,"album-cover",3,"src","alt"],[1,"song-details"],["controls","","controlsList","nodownload",4,"ngIf"],["controls","","controlsList","nodownload"],["type","audio/mpeg",3,"src"],[1,"edit-button",3,"click"],[1,"save-button",3,"click"],[1,"question-item"],[1,"question"],[1,"answer",3,"blur","contentEditable","innerHTML"]],template:function(o,r){o&1&&(d(0,"div",1)(1,"header")(2,"div")(3,"h1"),f(4),u(),d(5,"button",2),C("click",function(){return r.shareProfile()}),f(6,"Share My Profile"),u()(),d(7,"div",3)(8,"label",4),f(9,"Choose your profile theme:"),u(),d(10,"select",5),Yt("ngModelChange",function(a){return $t(r.userProfile.theme,a)||(r.userProfile.theme=a),a}),C("ngModelChange",function(a){return r.updateTheme(a)}),w(11,$d,2,2,"option",6),u()()(),w(12,Yd,2,0,"div",7)(13,qd,2,1,"div",8)(14,eu,16,5,"div",9),u()),o&2&&(yn("background-image","url("+r.getThemeBackground()+")"),b("ngClass",r.getThemeClass()),m(4),j("Welcome, ",r.userProfile.username||"New Swiftie","!"),m(),b("disabled",!r.isProfileShareable()),m(5),Ut("ngModel",r.userProfile.theme),m(),b("ngForOf",r.themes),m(),b("ngIf",r.isLoading),m(),b("ngIf",r.loadingError),m(),b("ngIf",!r.isLoading&&!r.loadingError))},dependencies:[R,ns,L,Tt,yi,xi,vi,bi,ue,Qe,Ge],styles:['@font-face{font-family:Caveat;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/caveat/v18/WnznHAc5bAfYB2QRah7pcpNvOx-pjfJ9eIipYSxP.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Caveat;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/caveat/v18/WnznHAc5bAfYB2QRah7pcpNvOx-pjfJ9eIGpYSxP.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Caveat;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/caveat/v18/WnznHAc5bAfYB2QRah7pcpNvOx-pjfJ9eIupYSxP.woff2) format("woff2");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Caveat;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/caveat/v18/WnznHAc5bAfYB2QRah7pcpNvOx-pjfJ9eIWpYQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}.toast-center-center[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}.toast-top-center[_ngcontent-%COMP%]{top:0;right:0;width:100%}.toast-bottom-center[_ngcontent-%COMP%]{bottom:0;right:0;width:100%}.toast-top-full-width[_ngcontent-%COMP%]{top:0;right:0;width:100%}.toast-bottom-full-width[_ngcontent-%COMP%]{bottom:0;right:0;width:100%}.toast-top-left[_ngcontent-%COMP%]{top:12px;left:12px}.toast-top-right[_ngcontent-%COMP%]{top:12px;right:12px}.toast-bottom-right[_ngcontent-%COMP%]{right:12px;bottom:12px}.toast-bottom-left[_ngcontent-%COMP%]{bottom:12px;left:12px}.toast-title[_ngcontent-%COMP%]{font-weight:700}.toast-message[_ngcontent-%COMP%]{word-wrap:break-word}.toast-message[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .toast-message[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.toast-message[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ccc;text-decoration:none}.toast-close-button[_ngcontent-%COMP%]{position:relative;right:-.3em;top:-.3em;float:right;font-size:20px;font-weight:700;color:#fff;text-shadow:0 1px 0 #ffffff}.toast-close-button[_ngcontent-%COMP%]:hover, .toast-close-button[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer;opacity:.4}button.toast-close-button[_ngcontent-%COMP%]{padding:0;cursor:pointer;background:transparent;border:0}.toast-container[_ngcontent-%COMP%]{pointer-events:none;position:fixed;z-index:999999}.toast-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}.toast-container[_ngcontent-%COMP%]   .ngx-toastr[_ngcontent-%COMP%]{position:relative;overflow:hidden;margin:0 0 6px;padding:15px 15px 15px 50px;width:300px;border-radius:3px;background-position:15px center;background-repeat:no-repeat;background-size:24px;box-shadow:0 0 12px #999;color:#fff}.toast-container[_ngcontent-%COMP%]   .ngx-toastr[_ngcontent-%COMP%]:hover{box-shadow:0 0 12px #000;opacity:1;cursor:pointer}.toast-info[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCA1MTIgNTEyJyB3aWR0aD0nNTEyJyBoZWlnaHQ9JzUxMic+PHBhdGggZmlsbD0ncmdiKDI1NSwyNTUsMjU1KScgZD0nTTI1NiA4QzExOS4wNDMgOCA4IDExOS4wODMgOCAyNTZjMCAxMzYuOTk3IDExMS4wNDMgMjQ4IDI0OCAyNDhzMjQ4LTExMS4wMDMgMjQ4LTI0OEM1MDQgMTE5LjA4MyAzOTIuOTU3IDggMjU2IDh6bTAgMTEwYzIzLjE5NiAwIDQyIDE4LjgwNCA0MiA0MnMtMTguODA0IDQyLTQyIDQyLTQyLTE4LjgwNC00Mi00MiAxOC44MDQtNDIgNDItNDJ6bTU2IDI1NGMwIDYuNjI3LTUuMzczIDEyLTEyIDEyaC04OGMtNi42MjcgMC0xMi01LjM3My0xMi0xMnYtMjRjMC02LjYyNyA1LjM3My0xMiAxMi0xMmgxMnYtNjRoLTEyYy02LjYyNyAwLTEyLTUuMzczLTEyLTEydi0yNGMwLTYuNjI3IDUuMzczLTEyIDEyLTEyaDY0YzYuNjI3IDAgMTIgNS4zNzMgMTIgMTJ2MTAwaDEyYzYuNjI3IDAgMTIgNS4zNzMgMTIgMTJ2MjR6Jy8+PC9zdmc+)}.toast-error[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCA1MTIgNTEyJyB3aWR0aD0nNTEyJyBoZWlnaHQ9JzUxMic+PHBhdGggZmlsbD0ncmdiKDI1NSwyNTUsMjU1KScgZD0nTTI1NiA4QzExOSA4IDggMTE5IDggMjU2czExMSAyNDggMjQ4IDI0OCAyNDgtMTExIDI0OC0yNDhTMzkzIDggMjU2IDh6bTEyMS42IDMxMy4xYzQuNyA0LjcgNC43IDEyLjMgMCAxN0wzMzggMzc3LjZjLTQuNyA0LjctMTIuMyA0LjctMTcgMEwyNTYgMzEybC02NS4xIDY1LjZjLTQuNyA0LjctMTIuMyA0LjctMTcgMEwxMzQuNCAzMzhjLTQuNy00LjctNC43LTEyLjMgMC0xN2w2NS42LTY1LTY1LjYtNjUuMWMtNC43LTQuNy00LjctMTIuMyAwLTE3bDM5LjYtMzkuNmM0LjctNC43IDEyLjMtNC43IDE3IDBsNjUgNjUuNyA2NS4xLTY1LjZjNC43LTQuNyAxMi4zLTQuNyAxNyAwbDM5LjYgMzkuNmM0LjcgNC43IDQuNyAxMi4zIDAgMTdMMzEyIDI1Nmw2NS42IDY1LjF6Jy8+PC9zdmc+)}.toast-success[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCA1MTIgNTEyJyB3aWR0aD0nNTEyJyBoZWlnaHQ9JzUxMic+PHBhdGggZmlsbD0ncmdiKDI1NSwyNTUsMjU1KScgZD0nTTE3My44OTggNDM5LjQwNGwtMTY2LjQtMTY2LjRjLTkuOTk3LTkuOTk3LTkuOTk3LTI2LjIwNiAwLTM2LjIwNGwzNi4yMDMtMzYuMjA0YzkuOTk3LTkuOTk4IDI2LjIwNy05Ljk5OCAzNi4yMDQgMEwxOTIgMzEyLjY5IDQzMi4wOTUgNzIuNTk2YzkuOTk3LTkuOTk3IDI2LjIwNy05Ljk5NyAzNi4yMDQgMGwzNi4yMDMgMzYuMjA0YzkuOTk3IDkuOTk3IDkuOTk3IDI2LjIwNiAwIDM2LjIwNGwtMjk0LjQgMjk0LjQwMWMtOS45OTggOS45OTctMjYuMjA3IDkuOTk3LTM2LjIwNC0uMDAxeicvPjwvc3ZnPg==)}.toast-warning[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCA1NzYgNTEyJyB3aWR0aD0nNTc2JyBoZWlnaHQ9JzUxMic+PHBhdGggZmlsbD0ncmdiKDI1NSwyNTUsMjU1KScgZD0nTTU2OS41MTcgNDQwLjAxM0M1ODcuOTc1IDQ3Mi4wMDcgNTY0LjgwNiA1MTIgNTI3Ljk0IDUxMkg0OC4wNTRjLTM2LjkzNyAwLTU5Ljk5OS00MC4wNTUtNDEuNTc3LTcxLjk4N0wyNDYuNDIzIDIzLjk4NWMxOC40NjctMzIuMDA5IDY0LjcyLTMxLjk1MSA4My4xNTQgMGwyMzkuOTQgNDE2LjAyOHpNMjg4IDM1NGMtMjUuNDA1IDAtNDYgMjAuNTk1LTQ2IDQ2czIwLjU5NSA0NiA0NiA0NiA0Ni0yMC41OTUgNDYtNDYtMjAuNTk1LTQ2LTQ2LTQ2em0tNDMuNjczLTE2NS4zNDZsNy40MTggMTM2Yy4zNDcgNi4zNjQgNS42MDkgMTEuMzQ2IDExLjk4MiAxMS4zNDZoNDguNTQ2YzYuMzczIDAgMTEuNjM1LTQuOTgyIDExLjk4Mi0xMS4zNDZsNy40MTgtMTM2Yy4zNzUtNi44NzQtNS4wOTgtMTIuNjU0LTExLjk4Mi0xMi42NTRoLTYzLjM4M2MtNi44ODQgMC0xMi4zNTYgNS43OC0xMS45ODEgMTIuNjU0eicvPjwvc3ZnPg==)}.toast-container.toast-top-center[_ngcontent-%COMP%]   .ngx-toastr[_ngcontent-%COMP%], .toast-container.toast-bottom-center[_ngcontent-%COMP%]   .ngx-toastr[_ngcontent-%COMP%]{width:300px;margin-left:auto;margin-right:auto}.toast-container.toast-top-full-width[_ngcontent-%COMP%]   .ngx-toastr[_ngcontent-%COMP%], .toast-container.toast-bottom-full-width[_ngcontent-%COMP%]   .ngx-toastr[_ngcontent-%COMP%]{width:96%;margin-left:auto;margin-right:auto}.ngx-toastr[_ngcontent-%COMP%]{background-color:#030303;pointer-events:auto}.toast-success[_ngcontent-%COMP%]{background-color:#51a351}.toast-error[_ngcontent-%COMP%]{background-color:#bd362f}.toast-info[_ngcontent-%COMP%]{background-color:#2f96b4}.toast-warning[_ngcontent-%COMP%]{background-color:#f89406}.toast-progress[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;height:4px;background-color:#000;opacity:.4}@media all and (max-width: 240px){.toast-container[_ngcontent-%COMP%]   .ngx-toastr.div[_ngcontent-%COMP%]{padding:8px 8px 8px 50px;width:11em}.toast-container[_ngcontent-%COMP%]   .toast-close-button[_ngcontent-%COMP%]{right:-.2em;top:-.2em}}@media all and (min-width: 241px) and (max-width: 480px){.toast-container[_ngcontent-%COMP%]   .ngx-toastr.div[_ngcontent-%COMP%]{padding:8px 8px 8px 50px;width:18em}.toast-container[_ngcontent-%COMP%]   .toast-close-button[_ngcontent-%COMP%]{right:-.2em;top:-.2em}}@media all and (min-width: 481px) and (max-width: 768px){.toast-container[_ngcontent-%COMP%]   .ngx-toastr.div[_ngcontent-%COMP%]{padding:15px 15px 15px 50px;width:25em}}.user-profile[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:20px;font-family:inherit,sans-serif;transition:all .3s ease;background-size:cover;background-position:center;background-attachment:fixed;position:relative}.user-profile[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;opacity:.8;z-index:0}.user-profile[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;z-index:1}.user-profile[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px}.user-profile[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:10px}.user-profile[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .theme-selector[_ngcontent-%COMP%]{display:flex;flex-direction:column}.user-profile[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .theme-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:10px}.user-profile[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .theme-selector[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border-radius:10px;padding:5px;font-size:1rem}.user-profile[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .share-btn[_ngcontent-%COMP%]{padding:calc(var(--padding-base) * .5) var(--padding-base);background-color:var(--secondary-color);color:var(--text-color);border:none;border-radius:4px;cursor:pointer;transition:background-color .2s ease-in-out;font-size:1rem}.user-profile[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .share-btn[_ngcontent-%COMP%]:hover{background-color:var(--hover-color)}.user-profile[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .share-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.user-profile[_ngcontent-%COMP%]   .profile-content[_ngcontent-%COMP%]{display:flex;gap:30px}@media (max-width: 768px){.user-profile[_ngcontent-%COMP%]   .profile-content[_ngcontent-%COMP%]{flex-direction:column}}.user-profile[_ngcontent-%COMP%]   .top-13-list[_ngcontent-%COMP%], .user-profile[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]{flex:1}.user-profile[_ngcontent-%COMP%]   .top-13-list[_ngcontent-%COMP%]{background-color:#fff9;padding:25px;border-radius:10px;align-self:flex-start}.user-profile[_ngcontent-%COMP%]   .top-13-list[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0}.user-profile[_ngcontent-%COMP%]   .top-13-list[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{padding-left:10px}.user-profile[_ngcontent-%COMP%]   .top-13-list[_ngcontent-%COMP%]   audio[_ngcontent-%COMP%]{width:200px;height:30px;background-color:#ffffff1a;border-radius:15px;outline:1px solid white}.user-profile[_ngcontent-%COMP%]   .top-13-list[_ngcontent-%COMP%]   audio[_ngcontent-%COMP%]::-webkit-media-controls-panel{background-color:none}.user-profile[_ngcontent-%COMP%]   .top-13-list[_ngcontent-%COMP%]   audio[_ngcontent-%COMP%]::-webkit-media-controls-play-button{background-color:#fff3;border-radius:50%}.user-profile[_ngcontent-%COMP%]   .top-13-list[_ngcontent-%COMP%]   audio[_ngcontent-%COMP%]::-webkit-media-controls-current-time-display, .user-profile[_ngcontent-%COMP%]   .top-13-list[_ngcontent-%COMP%]   audio[_ngcontent-%COMP%]::-webkit-media-controls-time-remaining-display{color:#000}.user-profile[_ngcontent-%COMP%]   .top-13-list[_ngcontent-%COMP%]   .song-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px}.user-profile[_ngcontent-%COMP%]   .top-13-list[_ngcontent-%COMP%]   .song-item[_ngcontent-%COMP%]   .album-cover[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:cover;margin-right:15px}.user-profile[_ngcontent-%COMP%]   .top-13-list[_ngcontent-%COMP%]   .song-item[_ngcontent-%COMP%]   .song-details[_ngcontent-%COMP%]{flex:1}.user-profile[_ngcontent-%COMP%]   .top-13-list[_ngcontent-%COMP%]   .song-item[_ngcontent-%COMP%]   .song-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 5px}.user-profile[_ngcontent-%COMP%]   .top-13-list[_ngcontent-%COMP%]   .song-item[_ngcontent-%COMP%]   .song-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-style:italic}.user-profile[_ngcontent-%COMP%]   .top-13-list[_ngcontent-%COMP%]   .song-item[_ngcontent-%COMP%]   audio[_ngcontent-%COMP%]{width:200px}.user-profile[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]{font-family:Caveat,cursive;background-color:#fff9;padding:20px;border-radius:10px}.user-profile[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.user-profile[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:3em;margin-top:0;margin-bottom:0}.user-profile[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .question-list[_ngcontent-%COMP%]   .question-item[_ngcontent-%COMP%]{margin-bottom:20px}.user-profile[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .question-list[_ngcontent-%COMP%]   .question-item[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{font-size:2em;margin-bottom:5px;font-weight:600;transition:color .3s}.user-profile[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .question-list[_ngcontent-%COMP%]   .question-item[_ngcontent-%COMP%]   .answer[_ngcontent-%COMP%]{font-size:1.8em;min-height:30px;border-bottom:1px dashed #ccc;padding:5px;transition:background-color .3s}.user-profile[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .question-list[_ngcontent-%COMP%]   .question-item[_ngcontent-%COMP%]   .answer[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.user-profile[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .question-list[_ngcontent-%COMP%]   .question-item[_ngcontent-%COMP%]   .answer[contenteditable=true][_ngcontent-%COMP%]{background-color:#fff3;outline:none}.user-profile[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%], .user-profile[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{background-color:transparent;border:2px solid #515151;color:#515151;padding:5px 10px;font-family:Caveat,cursive;font-size:1.3em;cursor:pointer;transition:all .3s;border-radius:5px}.user-profile[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:hover, .user-profile[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:hover{background-color:#fff6}.user-profile.Debut[_ngcontent-%COMP%]:before{background-color:#52fda4b3}.user-profile.Fearless[_ngcontent-%COMP%]:before{background-color:#fff9c4b3}.user-profile.SpeakNow[_ngcontent-%COMP%]:before{background-color:#be35d6b3}.user-profile.Red[_ngcontent-%COMP%]:before{background-color:#960c0cb3}.user-profile._1989[_ngcontent-%COMP%]:before{background-color:#b3e5fcb3}.user-profile.Reputation[_ngcontent-%COMP%]:before{background-color:#2a2a2ab3}.user-profile.Lover[_ngcontent-%COMP%]:before{background-color:#ffbaf9b3}.user-profile.Folklore[_ngcontent-%COMP%]:before{background-color:#f5f5f5b3}.user-profile.Evermore[_ngcontent-%COMP%]:before{background-color:#db861eb3}.user-profile.Midnights[_ngcontent-%COMP%]:before{background-color:#191970b3}.user-profile.TorturedPoets[_ngcontent-%COMP%]:before{background-color:#e3e0c8}.user-profile.Debut[_ngcontent-%COMP%]{color:#161c19}.user-profile.Debut[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{color:#2474a5}.user-profile.Fearless[_ngcontent-%COMP%]{color:#232323}.user-profile.Fearless[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{color:#cbb50e}.user-profile.SpeakNow[_ngcontent-%COMP%]{color:#202020}.user-profile.SpeakNow[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{color:#5e039f}.user-profile.SpeakNow[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .user-profile.SpeakNow[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.user-profile.Red[_ngcontent-%COMP%]{color:#280909}.user-profile.Red[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{color:#b31800}.user-profile.Red[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .user-profile.Red[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.user-profile._1989[_ngcontent-%COMP%]{color:#202020}.user-profile._1989[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{color:#00ced1}.user-profile.Reputation[_ngcontent-%COMP%]{color:#202020}.user-profile.Reputation[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{color:#325e34}.user-profile.Reputation[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .user-profile.Reputation[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.user-profile.Lover[_ngcontent-%COMP%]{color:#202020}.user-profile.Lover[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{color:#ff69b4}.user-profile.Folklore[_ngcontent-%COMP%]{color:#202020}.user-profile.Folklore[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{color:#708090}.user-profile.Evermore[_ngcontent-%COMP%]{color:#272727}.user-profile.Evermore[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{color:#8b4513}.user-profile.Midnights[_ngcontent-%COMP%]{color:#202020}.user-profile.Midnights[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{color:#3f4ffd}.user-profile.Midnights[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .user-profile.Midnights[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.user-profile.TorturedPoets[_ngcontent-%COMP%]{color:#202020}.user-profile.TorturedPoets[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{color:#686868}']});let n=t;return n})();function En(n){return n+.5|0}var he=(n,t,i)=>Math.max(Math.min(n,i),t);function Dn(n){return he(En(n*2.55),0,255)}function ge(n){return he(En(n*255),0,255)}function ee(n){return he(En(n/2.55)/100,0,1)}function ws(n){return he(En(n*100),0,100)}var Ft={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ro=[..."0123456789ABCDEF"],nu=n=>Ro[n&15],iu=n=>Ro[(n&240)>>4]+Ro[n&15],ki=n=>(n&240)>>4===(n&15),ou=n=>ki(n.r)&&ki(n.g)&&ki(n.b)&&ki(n.a);function ru(n){var t=n.length,i;return n[0]==="#"&&(t===4||t===5?i={r:255&Ft[n[1]]*17,g:255&Ft[n[2]]*17,b:255&Ft[n[3]]*17,a:t===5?Ft[n[4]]*17:255}:(t===7||t===9)&&(i={r:Ft[n[1]]<<4|Ft[n[2]],g:Ft[n[3]]<<4|Ft[n[4]],b:Ft[n[5]]<<4|Ft[n[6]],a:t===9?Ft[n[7]]<<4|Ft[n[8]]:255})),i}var su=(n,t)=>n<255?t(n):"";function au(n){var t=ou(n)?nu:iu;return n?"#"+t(n.r)+t(n.g)+t(n.b)+su(n.a,t):void 0}var lu=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ds(n,t,i){let e=t*Math.min(i,1-i),o=(r,s=(r+n/30)%12)=>i-e*Math.max(Math.min(s-3,9-s,1),-1);return[o(0),o(8),o(4)]}function cu(n,t,i){let e=(o,r=(o+n/60)%6)=>i-i*t*Math.max(Math.min(r,4-r,1),0);return[e(5),e(3),e(1)]}function du(n,t,i){let e=Ds(n,1,.5),o;for(t+i>1&&(o=1/(t+i),t*=o,i*=o),o=0;o<3;o++)e[o]*=1-t-i,e[o]+=t;return e}function uu(n,t,i,e,o){return n===o?(t-i)/e+(t<i?6:0):t===o?(i-n)/e+2:(n-t)/e+4}function Ao(n){let i=n.r/255,e=n.g/255,o=n.b/255,r=Math.max(i,e,o),s=Math.min(i,e,o),a=(r+s)/2,l,c,h;return r!==s&&(h=r-s,c=a>.5?h/(2-r-s):h/(r+s),l=uu(i,e,o,h,r),l=l*60+.5),[l|0,c||0,a]}function Lo(n,t,i,e){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,i,e)).map(ge)}function Fo(n,t,i){return Lo(Ds,n,t,i)}function hu(n,t,i){return Lo(du,n,t,i)}function gu(n,t,i){return Lo(cu,n,t,i)}function Ts(n){return(n%360+360)%360}function fu(n){let t=lu.exec(n),i=255,e;if(!t)return;t[5]!==e&&(i=t[6]?Dn(+t[5]):ge(+t[5]));let o=Ts(+t[2]),r=+t[3]/100,s=+t[4]/100;return t[1]==="hwb"?e=hu(o,r,s):t[1]==="hsv"?e=gu(o,r,s):e=Fo(o,r,s),{r:e[0],g:e[1],b:e[2],a:i}}function pu(n,t){var i=Ao(n);i[0]=Ts(i[0]+t),i=Fo(i),n.r=i[0],n.g=i[1],n.b=i[2]}function mu(n){if(!n)return;let t=Ao(n),i=t[0],e=ws(t[1]),o=ws(t[2]);return n.a<255?`hsla(${i}, ${e}%, ${o}%, ${ee(n.a)})`:`hsl(${i}, ${e}%, ${o}%)`}var Ps={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ss={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function _u(){let n={},t=Object.keys(Ss),i=Object.keys(Ps),e,o,r,s,a;for(e=0;e<t.length;e++){for(s=a=t[e],o=0;o<i.length;o++)r=i[o],a=a.replace(r,Ps[r]);r=parseInt(Ss[s],16),n[a]=[r>>16&255,r>>8&255,r&255]}return n}var Mi;function bu(n){Mi||(Mi=_u(),Mi.transparent=[0,0,0,0]);let t=Mi[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}var xu=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function vu(n){let t=xu.exec(n),i=255,e,o,r;if(t){if(t[7]!==e){let s=+t[7];i=t[8]?Dn(s):he(s*255,0,255)}return e=+t[1],o=+t[3],r=+t[5],e=255&(t[2]?Dn(e):he(e,0,255)),o=255&(t[4]?Dn(o):he(o,0,255)),r=255&(t[6]?Dn(r):he(r,0,255)),{r:e,g:o,b:r,a:i}}}function yu(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${ee(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}var Io=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Ke=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Cu(n,t,i){let e=Ke(ee(n.r)),o=Ke(ee(n.g)),r=Ke(ee(n.b));return{r:ge(Io(e+i*(Ke(ee(t.r))-e))),g:ge(Io(o+i*(Ke(ee(t.g))-o))),b:ge(Io(r+i*(Ke(ee(t.b))-r))),a:n.a+i*(t.a-n.a)}}function wi(n,t,i){if(n){let e=Ao(n);e[t]=Math.max(0,Math.min(e[t]+e[t]*i,t===0?360:1)),e=Fo(e),n.r=e[0],n.g=e[1],n.b=e[2]}}function Es(n,t){return n&&Object.assign(t||{},n)}function Os(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=ge(n[3]))):(t=Es(n,{r:0,g:0,b:0,a:1}),t.a=ge(t.a)),t}function ku(n){return n.charAt(0)==="r"?vu(n):fu(n)}var Tn=class n{constructor(t){if(t instanceof n)return t;let i=typeof t,e;i==="object"?e=Os(t):i==="string"&&(e=ru(t)||bu(t)||ku(t)),this._rgb=e,this._valid=!!e}get valid(){return this._valid}get rgb(){var t=Es(this._rgb);return t&&(t.a=ee(t.a)),t}set rgb(t){this._rgb=Os(t)}rgbString(){return this._valid?yu(this._rgb):void 0}hexString(){return this._valid?au(this._rgb):void 0}hslString(){return this._valid?mu(this._rgb):void 0}mix(t,i){if(t){let e=this.rgb,o=t.rgb,r,s=i===r?.5:i,a=2*s-1,l=e.a-o.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,e.r=255&c*e.r+r*o.r+.5,e.g=255&c*e.g+r*o.g+.5,e.b=255&c*e.b+r*o.b+.5,e.a=s*e.a+(1-s)*o.a,this.rgb=e}return this}interpolate(t,i){return t&&(this._rgb=Cu(this._rgb,t._rgb,i)),this}clone(){return new n(this.rgb)}alpha(t){return this._rgb.a=ge(t),this}clearer(t){let i=this._rgb;return i.a*=1-t,this}greyscale(){let t=this._rgb,i=En(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=i,this}opaquer(t){let i=this._rgb;return i.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return wi(this._rgb,2,t),this}darken(t){return wi(this._rgb,2,-t),this}saturate(t){return wi(this._rgb,1,t),this}desaturate(t){return wi(this._rgb,1,-t),this}rotate(t){return pu(this._rgb,t),this}};var Ns=(()=>{let n=0;return()=>n++})();function lt(n){return n===null||typeof n>"u"}function ft(n){if(Array.isArray&&Array.isArray(n))return!0;let t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function W(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function vt(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Et(n,t){return vt(n)?n:t}function gt(n,t){return typeof n>"u"?t:n}var js=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ct(n,t,i){if(n&&typeof n.call=="function")return n.apply(i,t)}function kt(n,t,i,e){let o,r,s;if(ft(n))if(r=n.length,e)for(o=r-1;o>=0;o--)t.call(i,n[o],o);else for(o=0;o<r;o++)t.call(i,n[o],o);else if(W(n))for(s=Object.keys(n),r=s.length,o=0;o<r;o++)t.call(i,n[s[o]],s[o])}function Bo(n,t){let i,e,o,r;if(!n||!t||n.length!==t.length)return!1;for(i=0,e=n.length;i<e;++i)if(o=n[i],r=t[i],o.datasetIndex!==r.datasetIndex||o.index!==r.index)return!1;return!0}function Oi(n){if(ft(n))return n.map(Oi);if(W(n)){let t=Object.create(null),i=Object.keys(n),e=i.length,o=0;for(;o<e;++o)t[i[o]]=Oi(n[i[o]]);return t}return n}function Bs(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Mu(n,t,i,e){if(!Bs(n))return;let o=t[n],r=i[n];W(o)&&W(r)?Xe(o,r,e):t[n]=Oi(r)}function Xe(n,t,i){let e=ft(t)?t:[t],o=e.length;if(!W(n))return n;i=i||{};let r=i.merger||Mu,s;for(let a=0;a<o;++a){if(s=e[a],!W(s))continue;let l=Object.keys(s);for(let c=0,h=l.length;c<h;++c)r(l[c],n,s,i)}return n}function Je(n,t){return Xe(n,t,{merger:wu})}function wu(n,t,i){if(!Bs(n))return;let e=t[n],o=i[n];W(e)&&W(o)?Je(e,o):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Oi(o))}var Is={"":n=>n,x:n=>n.x,y:n=>n.y};function Pu(n){let t=n.split("."),i=[],e="";for(let o of t)e+=o,e.endsWith("\\")?e=e.slice(0,-1)+".":(i.push(e),e="");return i}function Su(n){let t=Pu(n);return i=>{for(let e of t){if(e==="")break;i=i&&i[e]}return i}}function An(n,t){return(Is[t]||(Is[t]=Su(t)))(n)}function Ei(n){return n.charAt(0).toUpperCase()+n.slice(1)}var Ln=n=>typeof n<"u",ne=n=>typeof n=="function",Vo=(n,t)=>{if(n.size!==t.size)return!1;for(let i of n)if(!t.has(i))return!1;return!0};function Vs(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}var wt=Math.PI,qt=2*wt,J_=qt+wt,Di=Number.POSITIVE_INFINITY,tb=wt/180,Gt=wt/2,eb=wt/4,nb=wt*2/3,ie=Math.log10,Fn=Math.sign;function zn(n,t,i){return Math.abs(n-t)<i}function Ho(n){let t=Math.round(n);n=zn(n,t,n/1e3)?t:n;let i=Math.pow(10,Math.floor(ie(n))),e=n/i;return(e<=1?1:e<=2?2:e<=5?5:10)*i}function Hs(n){let t=[],i=Math.sqrt(n),e;for(e=1;e<i;e++)n%e===0&&(t.push(e),t.push(n/e));return i===(i|0)&&t.push(i),t.sort((o,r)=>o-r).pop(),t}function Nn(n){return!isNaN(parseFloat(n))&&isFinite(n)}function Ws(n,t){let i=Math.round(n);return i-t<=n&&i+t>=n}function Wo(n,t,i){let e,o,r;for(e=0,o=n.length;e<o;e++)r=n[e][i],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function oe(n){return n*(wt/180)}function Ii(n){return n*(180/wt)}function Uo(n){if(!vt(n))return;let t=1,i=0;for(;Math.round(n*t)/t!==n;)t*=10,i++;return i}function Us(n,t){let i=t.x-n.x,e=t.y-n.y,o=Math.sqrt(i*i+e*e),r=Math.atan2(e,i);return r<-.5*wt&&(r+=qt),{angle:r,distance:o}}function jt(n){return(n%qt+qt)%qt}function $s(n,t,i,e){let o=jt(n),r=jt(t),s=jt(i),a=jt(r-o),l=jt(s-o),c=jt(o-r),h=jt(o-s);return o===r||o===s||e&&r===s||a>l&&c<h}function fe(n,t,i){return Math.max(t,Math.min(i,n))}function Ys(n){return fe(n,-32768,32767)}function Ri(n,t,i){i=i||(s=>n[s]<t);let e=n.length-1,o=0,r;for(;e-o>1;)r=o+e>>1,i(r)?o=r:e=r;return{lo:o,hi:e}}var Ai=(n,t,i,e)=>Ri(n,i,e?o=>{let r=n[o][t];return r<i||r===i&&n[o+1][t]===i}:o=>n[o][t]<i),qs=(n,t,i)=>Ri(n,i,e=>n[e][t]>=i);function Gs(n,t,i){let e=0,o=n.length;for(;e<o&&n[e]<t;)e++;for(;o>e&&n[o-1]>i;)o--;return e>0||o<n.length?n.slice(e,o):n}var Qs=["push","pop","shift","splice","unshift"];function Ks(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Qs.forEach(i=>{let e="_onData"+Ei(i),o=n[i];Object.defineProperty(n,i,{configurable:!0,enumerable:!1,value(...r){let s=o.apply(this,r);return n._chartjs.listeners.forEach(a=>{typeof a[e]=="function"&&a[e](...r)}),s}})})}function $o(n,t){let i=n._chartjs;if(!i)return;let e=i.listeners,o=e.indexOf(t);o!==-1&&e.splice(o,1),!(e.length>0)&&(Qs.forEach(r=>{delete n[r]}),delete n._chartjs)}function Zs(n){let t=new Set(n);return t.size===n.length?n:Array.from(t)}var Yo=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function qo(n,t){let i=[],e=!1;return function(...o){i=o,e||(e=!0,Yo.call(window,()=>{e=!1,n.apply(t,i)}))}}function Xs(n,t){let i;return function(...e){return t?(clearTimeout(i),i=setTimeout(n,t,e)):n.apply(this,e),t}}var Js=n=>n==="start"?"left":n==="end"?"right":"center",Go=(n,t,i)=>n==="start"?t:n==="end"?i:(t+i)/2;var Pi=n=>n===0||n===1,Rs=(n,t,i)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*qt/i)),As=(n,t,i)=>Math.pow(2,-10*n)*Math.sin((n-t)*qt/i)+1,Ze={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Gt)+1,easeOutSine:n=>Math.sin(n*Gt),easeInOutSine:n=>-.5*(Math.cos(wt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Pi(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Pi(n)?n:Rs(n,.075,.3),easeOutElastic:n=>Pi(n)?n:As(n,.075,.3),easeInOutElastic(n){return Pi(n)?n:n<.5?.5*Rs(n*2,.1125,.45):.5+.5*As(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Ze.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Ze.easeInBounce(n*2)*.5:Ze.easeOutBounce(n*2-1)*.5+.5};function ta(n){if(n&&typeof n=="object"){let t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Qo(n){return ta(n)?n:new Tn(n)}function zo(n){return ta(n)?n:new Tn(n).saturate(.5).darken(.1).hexString()}var Ou=["x","y","borderWidth","radius","tension"],Du=["color","borderColor","backgroundColor"];function Tu(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:Du},numbers:{type:"number",properties:Ou}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Eu(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var Ls=new Map;function Iu(n,t){t=t||{};let i=n+JSON.stringify(t),e=Ls.get(i);return e||(e=new Intl.NumberFormat(n,t),Ls.set(i,e)),e}function Li(n,t,i){return Iu(t,i).format(n)}var ea={values(n){return ft(n)?n:""+n},numeric(n,t,i){if(n===0)return"0";let e=this.chart.options.locale,o,r=n;if(i.length>1){let c=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(c<1e-4||c>1e15)&&(o="scientific"),r=Ru(n,i)}let s=ie(Math.abs(r)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:o,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Li(n,e,l)},logarithmic(n,t,i){if(n===0)return"0";let e=i[t].significand||n/Math.pow(10,Math.floor(ie(n)));return[1,2,3,5,10,15].includes(e)||t>.8*i.length?ea.numeric.call(this,n,t,i):""}};function Ru(n,t){let i=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(i)>=1&&n!==Math.floor(n)&&(i=n-Math.floor(n)),i}var jn={formatters:ea};function Au(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,i)=>i.lineWidth,tickColor:(t,i)=>i.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:jn.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}var pe=Object.create(null),Fi=Object.create(null);function In(n,t){if(!t)return n;let i=t.split(".");for(let e=0,o=i.length;e<o;++e){let r=i[e];n=n[r]||(n[r]=Object.create(null))}return n}function No(n,t,i){return typeof t=="string"?Xe(In(n,t),i):Xe(In(n,""),t)}var jo=class{constructor(t,i){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,o)=>zo(o.backgroundColor),this.hoverBorderColor=(e,o)=>zo(o.borderColor),this.hoverColor=(e,o)=>zo(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(i)}set(t,i){return No(this,t,i)}get(t){return In(this,t)}describe(t,i){return No(Fi,t,i)}override(t,i){return No(pe,t,i)}route(t,i,e,o){let r=In(this,t),s=In(this,e),a="_"+i;Object.defineProperties(r,{[a]:{value:r[i],writable:!0},[i]:{enumerable:!0,get(){let l=this[a],c=s[o];return W(l)?Object.assign({},c,l):gt(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(i=>i(this))}},at=new jo({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Tu,Eu,Au]);function Lu(n){return!n||lt(n.size)||lt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Rn(n,t,i,e,o){let r=t[o];return r||(r=t[o]=n.measureText(o).width,i.push(o)),r>e&&(e=r),e}function na(n,t,i,e){e=e||{};let o=e.data=e.data||{},r=e.garbageCollect=e.garbageCollect||[];e.font!==t&&(o=e.data={},r=e.garbageCollect=[],e.font=t),n.save(),n.font=t;let s=0,a=i.length,l,c,h,g,p;for(l=0;l<a;l++)if(g=i[l],g!=null&&!ft(g))s=Rn(n,o,r,s,g);else if(ft(g))for(c=0,h=g.length;c<h;c++)p=g[c],p!=null&&!ft(p)&&(s=Rn(n,o,r,s,p));n.restore();let _=r.length/2;if(_>i.length){for(l=0;l<_;l++)delete o[r[l]];r.splice(0,_)}return s}function me(n,t,i){let e=n.currentDevicePixelRatio,o=i!==0?Math.max(i/2,.5):0;return Math.round((t-o)*e)/e+o}function Ko(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function De(n,t,i){return i=i||.5,!t||n&&n.x>t.left-i&&n.x<t.right+i&&n.y>t.top-i&&n.y<t.bottom+i}function Zo(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Xo(n){n.restore()}function Fu(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),lt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function zu(n,t,i,e,o){if(o.strikethrough||o.underline){let r=n.measureText(e),s=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,l=i-r.actualBoundingBoxAscent,c=i+r.actualBoundingBoxDescent,h=o.strikethrough?(l+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=o.decorationWidth||2,n.moveTo(s,h),n.lineTo(a,h),n.stroke()}}function Nu(n,t){let i=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=i}function Bn(n,t,i,e,o,r={}){let s=ft(t)?t:[t],a=r.strokeWidth>0&&r.strokeColor!=="",l,c;for(n.save(),n.font=o.string,Fu(n,r),l=0;l<s.length;++l)c=s[l],r.backdrop&&Nu(n,r.backdrop),a&&(r.strokeColor&&(n.strokeStyle=r.strokeColor),lt(r.strokeWidth)||(n.lineWidth=r.strokeWidth),n.strokeText(c,i,e,r.maxWidth)),n.fillText(c,i,e,r.maxWidth),zu(n,i,e,c,r),e+=Number(o.lineHeight);n.restore()}function ia(n,t){let{x:i,y:e,w:o,h:r,radius:s}=t;n.arc(i+s.topLeft,e+s.topLeft,s.topLeft,1.5*wt,wt,!0),n.lineTo(i,e+r-s.bottomLeft),n.arc(i+s.bottomLeft,e+r-s.bottomLeft,s.bottomLeft,wt,Gt,!0),n.lineTo(i+o-s.bottomRight,e+r),n.arc(i+o-s.bottomRight,e+r-s.bottomRight,s.bottomRight,Gt,0,!0),n.lineTo(i+o,e+s.topRight),n.arc(i+o-s.topRight,e+s.topRight,s.topRight,0,-Gt,!0),n.lineTo(i+s.topLeft,e)}var ju=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Bu=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Vu(n,t){let i=(""+n).match(ju);if(!i||i[1]==="normal")return t*1.2;switch(n=+i[2],i[3]){case"px":return n;case"%":n/=100;break}return t*n}var Hu=n=>+n||0;function Jo(n,t){let i={},e=W(t),o=e?Object.keys(t):t,r=W(n)?e?s=>gt(n[s],n[t[s]]):s=>n[s]:()=>n;for(let s of o)i[s]=Hu(r(s));return i}function oa(n){return Jo(n,{top:"y",right:"x",bottom:"y",left:"x"})}function ra(n){return Jo(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Qt(n){let t=oa(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Te(n,t){n=n||{},t=t||at.font;let i=gt(n.size,t.size);typeof i=="string"&&(i=parseInt(i,10));let e=gt(n.style,t.style);e&&!(""+e).match(Bu)&&(console.warn('Invalid font style specified: "'+e+'"'),e=void 0);let o={family:gt(n.family,t.family),lineHeight:Vu(gt(n.lineHeight,t.lineHeight),i),size:i,style:e,weight:gt(n.weight,t.weight),string:""};return o.string=Lu(o),o}function Vn(n,t,i,e){let o=!0,r,s,a;for(r=0,s=n.length;r<s;++r)if(a=n[r],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),o=!1),i!==void 0&&ft(a)&&(a=a[i%a.length],o=!1),a!==void 0))return e&&!o&&(e.cacheable=!1),a}function sa(n,t,i){let{min:e,max:o}=n,r=js(t,(o-e)/2),s=(a,l)=>i&&a===0?0:a+l;return{min:s(e,-Math.abs(r)),max:s(o,r)}}function Ee(n,t){return Object.assign(Object.create(n),t)}function zi(n,t=[""],i,e,o=()=>n[0]){let r=i||n;typeof e>"u"&&(e=ca("_fallback",n));let s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:r,_fallback:e,_getTarget:o,override:a=>zi([a,...n],t,r,e)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete a._keys,delete n[0][l],!0},get(a,l){return aa(a,l,()=>Ku(l,t,n,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,l){return zs(a).includes(l)},ownKeys(a){return zs(a)},set(a,l,c){let h=a._storage||(a._storage=o());return a[l]=h[l]=c,delete a._keys,!0}})}function Oe(n,t,i,e){let o={_cacheable:!1,_proxy:n,_context:t,_subProxy:i,_stack:new Set,_descriptors:tr(n,e),setContext:r=>Oe(n,r,i,e),override:r=>Oe(n.override(r),t,i,e)};return new Proxy(o,{deleteProperty(r,s){return delete r[s],delete n[s],!0},get(r,s,a){return aa(r,s,()=>Uu(r,s,a))},getOwnPropertyDescriptor(r,s){return r._descriptors.allKeys?Reflect.has(n,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,s)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(r,s){return Reflect.has(n,s)},ownKeys(){return Reflect.ownKeys(n)},set(r,s,a){return n[s]=a,delete r[s],!0}})}function tr(n,t={scriptable:!0,indexable:!0}){let{_scriptable:i=t.scriptable,_indexable:e=t.indexable,_allKeys:o=t.allKeys}=n;return{allKeys:o,scriptable:i,indexable:e,isScriptable:ne(i)?i:()=>i,isIndexable:ne(e)?e:()=>e}}var Wu=(n,t)=>n?n+Ei(t):t,er=(n,t)=>W(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function aa(n,t,i){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];let e=i();return n[t]=e,e}function Uu(n,t,i){let{_proxy:e,_context:o,_subProxy:r,_descriptors:s}=n,a=e[t];return ne(a)&&s.isScriptable(t)&&(a=$u(t,a,n,i)),ft(a)&&a.length&&(a=Yu(t,a,n,s.isIndexable)),er(t,a)&&(a=Oe(a,o,r&&r[t],s)),a}function $u(n,t,i,e){let{_proxy:o,_context:r,_subProxy:s,_stack:a}=i;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let l=t(r,s||e);return a.delete(n),er(n,l)&&(l=nr(o._scopes,o,n,l)),l}function Yu(n,t,i,e){let{_proxy:o,_context:r,_subProxy:s,_descriptors:a}=i;if(typeof r.index<"u"&&e(n))return t[r.index%t.length];if(W(t[0])){let l=t,c=o._scopes.filter(h=>h!==l);t=[];for(let h of l){let g=nr(c,o,n,h);t.push(Oe(g,r,s&&s[n],a))}}return t}function la(n,t,i){return ne(n)?n(t,i):n}var qu=(n,t)=>n===!0?t:typeof n=="string"?An(t,n):void 0;function Gu(n,t,i,e,o){for(let r of t){let s=qu(i,r);if(s){n.add(s);let a=la(s._fallback,i,o);if(typeof a<"u"&&a!==i&&a!==e)return a}else if(s===!1&&typeof e<"u"&&i!==e)return null}return!1}function nr(n,t,i,e){let o=t._rootScopes,r=la(t._fallback,i,e),s=[...n,...o],a=new Set;a.add(e);let l=Fs(a,s,i,r||i,e);return l===null||typeof r<"u"&&r!==i&&(l=Fs(a,s,r,l,e),l===null)?!1:zi(Array.from(a),[""],o,r,()=>Qu(t,i,e))}function Fs(n,t,i,e,o){for(;i;)i=Gu(n,t,i,e,o);return i}function Qu(n,t,i){let e=n._getTarget();t in e||(e[t]={});let o=e[t];return ft(o)&&W(i)?i:o||{}}function Ku(n,t,i,e){let o;for(let r of t)if(o=ca(Wu(r,n),i),typeof o<"u")return er(n,o)?nr(i,e,n,o):o}function ca(n,t){for(let i of t){if(!i)continue;let e=i[n];if(typeof e<"u")return e}}function zs(n){let t=n._keys;return t||(t=n._keys=Zu(n._scopes)),t}function Zu(n){let t=new Set;for(let i of n)for(let e of Object.keys(i).filter(o=>!o.startsWith("_")))t.add(e);return Array.from(t)}var ib=Number.EPSILON||1e-14;function Ni(){return typeof window<"u"&&typeof document<"u"}function ji(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Ti(n,t,i){let e;return typeof n=="string"?(e=parseInt(n,10),n.indexOf("%")!==-1&&(e=e/100*t.parentNode[i])):e=n,e}var Bi=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function Xu(n,t){return Bi(n).getPropertyValue(t)}var Ju=["top","right","bottom","left"];function Se(n,t,i){let e={};i=i?"-"+i:"";for(let o=0;o<4;o++){let r=Ju[o];e[r]=parseFloat(n[t+"-"+r+i])||0}return e.width=e.left+e.right,e.height=e.top+e.bottom,e}var th=(n,t,i)=>(n>0||t>0)&&(!i||!i.shadowRoot);function eh(n,t){let i=n.touches,e=i&&i.length?i[0]:n,{offsetX:o,offsetY:r}=e,s=!1,a,l;if(th(o,r,n.target))a=o,l=r;else{let c=t.getBoundingClientRect();a=e.clientX-c.left,l=e.clientY-c.top,s=!0}return{x:a,y:l,box:s}}function _e(n,t){if("native"in n)return n;let{canvas:i,currentDevicePixelRatio:e}=t,o=Bi(i),r=o.boxSizing==="border-box",s=Se(o,"padding"),a=Se(o,"border","width"),{x:l,y:c,box:h}=eh(n,i),g=s.left+(h&&a.left),p=s.top+(h&&a.top),{width:_,height:v}=t;return r&&(_-=s.width+a.width,v-=s.height+a.height),{x:Math.round((l-g)/_*i.width/e),y:Math.round((c-p)/v*i.height/e)}}function nh(n,t,i){let e,o;if(t===void 0||i===void 0){let r=n&&ji(n);if(!r)t=n.clientWidth,i=n.clientHeight;else{let s=r.getBoundingClientRect(),a=Bi(r),l=Se(a,"border","width"),c=Se(a,"padding");t=s.width-c.width-l.width,i=s.height-c.height-l.height,e=Ti(a.maxWidth,r,"clientWidth"),o=Ti(a.maxHeight,r,"clientHeight")}}return{width:t,height:i,maxWidth:e||Di,maxHeight:o||Di}}var Si=n=>Math.round(n*10)/10;function da(n,t,i,e){let o=Bi(n),r=Se(o,"margin"),s=Ti(o.maxWidth,n,"clientWidth")||Di,a=Ti(o.maxHeight,n,"clientHeight")||Di,l=nh(n,t,i),{width:c,height:h}=l;if(o.boxSizing==="content-box"){let p=Se(o,"border","width"),_=Se(o,"padding");c-=_.width+p.width,h-=_.height+p.height}return c=Math.max(0,c-r.width),h=Math.max(0,e?c/e:h-r.height),c=Si(Math.min(c,s,l.maxWidth)),h=Si(Math.min(h,a,l.maxHeight)),c&&!h&&(h=Si(c/2)),(t!==void 0||i!==void 0)&&e&&l.height&&h>l.height&&(h=l.height,c=Si(Math.floor(h*e))),{width:c,height:h}}function ir(n,t,i){let e=t||1,o=Math.floor(n.height*e),r=Math.floor(n.width*e);n.height=Math.floor(n.height),n.width=Math.floor(n.width);let s=n.canvas;return s.style&&(i||!s.style.height&&!s.style.width)&&(s.style.height=`${n.height}px`,s.style.width=`${n.width}px`),n.currentDevicePixelRatio!==e||s.height!==o||s.width!==r?(n.currentDevicePixelRatio=e,s.height=o,s.width=r,n.ctx.setTransform(e,0,0,e,0,0),!0):!1}var ua=function(){let n=!1;try{let t={get passive(){return n=!0,!1}};Ni()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function or(n,t){let i=Xu(n,t),e=i&&i.match(/^(\d+)(\.\d+)?px$/);return e?+e[1]:void 0}var dr=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,i,e,o){let r=i.listeners[o],s=i.duration;r.forEach(a=>a({chart:t,initial:i.initial,numSteps:s,currentStep:Math.min(e-i.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=Yo.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let i=0;this._charts.forEach((e,o)=>{if(!e.running||!e.items.length)return;let r=e.items,s=r.length-1,a=!1,l;for(;s>=0;--s)l=r[s],l._active?(l._total>e.duration&&(e.duration=l._total),l.tick(t),a=!0):(r[s]=r[r.length-1],r.pop());a&&(o.draw(),this._notify(o,e,t,"progress")),r.length||(e.running=!1,this._notify(o,e,t,"complete"),e.initial=!1),i+=r.length}),this._lastDate=t,i===0&&(this._running=!1)}_getAnims(t){let i=this._charts,e=i.get(t);return e||(e={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},i.set(t,e)),e}listen(t,i,e){this._getAnims(t).listeners[i].push(e)}add(t,i){!i||!i.length||this._getAnims(t).items.push(...i)}has(t){return this._getAnims(t).items.length>0}start(t){let i=this._charts.get(t);i&&(i.running=!0,i.start=Date.now(),i.duration=i.items.reduce((e,o)=>Math.max(e,o._duration),0),this._refresh())}running(t){if(!this._running)return!1;let i=this._charts.get(t);return!(!i||!i.running||!i.items.length)}stop(t){let i=this._charts.get(t);if(!i||!i.items.length)return;let e=i.items,o=e.length-1;for(;o>=0;--o)e[o].cancel();i.items=[],this._notify(t,i,Date.now(),"complete")}remove(t){return this._charts.delete(t)}},re=new dr,ha="transparent",ih={boolean(n,t,i){return i>.5?t:n},color(n,t,i){let e=Qo(n||ha),o=e.valid&&Qo(t||ha);return o&&o.valid?o.mix(e,i).hexString():t},number(n,t,i){return n+(t-n)*i}},ur=class{constructor(t,i,e,o){let r=i[e];o=Vn([t.to,o,r,t.from]);let s=Vn([t.from,r,o]);this._active=!0,this._fn=t.fn||ih[t.type||typeof s],this._easing=Ze[t.easing]||Ze.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=i,this._prop=e,this._from=s,this._to=o,this._promises=void 0}active(){return this._active}update(t,i,e){if(this._active){this._notify(!1);let o=this._target[this._prop],r=e-this._start,s=this._duration-r;this._start=e,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Vn([t.to,i,o,t.from]),this._from=Vn([t.from,o,i])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let i=t-this._start,e=this._duration,o=this._prop,r=this._from,s=this._loop,a=this._to,l;if(this._active=r!==a&&(s||i<e),!this._active){this._target[o]=a,this._notify(!0);return}if(i<0){this._target[o]=r;return}l=i/e%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[o]=this._fn(r,a,l)}wait(){let t=this._promises||(this._promises=[]);return new Promise((i,e)=>{t.push({res:i,rej:e})})}_notify(t){let i=t?"res":"rej",e=this._promises||[];for(let o=0;o<e.length;o++)e[o][i]()}},hr=class{constructor(t,i){this._chart=t,this._properties=new Map,this.configure(i)}configure(t){if(!W(t))return;let i=Object.keys(at.animation),e=this._properties;Object.getOwnPropertyNames(t).forEach(o=>{let r=t[o];if(!W(r))return;let s={};for(let a of i)s[a]=r[a];(ft(r.properties)&&r.properties||[o]).forEach(a=>{(a===o||!e.has(a))&&e.set(a,s)})})}_animateOptions(t,i){let e=i.options,o=rh(t,e);if(!o)return[];let r=this._createAnimations(o,e);return e.$shared&&oh(t.options.$animations,e).then(()=>{t.options=e},()=>{}),r}_createAnimations(t,i){let e=this._properties,o=[],r=t.$animations||(t.$animations={}),s=Object.keys(i),a=Date.now(),l;for(l=s.length-1;l>=0;--l){let c=s[l];if(c.charAt(0)==="$")continue;if(c==="options"){o.push(...this._animateOptions(t,i));continue}let h=i[c],g=r[c],p=e.get(c);if(g)if(p&&g.active()){g.update(p,h,a);continue}else g.cancel();if(!p||!p.duration){t[c]=h;continue}r[c]=g=new ur(p,t,c,h),o.push(g)}return o}update(t,i){if(this._properties.size===0){Object.assign(t,i);return}let e=this._createAnimations(t,i);if(e.length)return re.add(this._chart,e),!0}};function oh(n,t){let i=[],e=Object.keys(t);for(let o=0;o<e.length;o++){let r=n[e[o]];r&&r.active()&&i.push(r.wait())}return Promise.all(i)}function rh(n,t){if(!t)return;let i=n.options;if(!i){n.options=t;return}return i.$shared&&(n.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i}function ga(n,t){let i=n&&n.options||{},e=i.reverse,o=i.min===void 0?t:0,r=i.max===void 0?t:0;return{start:e?r:o,end:e?o:r}}function sh(n,t,i){if(i===!1)return!1;let e=ga(n,i),o=ga(t,i);return{top:o.end,right:e.end,bottom:o.start,left:e.start}}function ah(n){let t,i,e,o;return W(n)?(t=n.top,i=n.right,e=n.bottom,o=n.left):t=i=e=o=n,{top:t,right:i,bottom:e,left:o,disabled:n===!1}}function Xa(n,t){let i=[],e=n._getSortedDatasetMetas(t),o,r;for(o=0,r=e.length;o<r;++o)i.push(e[o].index);return i}function fa(n,t,i,e={}){let o=n.keys,r=e.mode==="single",s,a,l,c;if(t!==null){for(s=0,a=o.length;s<a;++s){if(l=+o[s],l===i){if(e.all)continue;break}c=n.values[l],vt(c)&&(r||t===0||Fn(t)===Fn(c))&&(t+=c)}return t}}function lh(n,t){let{iScale:i,vScale:e}=t,o=i.axis==="x"?"x":"y",r=e.axis==="x"?"x":"y",s=Object.keys(n),a=new Array(s.length),l,c,h;for(l=0,c=s.length;l<c;++l)h=s[l],a[l]={[o]:h,[r]:n[h]};return a}function pa(n,t){let i=n&&n.options.stacked;return i||i===void 0&&t.stack!==void 0}function ch(n,t,i){return`${n.id}.${t.id}.${i.stack||i.type}`}function dh(n){let{min:t,max:i,minDefined:e,maxDefined:o}=n.getUserBounds();return{min:e?t:Number.NEGATIVE_INFINITY,max:o?i:Number.POSITIVE_INFINITY}}function uh(n,t,i){let e=n[t]||(n[t]={});return e[i]||(e[i]={})}function ma(n,t,i,e){for(let o of t.getMatchingVisibleMetas(e).reverse()){let r=n[o.index];if(i&&r>0||!i&&r<0)return o.index}return null}function _a(n,t){let{chart:i,_cachedMeta:e}=n,o=i._stacks||(i._stacks={}),{iScale:r,vScale:s,index:a}=e,l=r.axis,c=s.axis,h=ch(r,s,e),g=t.length,p;for(let _=0;_<g;++_){let v=t[_],{[l]:O,[c]:M}=v,I=v._stacks||(v._stacks={});p=I[c]=uh(o,h,O),p[a]=M,p._top=ma(p,s,!0,e.type),p._bottom=ma(p,s,!1,e.type);let z=p._visualValues||(p._visualValues={});z[a]=M}}function rr(n,t){let i=n.scales;return Object.keys(i).filter(e=>i[e].axis===t).shift()}function hh(n,t){return Ee(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function gh(n,t,i){return Ee(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:i,index:t,mode:"default",type:"data"})}function Hn(n,t){let i=n.controller.index,e=n.vScale&&n.vScale.axis;if(e){t=t||n._parsed;for(let o of t){let r=o._stacks;if(!r||r[e]===void 0||r[e][i]===void 0)return;delete r[e][i],r[e]._visualValues!==void 0&&r[e]._visualValues[i]!==void 0&&delete r[e]._visualValues[i]}}}var sr=n=>n==="reset"||n==="none",ba=(n,t)=>t?n:Object.assign({},n),fh=(n,t,i)=>n&&!t.hidden&&t._stacked&&{keys:Xa(i,!0),values:null},ph=(()=>{class n{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(i,e){this.chart=i,this._ctx=i.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let i=this._cachedMeta;this.configure(),this.linkScales(),i._stacked=pa(i.vScale,i),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(i){this.index!==i&&Hn(this._cachedMeta),this.index=i}linkScales(){let i=this.chart,e=this._cachedMeta,o=this.getDataset(),r=(p,_,v,O)=>p==="x"?_:p==="r"?O:v,s=e.xAxisID=gt(o.xAxisID,rr(i,"x")),a=e.yAxisID=gt(o.yAxisID,rr(i,"y")),l=e.rAxisID=gt(o.rAxisID,rr(i,"r")),c=e.indexAxis,h=e.iAxisID=r(c,s,a,l),g=e.vAxisID=r(c,a,s,l);e.xScale=this.getScaleForId(s),e.yScale=this.getScaleForId(a),e.rScale=this.getScaleForId(l),e.iScale=this.getScaleForId(h),e.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(i){return this.chart.scales[i]}_getOtherScale(i){let e=this._cachedMeta;return i===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){let i=this._cachedMeta;this._data&&$o(this._data,this),i._stacked&&Hn(i)}_dataCheck(){let i=this.getDataset(),e=i.data||(i.data=[]),o=this._data;if(W(e)){let r=this._cachedMeta;this._data=lh(e,r)}else if(o!==e){if(o){$o(o,this);let r=this._cachedMeta;Hn(r),r._parsed=[]}e&&Object.isExtensible(e)&&Ks(e,this),this._syncList=[],this._data=e}}addElements(){let i=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(i.dataset=new this.datasetElementType)}buildOrUpdateElements(i){let e=this._cachedMeta,o=this.getDataset(),r=!1;this._dataCheck();let s=e._stacked;e._stacked=pa(e.vScale,e),e.stack!==o.stack&&(r=!0,Hn(e),e.stack=o.stack),this._resyncElements(i),(r||s!==e._stacked)&&_a(this,e._parsed)}configure(){let i=this.chart.config,e=i.datasetScopeKeys(this._type),o=i.getOptionScopes(this.getDataset(),e,!0);this.options=i.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(i,e){let{_cachedMeta:o,_data:r}=this,{iScale:s,_stacked:a}=o,l=s.axis,c=i===0&&e===r.length?!0:o._sorted,h=i>0&&o._parsed[i-1],g,p,_;if(this._parsing===!1)o._parsed=r,o._sorted=!0,_=r;else{ft(r[i])?_=this.parseArrayData(o,r,i,e):W(r[i])?_=this.parseObjectData(o,r,i,e):_=this.parsePrimitiveData(o,r,i,e);let v=()=>p[l]===null||h&&p[l]<h[l];for(g=0;g<e;++g)o._parsed[g+i]=p=_[g],c&&(v()&&(c=!1),h=p);o._sorted=c}a&&_a(this,_)}parsePrimitiveData(i,e,o,r){let{iScale:s,vScale:a}=i,l=s.axis,c=a.axis,h=s.getLabels(),g=s===a,p=new Array(r),_,v,O;for(_=0,v=r;_<v;++_)O=_+o,p[_]={[l]:g||s.parse(h[O],O),[c]:a.parse(e[O],O)};return p}parseArrayData(i,e,o,r){let{xScale:s,yScale:a}=i,l=new Array(r),c,h,g,p;for(c=0,h=r;c<h;++c)g=c+o,p=e[g],l[c]={x:s.parse(p[0],g),y:a.parse(p[1],g)};return l}parseObjectData(i,e,o,r){let{xScale:s,yScale:a}=i,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,h=new Array(r),g,p,_,v;for(g=0,p=r;g<p;++g)_=g+o,v=e[_],h[g]={x:s.parse(An(v,l),_),y:a.parse(An(v,c),_)};return h}getParsed(i){return this._cachedMeta._parsed[i]}getDataElement(i){return this._cachedMeta.data[i]}applyStack(i,e,o){let r=this.chart,s=this._cachedMeta,a=e[i.axis],l={keys:Xa(r,!0),values:e._stacks[i.axis]._visualValues};return fa(l,a,s.index,{mode:o})}updateRangeFromParsed(i,e,o,r){let s=o[e.axis],a=s===null?NaN:s,l=r&&o._stacks[e.axis];r&&l&&(r.values=l,a=fa(r,s,this._cachedMeta.index)),i.min=Math.min(i.min,a),i.max=Math.max(i.max,a)}getMinMax(i,e){let o=this._cachedMeta,r=o._parsed,s=o._sorted&&i===o.iScale,a=r.length,l=this._getOtherScale(i),c=fh(e,o,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:p}=dh(l),_,v;function O(){v=r[_];let M=v[l.axis];return!vt(v[i.axis])||g>M||p<M}for(_=0;_<a&&!(!O()&&(this.updateRangeFromParsed(h,i,v,c),s));++_);if(s){for(_=a-1;_>=0;--_)if(!O()){this.updateRangeFromParsed(h,i,v,c);break}}return h}getAllParsedValues(i){let e=this._cachedMeta._parsed,o=[],r,s,a;for(r=0,s=e.length;r<s;++r)a=e[r][i.axis],vt(a)&&o.push(a);return o}getMaxOverflow(){return!1}getLabelAndValue(i){let e=this._cachedMeta,o=e.iScale,r=e.vScale,s=this.getParsed(i);return{label:o?""+o.getLabelForValue(s[o.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(i){let e=this._cachedMeta;this.update(i||"default"),e._clip=ah(gt(this.options.clip,sh(e.xScale,e.yScale,this.getMaxOverflow())))}update(i){}draw(){let i=this._ctx,e=this.chart,o=this._cachedMeta,r=o.data||[],s=e.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||r.length-l,h=this.options.drawActiveElementsOnTop,g;for(o.dataset&&o.dataset.draw(i,s,l,c),g=l;g<l+c;++g){let p=r[g];p.hidden||(p.active&&h?a.push(p):p.draw(i,s))}for(g=0;g<a.length;++g)a[g].draw(i,s)}getStyle(i,e){let o=e?"active":"default";return i===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(i||0,o)}getContext(i,e,o){let r=this.getDataset(),s;if(i>=0&&i<this._cachedMeta.data.length){let a=this._cachedMeta.data[i];s=a.$context||(a.$context=gh(this.getContext(),i,a)),s.parsed=this.getParsed(i),s.raw=r.data[i],s.index=s.dataIndex=i}else s=this.$context||(this.$context=hh(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!e,s.mode=o,s}resolveDatasetElementOptions(i){return this._resolveElementOptions(this.datasetElementType.id,i)}resolveDataElementOptions(i,e){return this._resolveElementOptions(this.dataElementType.id,e,i)}_resolveElementOptions(i,e="default",o){let r=e==="active",s=this._cachedDataOpts,a=i+"-"+e,l=s[a],c=this.enableOptionSharing&&Ln(o);if(l)return ba(l,c);let h=this.chart.config,g=h.datasetElementScopeKeys(this._type,i),p=r?[`${i}Hover`,"hover",i,""]:[i,""],_=h.getOptionScopes(this.getDataset(),g),v=Object.keys(at.elements[i]),O=()=>this.getContext(o,r,e),M=h.resolveNamedOptions(_,v,O,p);return M.$shared&&(M.$shared=c,s[a]=Object.freeze(ba(M,c))),M}_resolveAnimations(i,e,o){let r=this.chart,s=this._cachedDataOpts,a=`animation-${e}`,l=s[a];if(l)return l;let c;if(r.options.animation!==!1){let g=this.chart.config,p=g.datasetAnimationScopeKeys(this._type,e),_=g.getOptionScopes(this.getDataset(),p);c=g.createResolver(_,this.getContext(i,o,e))}let h=new hr(r,c&&c.animations);return c&&c._cacheable&&(s[a]=Object.freeze(h)),h}getSharedOptions(i){if(i.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},i))}includeOptions(i,e){return!e||sr(i)||this.chart._animationsDisabled}_getSharedOptions(i,e){let o=this.resolveDataElementOptions(i,e),r=this._sharedOptions,s=this.getSharedOptions(o),a=this.includeOptions(e,s)||s!==r;return this.updateSharedOptions(s,e,o),{sharedOptions:s,includeOptions:a}}updateElement(i,e,o,r){sr(r)?Object.assign(i,o):this._resolveAnimations(e,r).update(i,o)}updateSharedOptions(i,e,o){i&&!sr(e)&&this._resolveAnimations(void 0,e).update(i,o)}_setStyle(i,e,o,r){i.active=r;let s=this.getStyle(e,r);this._resolveAnimations(e,o,r).update(i,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(i,e,o){this._setStyle(i,o,"active",!1)}setHoverStyle(i,e,o){this._setStyle(i,o,"active",!0)}_removeDatasetHoverStyle(){let i=this._cachedMeta.dataset;i&&this._setStyle(i,void 0,"active",!1)}_setDatasetHoverStyle(){let i=this._cachedMeta.dataset;i&&this._setStyle(i,void 0,"active",!0)}_resyncElements(i){let e=this._data,o=this._cachedMeta.data;for(let[l,c,h]of this._syncList)this[l](c,h);this._syncList=[];let r=o.length,s=e.length,a=Math.min(s,r);a&&this.parse(0,a),s>r?this._insertElements(r,s-r,i):s<r&&this._removeElements(s,r-s)}_insertElements(i,e,o=!0){let r=this._cachedMeta,s=r.data,a=i+e,l,c=h=>{for(h.length+=e,l=h.length-1;l>=a;l--)h[l]=h[l-e]};for(c(s),l=i;l<a;++l)s[l]=new this.dataElementType;this._parsing&&c(r._parsed),this.parse(i,e),o&&this.updateElements(s,i,e,"reset")}updateElements(i,e,o,r){}_removeElements(i,e){let o=this._cachedMeta;if(this._parsing){let r=o._parsed.splice(i,e);o._stacked&&Hn(o,r)}o.data.splice(i,e)}_sync(i){if(this._parsing)this._syncList.push(i);else{let[e,o,r]=i;this[e](o,r)}this.chart._dataChanges.push([this.index,...i])}_onDataPush(){let i=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-i,i])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(i,e){e&&this._sync(["_removeElements",i,e]);let o=arguments.length-2;o&&this._sync(["_insertElements",i,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n})();function Ie(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var gr=class n{static override(t){Object.assign(n.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Ie()}parse(){return Ie()}format(){return Ie()}add(){return Ie()}diff(){return Ie()}startOf(){return Ie()}endOf(){return Ie()}},mh={_date:gr};function _h(n,t,i,e){let{controller:o,data:r,_sorted:s}=n,a=o._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&s&&r.length){let l=a._reversePixels?qs:Ai;if(e){if(o._sharedOptions){let c=r[0],h=typeof c.getRange=="function"&&c.getRange(t);if(h){let g=l(r,t,i-h),p=l(r,t,i+h);return{lo:g.lo,hi:p.hi}}}}else return l(r,t,i)}return{lo:0,hi:r.length-1}}function Kn(n,t,i,e,o){let r=n.getSortedVisibleDatasetMetas(),s=i[t];for(let a=0,l=r.length;a<l;++a){let{index:c,data:h}=r[a],{lo:g,hi:p}=_h(r[a],t,s,o);for(let _=g;_<=p;++_){let v=h[_];v.skip||e(v,c,_)}}}function bh(n){let t=n.indexOf("x")!==-1,i=n.indexOf("y")!==-1;return function(e,o){let r=t?Math.abs(e.x-o.x):0,s=i?Math.abs(e.y-o.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(s,2))}}function ar(n,t,i,e,o){let r=[];return!o&&!n.isPointInArea(t)||Kn(n,i,t,function(a,l,c){!o&&!De(a,n.chartArea,0)||a.inRange(t.x,t.y,e)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function xh(n,t,i,e){let o=[];function r(s,a,l){let{startAngle:c,endAngle:h}=s.getProps(["startAngle","endAngle"],e),{angle:g}=Us(s,{x:t.x,y:t.y});$s(g,c,h)&&o.push({element:s,datasetIndex:a,index:l})}return Kn(n,i,t,r),o}function vh(n,t,i,e,o,r){let s=[],a=bh(i),l=Number.POSITIVE_INFINITY;function c(h,g,p){let _=h.inRange(t.x,t.y,o);if(e&&!_)return;let v=h.getCenterPoint(o);if(!(!!r||n.isPointInArea(v))&&!_)return;let M=a(t,v);M<l?(s=[{element:h,datasetIndex:g,index:p}],l=M):M===l&&s.push({element:h,datasetIndex:g,index:p})}return Kn(n,i,t,c),s}function lr(n,t,i,e,o,r){return!r&&!n.isPointInArea(t)?[]:i==="r"&&!e?xh(n,t,i,o):vh(n,t,i,e,o,r)}function xa(n,t,i,e,o){let r=[],s=i==="x"?"inXRange":"inYRange",a=!1;return Kn(n,i,t,(l,c,h)=>{l[s](t[i],o)&&(r.push({element:l,datasetIndex:c,index:h}),a=a||l.inRange(t.x,t.y,o))}),e&&!a?[]:r}var yh={evaluateInteractionItems:Kn,modes:{index(n,t,i,e){let o=_e(t,n),r=i.axis||"x",s=i.includeInvisible||!1,a=i.intersect?ar(n,o,r,e,s):lr(n,o,r,!1,e,s),l=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{let h=a[0].index,g=c.data[h];g&&!g.skip&&l.push({element:g,datasetIndex:c.index,index:h})}),l):[]},dataset(n,t,i,e){let o=_e(t,n),r=i.axis||"xy",s=i.includeInvisible||!1,a=i.intersect?ar(n,o,r,e,s):lr(n,o,r,!1,e,s);if(a.length>0){let l=a[0].datasetIndex,c=n.getDatasetMeta(l).data;a=[];for(let h=0;h<c.length;++h)a.push({element:c[h],datasetIndex:l,index:h})}return a},point(n,t,i,e){let o=_e(t,n),r=i.axis||"xy",s=i.includeInvisible||!1;return ar(n,o,r,e,s)},nearest(n,t,i,e){let o=_e(t,n),r=i.axis||"xy",s=i.includeInvisible||!1;return lr(n,o,r,i.intersect,e,s)},x(n,t,i,e){let o=_e(t,n);return xa(n,o,"x",i.intersect,e)},y(n,t,i,e){let o=_e(t,n);return xa(n,o,"y",i.intersect,e)}}},Ja=["left","top","right","bottom"];function Wn(n,t){return n.filter(i=>i.pos===t)}function va(n,t){return n.filter(i=>Ja.indexOf(i.pos)===-1&&i.box.axis===t)}function Un(n,t){return n.sort((i,e)=>{let o=t?e:i,r=t?i:e;return o.weight===r.weight?o.index-r.index:o.weight-r.weight})}function Ch(n){let t=[],i,e,o,r,s,a;for(i=0,e=(n||[]).length;i<e;++i)o=n[i],{position:r,options:{stack:s,stackWeight:a=1}}=o,t.push({index:i,box:o,pos:r,horizontal:o.isHorizontal(),weight:o.weight,stack:s&&r+s,stackWeight:a});return t}function kh(n){let t={};for(let i of n){let{stack:e,pos:o,stackWeight:r}=i;if(!e||!Ja.includes(o))continue;let s=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=r}return t}function Mh(n,t){let i=kh(n),{vBoxMaxWidth:e,hBoxMaxHeight:o}=t,r,s,a;for(r=0,s=n.length;r<s;++r){a=n[r];let{fullSize:l}=a.box,c=i[a.stack],h=c&&a.stackWeight/c.weight;a.horizontal?(a.width=h?h*e:l&&t.availableWidth,a.height=o):(a.width=e,a.height=h?h*o:l&&t.availableHeight)}return i}function wh(n){let t=Ch(n),i=Un(t.filter(c=>c.box.fullSize),!0),e=Un(Wn(t,"left"),!0),o=Un(Wn(t,"right")),r=Un(Wn(t,"top"),!0),s=Un(Wn(t,"bottom")),a=va(t,"x"),l=va(t,"y");return{fullSize:i,leftAndTop:e.concat(r),rightAndBottom:o.concat(l).concat(s).concat(a),chartArea:Wn(t,"chartArea"),vertical:e.concat(o).concat(l),horizontal:r.concat(s).concat(a)}}function ya(n,t,i,e){return Math.max(n[i],t[i])+Math.max(n[e],t[e])}function tl(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function Ph(n,t,i,e){let{pos:o,box:r}=i,s=n.maxPadding;if(!W(o)){i.size&&(n[o]-=i.size);let g=e[i.stack]||{size:0,count:1};g.size=Math.max(g.size,i.horizontal?r.height:r.width),i.size=g.size/g.count,n[o]+=i.size}r.getPadding&&tl(s,r.getPadding());let a=Math.max(0,t.outerWidth-ya(s,n,"left","right")),l=Math.max(0,t.outerHeight-ya(s,n,"top","bottom")),c=a!==n.w,h=l!==n.h;return n.w=a,n.h=l,i.horizontal?{same:c,other:h}:{same:h,other:c}}function Sh(n){let t=n.maxPadding;function i(e){let o=Math.max(t[e]-n[e],0);return n[e]+=o,o}n.y+=i("top"),n.x+=i("left"),i("right"),i("bottom")}function Oh(n,t){let i=t.maxPadding;function e(o){let r={left:0,top:0,right:0,bottom:0};return o.forEach(s=>{r[s]=Math.max(t[s],i[s])}),r}return e(n?["left","right"]:["top","bottom"])}function qn(n,t,i,e){let o=[],r,s,a,l,c,h;for(r=0,s=n.length,c=0;r<s;++r){a=n[r],l=a.box,l.update(a.width||t.w,a.height||t.h,Oh(a.horizontal,t));let{same:g,other:p}=Ph(t,i,a,e);c|=g&&o.length,h=h||p,l.fullSize||o.push(a)}return c&&qn(o,t,i,e)||h}function Vi(n,t,i,e,o){n.top=i,n.left=t,n.right=t+e,n.bottom=i+o,n.width=e,n.height=o}function Ca(n,t,i,e){let o=i.padding,{x:r,y:s}=t;for(let a of n){let l=a.box,c=e[a.stack]||{count:1,placed:0,weight:1},h=a.stackWeight/c.weight||1;if(a.horizontal){let g=t.w*h,p=c.size||l.height;Ln(c.start)&&(s=c.start),l.fullSize?Vi(l,o.left,s,i.outerWidth-o.right-o.left,p):Vi(l,t.left+c.placed,s,g,p),c.start=s,c.placed+=g,s=l.bottom}else{let g=t.h*h,p=c.size||l.width;Ln(c.start)&&(r=c.start),l.fullSize?Vi(l,r,o.top,p,i.outerHeight-o.bottom-o.top):Vi(l,r,t.top+c.placed,p,g),c.start=r,c.placed+=g,r=l.right}}t.x=r,t.y=s}var Hi={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(i){t.draw(i)}}]},n.boxes.push(t)},removeBox(n,t){let i=n.boxes?n.boxes.indexOf(t):-1;i!==-1&&n.boxes.splice(i,1)},configure(n,t,i){t.fullSize=i.fullSize,t.position=i.position,t.weight=i.weight},update(n,t,i,e){if(!n)return;let o=Qt(n.options.layout.padding),r=Math.max(t-o.width,0),s=Math.max(i-o.height,0),a=wh(n.boxes),l=a.vertical,c=a.horizontal;kt(n.boxes,O=>{typeof O.beforeLayout=="function"&&O.beforeLayout()});let h=l.reduce((O,M)=>M.box.options&&M.box.options.display===!1?O:O+1,0)||1,g=Object.freeze({outerWidth:t,outerHeight:i,padding:o,availableWidth:r,availableHeight:s,vBoxMaxWidth:r/2/h,hBoxMaxHeight:s/2}),p=Object.assign({},o);tl(p,Qt(e));let _=Object.assign({maxPadding:p,w:r,h:s,x:o.left,y:o.top},o),v=Mh(l.concat(c),g);qn(a.fullSize,_,g,v),qn(l,_,g,v),qn(c,_,g,v)&&qn(l,_,g,v),Sh(_),Ca(a.leftAndTop,_,g,v),_.x+=_.w,_.y+=_.h,Ca(a.rightAndBottom,_,g,v),n.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},kt(a.chartArea,O=>{let M=O.box;Object.assign(M,n.chartArea),M.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}},Qi=class{acquireContext(t,i){}releaseContext(t){return!1}addEventListener(t,i,e){}removeEventListener(t,i,e){}getDevicePixelRatio(){return 1}getMaximumSize(t,i,e,o){return i=Math.max(0,i||t.width),e=e||t.height,{width:i,height:Math.max(0,o?Math.floor(i/o):e)}}isAttached(t){return!0}updateConfig(t){}},fr=class extends Qi{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}},qi="$chartjs",Dh={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ka=n=>n===null||n==="";function Th(n,t){let i=n.style,e=n.getAttribute("height"),o=n.getAttribute("width");if(n[qi]={initial:{height:e,width:o,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",ka(o)){let r=or(n,"width");r!==void 0&&(n.width=r)}if(ka(e))if(n.style.height==="")n.height=n.width/(t||2);else{let r=or(n,"height");r!==void 0&&(n.height=r)}return n}var el=ua?{passive:!0}:!1;function Eh(n,t,i){n&&n.addEventListener(t,i,el)}function Ih(n,t,i){n&&n.canvas&&n.canvas.removeEventListener(t,i,el)}function Rh(n,t){let i=Dh[n.type]||n.type,{x:e,y:o}=_e(n,t);return{type:i,chart:t,native:n,x:e!==void 0?e:null,y:o!==void 0?o:null}}function Ki(n,t){for(let i of n)if(i===t||i.contains(t))return!0}function Ah(n,t,i){let e=n.canvas,o=new MutationObserver(r=>{let s=!1;for(let a of r)s=s||Ki(a.addedNodes,e),s=s&&!Ki(a.removedNodes,e);s&&i()});return o.observe(document,{childList:!0,subtree:!0}),o}function Lh(n,t,i){let e=n.canvas,o=new MutationObserver(r=>{let s=!1;for(let a of r)s=s||Ki(a.removedNodes,e),s=s&&!Ki(a.addedNodes,e);s&&i()});return o.observe(document,{childList:!0,subtree:!0}),o}var Gn=new Map,Ma=0;function nl(){let n=window.devicePixelRatio;n!==Ma&&(Ma=n,Gn.forEach((t,i)=>{i.currentDevicePixelRatio!==n&&t()}))}function Fh(n,t){Gn.size||window.addEventListener("resize",nl),Gn.set(n,t)}function zh(n){Gn.delete(n),Gn.size||window.removeEventListener("resize",nl)}function Nh(n,t,i){let e=n.canvas,o=e&&ji(e);if(!o)return;let r=qo((a,l)=>{let c=o.clientWidth;i(a,l),c<o.clientWidth&&i()},window),s=new ResizeObserver(a=>{let l=a[0],c=l.contentRect.width,h=l.contentRect.height;c===0&&h===0||r(c,h)});return s.observe(o),Fh(n,r),s}function cr(n,t,i){i&&i.disconnect(),t==="resize"&&zh(n)}function jh(n,t,i){let e=n.canvas,o=qo(r=>{n.ctx!==null&&i(Rh(r,n))},n);return Eh(e,t,o),o}var pr=class extends Qi{acquireContext(t,i){let e=t&&t.getContext&&t.getContext("2d");return e&&e.canvas===t?(Th(t,i),e):null}releaseContext(t){let i=t.canvas;if(!i[qi])return!1;let e=i[qi].initial;["height","width"].forEach(r=>{let s=e[r];lt(s)?i.removeAttribute(r):i.setAttribute(r,s)});let o=e.style||{};return Object.keys(o).forEach(r=>{i.style[r]=o[r]}),i.width=i.width,delete i[qi],!0}addEventListener(t,i,e){this.removeEventListener(t,i);let o=t.$proxies||(t.$proxies={}),s={attach:Ah,detach:Lh,resize:Nh}[i]||jh;o[i]=s(t,i,e)}removeEventListener(t,i){let e=t.$proxies||(t.$proxies={}),o=e[i];if(!o)return;({attach:cr,detach:cr,resize:cr}[i]||Ih)(t,i,o),e[i]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,i,e,o){return da(t,i,e,o)}isAttached(t){let i=t&&ji(t);return!!(i&&i.isConnected)}};function Bh(n){return!Ni()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?fr:pr}var Zi=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){let{x:i,y:e}=this.getProps(["x","y"],t);return{x:i,y:e}}hasValue(){return Nn(this.x)&&Nn(this.y)}getProps(t,i){let e=this.$animations;if(!i||!e)return this;let o={};return t.forEach(r=>{o[r]=e[r]&&e[r].active()?e[r]._to:this[r]}),o}};function Vh(n,t){let i=n.options.ticks,e=Hh(n),o=Math.min(i.maxTicksLimit||e,e),r=i.major.enabled?Uh(t):[],s=r.length,a=r[0],l=r[s-1],c=[];if(s>o)return $h(t,c,r,s/o),c;let h=Wh(r,t,o);if(s>0){let g,p,_=s>1?Math.round((l-a)/(s-1)):null;for(Wi(t,c,h,lt(_)?0:a-_,a),g=0,p=s-1;g<p;g++)Wi(t,c,h,r[g],r[g+1]);return Wi(t,c,h,l,lt(_)?t.length:l+_),c}return Wi(t,c,h),c}function Hh(n){let t=n.options.offset,i=n._tickSize(),e=n._length/i+(t?0:1),o=n._maxLength/i;return Math.floor(Math.min(e,o))}function Wh(n,t,i){let e=Yh(n),o=t.length/i;if(!e)return Math.max(o,1);let r=Hs(e);for(let s=0,a=r.length-1;s<a;s++){let l=r[s];if(l>o)return l}return Math.max(o,1)}function Uh(n){let t=[],i,e;for(i=0,e=n.length;i<e;i++)n[i].major&&t.push(i);return t}function $h(n,t,i,e){let o=0,r=i[0],s;for(e=Math.ceil(e),s=0;s<n.length;s++)s===r&&(t.push(n[s]),o++,r=i[o*e])}function Wi(n,t,i,e,o){let r=gt(e,0),s=Math.min(gt(o,n.length),n.length),a=0,l,c,h;for(i=Math.ceil(i),o&&(l=o-e,i=l/Math.floor(l/i)),h=r;h<0;)a++,h=Math.round(r+a*i);for(c=Math.max(r,0);c<s;c++)c===h&&(t.push(n[c]),a++,h=Math.round(r+a*i))}function Yh(n){let t=n.length,i,e;if(t<2)return!1;for(e=n[0],i=1;i<t;++i)if(n[i]-n[i-1]!==e)return!1;return e}var qh=n=>n==="left"?"right":n==="right"?"left":n,wa=(n,t,i)=>t==="top"||t==="left"?n[t]+i:n[t]-i,Pa=(n,t)=>Math.min(t||n,n);function Sa(n,t){let i=[],e=n.length/t,o=n.length,r=0;for(;r<o;r+=e)i.push(n[Math.floor(r)]);return i}function Gh(n,t,i){let e=n.ticks.length,o=Math.min(t,e-1),r=n._startPixel,s=n._endPixel,a=1e-6,l=n.getPixelForTick(o),c;if(!(i&&(e===1?c=Math.max(l-r,s-l):t===0?c=(n.getPixelForTick(1)-l)/2:c=(l-n.getPixelForTick(o-1))/2,l+=o<t?c:-c,l<r-a||l>s+a)))return l}function Qh(n,t){kt(n,i=>{let e=i.gc,o=e.length/2,r;if(o>t){for(r=0;r<o;++r)delete i.data[e[r]];e.splice(0,o)}})}function $n(n){return n.drawTicks?n.tickLength:0}function Oa(n,t){if(!n.display)return 0;let i=Te(n.font,t),e=Qt(n.padding);return(ft(n.text)?n.text.length:1)*i.lineHeight+e.height}function Kh(n,t){return Ee(n,{scale:t,type:"scale"})}function Zh(n,t,i){return Ee(n,{tick:i,index:t,type:"tick"})}function Xh(n,t,i){let e=Js(n);return(i&&t!=="right"||!i&&t==="right")&&(e=qh(e)),e}function Jh(n,t,i,e){let{top:o,left:r,bottom:s,right:a,chart:l}=n,{chartArea:c,scales:h}=l,g=0,p,_,v,O=s-o,M=a-r;if(n.isHorizontal()){if(_=Go(e,r,a),W(i)){let I=Object.keys(i)[0],z=i[I];v=h[I].getPixelForValue(z)+O-t}else i==="center"?v=(c.bottom+c.top)/2+O-t:v=wa(n,i,t);p=a-r}else{if(W(i)){let I=Object.keys(i)[0],z=i[I];_=h[I].getPixelForValue(z)-M+t}else i==="center"?_=(c.left+c.right)/2-M+t:_=wa(n,i,t);v=Go(e,s,o),g=i==="left"?-Gt:Gt}return{titleX:_,titleY:v,maxWidth:p,rotation:g}}var en=class n extends Zi{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,i){return t}getUserBounds(){let{_userMin:t,_userMax:i,_suggestedMin:e,_suggestedMax:o}=this;return t=Et(t,Number.POSITIVE_INFINITY),i=Et(i,Number.NEGATIVE_INFINITY),e=Et(e,Number.POSITIVE_INFINITY),o=Et(o,Number.NEGATIVE_INFINITY),{min:Et(t,e),max:Et(i,o),minDefined:vt(t),maxDefined:vt(i)}}getMinMax(t){let{min:i,max:e,minDefined:o,maxDefined:r}=this.getUserBounds(),s;if(o&&r)return{min:i,max:e};let a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)s=a[l].controller.getMinMax(this,t),o||(i=Math.min(i,s.min)),r||(e=Math.max(e,s.max));return i=r&&i>e?e:i,e=o&&i>e?i:e,{min:Et(i,Et(e,i)),max:Et(e,Et(i,e))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ct(this.options.beforeUpdate,[this])}update(t,i,e){let{beginAtZero:o,grace:r,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=i,this._margins=e=Object.assign({left:0,right:0,top:0,bottom:0},e),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+e.left+e.right:this.height+e.top+e.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=sa(this,r,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=a<this.ticks.length;this._convertTicksToLabels(l?Sa(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=Vh(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,i,e;this.isHorizontal()?(i=this.left,e=this.right):(i=this.top,e=this.bottom,t=!t),this._startPixel=i,this._endPixel=e,this._reversePixels=t,this._length=e-i,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ct(this.options.afterUpdate,[this])}beforeSetDimensions(){ct(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ct(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ct(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ct(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let i=this.options.ticks,e,o,r;for(e=0,o=t.length;e<o;e++)r=t[e],r.label=ct(i.callback,[r.value,e,t],this)}afterTickToLabelConversion(){ct(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ct(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,i=t.ticks,e=Pa(this.ticks.length,t.ticks.maxTicksLimit),o=i.minRotation||0,r=i.maxRotation,s=o,a,l,c;if(!this._isVisible()||!i.display||o>=r||e<=1||!this.isHorizontal()){this.labelRotation=o;return}let h=this._getLabelSizes(),g=h.widest.width,p=h.highest.height,_=fe(this.chart.width-g,0,this.maxWidth);a=t.offset?this.maxWidth/e:_/(e-1),g+6>a&&(a=_/(e-(t.offset?.5:1)),l=this.maxHeight-$n(t.grid)-i.padding-Oa(t.title,this.chart.options.font),c=Math.sqrt(g*g+p*p),s=Ii(Math.min(Math.asin(fe((h.highest.height+6)/a,-1,1)),Math.asin(fe(l/c,-1,1))-Math.asin(fe(p/c,-1,1)))),s=Math.max(o,Math.min(r,s))),this.labelRotation=s}afterCalculateLabelRotation(){ct(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ct(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:i,options:{ticks:e,title:o,grid:r}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){let l=Oa(o,i.options.font);if(a?(t.width=this.maxWidth,t.height=$n(r)+l):(t.height=this.maxHeight,t.width=$n(r)+l),e.display&&this.ticks.length){let{first:c,last:h,widest:g,highest:p}=this._getLabelSizes(),_=e.padding*2,v=oe(this.labelRotation),O=Math.cos(v),M=Math.sin(v);if(a){let I=e.mirror?0:M*g.width+O*p.height;t.height=Math.min(this.maxHeight,t.height+I+_)}else{let I=e.mirror?0:O*g.width+M*p.height;t.width=Math.min(this.maxWidth,t.width+I+_)}this._calculatePadding(c,h,M,O)}}this._handleMargins(),a?(this.width=this._length=i.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=i.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,i,e,o){let{ticks:{align:r,padding:s},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let h=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1),p=0,_=0;l?c?(p=o*t.width,_=e*i.height):(p=e*t.height,_=o*i.width):r==="start"?_=i.width:r==="end"?p=t.width:r!=="inner"&&(p=t.width/2,_=i.width/2),this.paddingLeft=Math.max((p-h+s)*this.width/(this.width-h),0),this.paddingRight=Math.max((_-g+s)*this.width/(this.width-g),0)}else{let h=i.height/2,g=t.height/2;r==="start"?(h=0,g=t.height):r==="end"&&(h=i.height,g=0),this.paddingTop=h+s,this.paddingBottom=g+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ct(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:i}=this.options;return i==="top"||i==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let i,e;for(i=0,e=t.length;i<e;i++)lt(t[i].label)&&(t.splice(i,1),e--,i--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let i=this.options.ticks.sampleSize,e=this.ticks;i<e.length&&(e=Sa(e,i)),this._labelSizes=t=this._computeLabelSizes(e,e.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,i,e){let{ctx:o,_longestTextCache:r}=this,s=[],a=[],l=Math.floor(i/Pa(i,e)),c=0,h=0,g,p,_,v,O,M,I,z,dt,mt,B;for(g=0;g<i;g+=l){if(v=t[g].label,O=this._resolveTickFontOptions(g),o.font=M=O.string,I=r[M]=r[M]||{data:{},gc:[]},z=O.lineHeight,dt=mt=0,!lt(v)&&!ft(v))dt=Rn(o,I.data,I.gc,dt,v),mt=z;else if(ft(v))for(p=0,_=v.length;p<_;++p)B=v[p],!lt(B)&&!ft(B)&&(dt=Rn(o,I.data,I.gc,dt,B),mt+=z);s.push(dt),a.push(mt),c=Math.max(dt,c),h=Math.max(mt,h)}Qh(r,i);let G=s.indexOf(c),V=a.indexOf(h),J=Q=>({width:s[Q]||0,height:a[Q]||0});return{first:J(0),last:J(i-1),widest:J(G),highest:J(V),widths:s,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,i){return NaN}getValueForPixel(t){}getPixelForTick(t){let i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let i=this._startPixel+t*this._length;return Ys(this._alignToPixels?me(this.chart,i,0):i)}getDecimalForPixel(t){let i=(t-this._startPixel)/this._length;return this._reversePixels?1-i:i}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:i}=this;return t<0&&i<0?i:t>0&&i>0?t:0}getContext(t){let i=this.ticks||[];if(t>=0&&t<i.length){let e=i[t];return e.$context||(e.$context=Zh(this.getContext(),t,e))}return this.$context||(this.$context=Kh(this.chart.getContext(),this))}_tickSize(){let t=this.options.ticks,i=oe(this.labelRotation),e=Math.abs(Math.cos(i)),o=Math.abs(Math.sin(i)),r=this._getLabelSizes(),s=t.autoSkipPadding||0,a=r?r.widest.width+s:0,l=r?r.highest.height+s:0;return this.isHorizontal()?l*e>a*o?a/e:l/o:l*o<a*e?l/e:a/o}_isVisible(){let t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let i=this.axis,e=this.chart,o=this.options,{grid:r,position:s,border:a}=o,l=r.offset,c=this.isHorizontal(),g=this.ticks.length+(l?1:0),p=$n(r),_=[],v=a.setContext(this.getContext()),O=v.display?v.width:0,M=O/2,I=function(Ct){return me(e,Ct,O)},z,dt,mt,B,G,V,J,Q,_t,bt,xt,Bt;if(s==="top")z=I(this.bottom),V=this.bottom-p,Q=z-M,bt=I(t.top)+M,Bt=t.bottom;else if(s==="bottom")z=I(this.top),bt=t.top,Bt=I(t.bottom)-M,V=z+M,Q=this.top+p;else if(s==="left")z=I(this.right),G=this.right-p,J=z-M,_t=I(t.left)+M,xt=t.right;else if(s==="right")z=I(this.left),_t=t.left,xt=I(t.right)-M,G=z+M,J=this.left+p;else if(i==="x"){if(s==="center")z=I((t.top+t.bottom)/2+.5);else if(W(s)){let Ct=Object.keys(s)[0],Lt=s[Ct];z=I(this.chart.scales[Ct].getPixelForValue(Lt))}bt=t.top,Bt=t.bottom,V=z+M,Q=V+p}else if(i==="y"){if(s==="center")z=I((t.left+t.right)/2);else if(W(s)){let Ct=Object.keys(s)[0],Lt=s[Ct];z=I(this.chart.scales[Ct].getPixelForValue(Lt))}G=z-M,J=G-p,_t=t.left,xt=t.right}let ae=gt(o.ticks.maxTicksLimit,g),pt=Math.max(1,Math.ceil(g/ae));for(dt=0;dt<g;dt+=pt){let Ct=this.getContext(dt),Lt=r.setContext(Ct),li=a.setContext(Ct),ci=Lt.lineWidth,Ae=Lt.color,di=li.dash||[],Le=li.dashOffset,pn=Lt.tickWidth,ke=Lt.tickColor,mn=Lt.tickBorderDash||[],Me=Lt.tickBorderDashOffset;mt=Gh(this,dt,l),mt!==void 0&&(B=me(e,mt,ci),c?G=J=_t=xt=B:V=Q=bt=Bt=B,_.push({tx1:G,ty1:V,tx2:J,ty2:Q,x1:_t,y1:bt,x2:xt,y2:Bt,width:ci,color:Ae,borderDash:di,borderDashOffset:Le,tickWidth:pn,tickColor:ke,tickBorderDash:mn,tickBorderDashOffset:Me}))}return this._ticksLength=g,this._borderValue=z,_}_computeLabelItems(t){let i=this.axis,e=this.options,{position:o,ticks:r}=e,s=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:h,mirror:g}=r,p=$n(e.grid),_=p+h,v=g?-h:_,O=-oe(this.labelRotation),M=[],I,z,dt,mt,B,G,V,J,Q,_t,bt,xt,Bt="middle";if(o==="top")G=this.bottom-v,V=this._getXAxisLabelAlignment();else if(o==="bottom")G=this.top+v,V=this._getXAxisLabelAlignment();else if(o==="left"){let pt=this._getYAxisLabelAlignment(p);V=pt.textAlign,B=pt.x}else if(o==="right"){let pt=this._getYAxisLabelAlignment(p);V=pt.textAlign,B=pt.x}else if(i==="x"){if(o==="center")G=(t.top+t.bottom)/2+_;else if(W(o)){let pt=Object.keys(o)[0],Ct=o[pt];G=this.chart.scales[pt].getPixelForValue(Ct)+_}V=this._getXAxisLabelAlignment()}else if(i==="y"){if(o==="center")B=(t.left+t.right)/2-_;else if(W(o)){let pt=Object.keys(o)[0],Ct=o[pt];B=this.chart.scales[pt].getPixelForValue(Ct)}V=this._getYAxisLabelAlignment(p).textAlign}i==="y"&&(l==="start"?Bt="top":l==="end"&&(Bt="bottom"));let ae=this._getLabelSizes();for(I=0,z=a.length;I<z;++I){dt=a[I],mt=dt.label;let pt=r.setContext(this.getContext(I));J=this.getPixelForTick(I)+r.labelOffset,Q=this._resolveTickFontOptions(I),_t=Q.lineHeight,bt=ft(mt)?mt.length:1;let Ct=bt/2,Lt=pt.color,li=pt.textStrokeColor,ci=pt.textStrokeWidth,Ae=V;s?(B=J,V==="inner"&&(I===z-1?Ae=this.options.reverse?"left":"right":I===0?Ae=this.options.reverse?"right":"left":Ae="center"),o==="top"?c==="near"||O!==0?xt=-bt*_t+_t/2:c==="center"?xt=-ae.highest.height/2-Ct*_t+_t:xt=-ae.highest.height+_t/2:c==="near"||O!==0?xt=_t/2:c==="center"?xt=ae.highest.height/2-Ct*_t:xt=ae.highest.height-bt*_t,g&&(xt*=-1),O!==0&&!pt.showLabelBackdrop&&(B+=_t/2*Math.sin(O))):(G=J,xt=(1-bt)*_t/2);let di;if(pt.showLabelBackdrop){let Le=Qt(pt.backdropPadding),pn=ae.heights[I],ke=ae.widths[I],mn=xt-Le.top,Me=0-Le.left;switch(Bt){case"middle":mn-=pn/2;break;case"bottom":mn-=pn;break}switch(V){case"center":Me-=ke/2;break;case"right":Me-=ke;break;case"inner":I===z-1?Me-=ke:I>0&&(Me-=ke/2);break}di={left:Me,top:mn,width:ke+Le.width,height:pn+Le.height,color:pt.backdropColor}}M.push({label:mt,font:Q,textOffset:xt,options:{rotation:O,color:Lt,strokeColor:li,strokeWidth:ci,textAlign:Ae,textBaseline:Bt,translation:[B,G],backdrop:di}})}return M}_getXAxisLabelAlignment(){let{position:t,ticks:i}=this.options;if(-oe(this.labelRotation))return t==="top"?"left":"right";let o="center";return i.align==="start"?o="left":i.align==="end"?o="right":i.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(t){let{position:i,ticks:{crossAlign:e,mirror:o,padding:r}}=this.options,s=this._getLabelSizes(),a=t+r,l=s.widest.width,c,h;return i==="left"?o?(h=this.right+r,e==="near"?c="left":e==="center"?(c="center",h+=l/2):(c="right",h+=l)):(h=this.right-a,e==="near"?c="right":e==="center"?(c="center",h-=l/2):(c="left",h=this.left)):i==="right"?o?(h=this.left+r,e==="near"?c="right":e==="center"?(c="center",h-=l/2):(c="left",h-=l)):(h=this.left+a,e==="near"?c="left":e==="center"?(c="center",h+=l/2):(c="right",h=this.right)):c="right",{textAlign:c,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,i=this.options.position;if(i==="left"||i==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(i==="top"||i==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){let{ctx:t,options:{backgroundColor:i},left:e,top:o,width:r,height:s}=this;i&&(t.save(),t.fillStyle=i,t.fillRect(e,o,r,s),t.restore())}getLineWidthForValue(t){let i=this.options.grid;if(!this._isVisible()||!i.display)return 0;let o=this.ticks.findIndex(r=>r.value===t);return o>=0?i.setContext(this.getContext(o)).lineWidth:0}drawGrid(t){let i=this.options.grid,e=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),r,s,a=(l,c,h)=>{!h.width||!h.color||(e.save(),e.lineWidth=h.width,e.strokeStyle=h.color,e.setLineDash(h.borderDash||[]),e.lineDashOffset=h.borderDashOffset,e.beginPath(),e.moveTo(l.x,l.y),e.lineTo(c.x,c.y),e.stroke(),e.restore())};if(i.display)for(r=0,s=o.length;r<s;++r){let l=o[r];i.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),i.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:t,ctx:i,options:{border:e,grid:o}}=this,r=e.setContext(this.getContext()),s=e.display?r.width:0;if(!s)return;let a=o.setContext(this.getContext(0)).lineWidth,l=this._borderValue,c,h,g,p;this.isHorizontal()?(c=me(t,this.left,s)-s/2,h=me(t,this.right,a)+a/2,g=p=l):(g=me(t,this.top,s)-s/2,p=me(t,this.bottom,a)+a/2,c=h=l),i.save(),i.lineWidth=r.width,i.strokeStyle=r.color,i.beginPath(),i.moveTo(c,g),i.lineTo(h,p),i.stroke(),i.restore()}drawLabels(t){if(!this.options.ticks.display)return;let e=this.ctx,o=this._computeLabelArea();o&&Zo(e,o);let r=this.getLabelItems(t);for(let s of r){let a=s.options,l=s.font,c=s.label,h=s.textOffset;Bn(e,c,0,h,l,a)}o&&Xo(e)}drawTitle(){let{ctx:t,options:{position:i,title:e,reverse:o}}=this;if(!e.display)return;let r=Te(e.font),s=Qt(e.padding),a=e.align,l=r.lineHeight/2;i==="bottom"||i==="center"||W(i)?(l+=s.bottom,ft(e.text)&&(l+=r.lineHeight*(e.text.length-1))):l+=s.top;let{titleX:c,titleY:h,maxWidth:g,rotation:p}=Jh(this,l,i,a);Bn(t,e.text,0,0,r,{color:e.color,maxWidth:g,rotation:p,textAlign:Xh(a,i,o),textBaseline:"middle",translation:[c,h]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,i=t.ticks&&t.ticks.z||0,e=gt(t.grid&&t.grid.z,-1),o=gt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==n.prototype.draw?[{z:i,draw:r=>{this.draw(r)}}]:[{z:e,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:i,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){let i=this.chart.getSortedVisibleDatasetMetas(),e=this.axis+"AxisID",o=[],r,s;for(r=0,s=i.length;r<s;++r){let a=i[r];a[e]===this.id&&(!t||a.type===t)&&o.push(a)}return o}_resolveTickFontOptions(t){let i=this.options.ticks.setContext(this.getContext(t));return Te(i.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}},tn=class{constructor(t,i,e){this.type=t,this.scope=i,this.override=e,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let i=Object.getPrototypeOf(t),e;ng(i)&&(e=this.register(i));let o=this.items,r=t.id,s=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in o||(o[r]=t,tg(t,s,e),this.override&&at.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){let i=this.items,e=t.id,o=this.scope;e in i&&delete i[e],o&&e in at[o]&&(delete at[o][e],this.override&&delete pe[e])}};function tg(n,t,i){let e=Xe(Object.create(null),[i?at.get(i):{},at.get(t),n.defaults]);at.set(t,e),n.defaultRoutes&&eg(t,n.defaultRoutes),n.descriptors&&at.describe(t,n.descriptors)}function eg(n,t){Object.keys(t).forEach(i=>{let e=i.split("."),o=e.pop(),r=[n].concat(e).join("."),s=t[i].split("."),a=s.pop(),l=s.join(".");at.route(r,o,l,a)})}function ng(n){return"id"in n&&"defaults"in n}var mr=class{constructor(){this.controllers=new tn(ph,"datasets",!0),this.elements=new tn(Zi,"elements"),this.plugins=new tn(Object,"plugins"),this.scales=new tn(en,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,i,e){[...i].forEach(o=>{let r=e||this._getRegistryForType(o);e||r.isForType(o)||r===this.plugins&&o.id?this._exec(t,r,o):kt(o,s=>{let a=e||this._getRegistryForType(s);this._exec(t,a,s)})})}_exec(t,i,e){let o=Ei(t);ct(e["before"+o],[],e),i[t](e),ct(e["after"+o],[],e)}_getRegistryForType(t){for(let i=0;i<this._typedRegistries.length;i++){let e=this._typedRegistries[i];if(e.isForType(t))return e}return this.plugins}_get(t,i,e){let o=i.get(t);if(o===void 0)throw new Error('"'+t+'" is not a registered '+e+".");return o}},Kt=new mr,_r=class{constructor(){this._init=[]}notify(t,i,e,o){i==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));let r=o?this._descriptors(t).filter(o):this._descriptors(t),s=this._notify(r,t,i,e);return i==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,i,e,o){o=o||{};for(let r of t){let s=r.plugin,a=s[e],l=[i,o,r.options];if(ct(a,l,s)===!1&&o.cancelable)return!1}return!0}invalidate(){lt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let i=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),i}_createDescriptors(t,i){let e=t&&t.config,o=gt(e.options&&e.options.plugins,{}),r=ig(e);return o===!1&&!i?[]:rg(t,r,o,i)}_notifyStateChanges(t){let i=this._oldCache||[],e=this._cache,o=(r,s)=>r.filter(a=>!s.some(l=>a.plugin.id===l.plugin.id));this._notify(o(i,e),t,"stop"),this._notify(o(e,i),t,"start")}};function ig(n){let t={},i=[],e=Object.keys(Kt.plugins.items);for(let r=0;r<e.length;r++)i.push(Kt.getPlugin(e[r]));let o=n.plugins||[];for(let r=0;r<o.length;r++){let s=o[r];i.indexOf(s)===-1&&(i.push(s),t[s.id]=!0)}return{plugins:i,localIds:t}}function og(n,t){return!t&&n===!1?null:n===!0?{}:n}function rg(n,{plugins:t,localIds:i},e,o){let r=[],s=n.getContext();for(let a of t){let l=a.id,c=og(e[l],o);c!==null&&r.push({plugin:a,options:sg(n.config,{plugin:a,local:i[l]},c,s)})}return r}function sg(n,{plugin:t,local:i},e,o){let r=n.pluginScopeKeys(t),s=n.getOptionScopes(e,r);return i&&t.defaults&&s.push(t.defaults),n.createResolver(s,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function br(n,t){let i=at.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||i.indexAxis||"x"}function ag(n,t){let i=n;return n==="_index_"?i=t:n==="_value_"&&(i=t==="x"?"y":"x"),i}function lg(n,t){return n===t?"_index_":"_value_"}function Da(n){if(n==="x"||n==="y"||n==="r")return n}function cg(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function xr(n,...t){if(Da(n))return n;for(let i of t){let e=i.axis||cg(i.position)||n.length>1&&Da(n[0].toLowerCase());if(e)return e}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Ta(n,t,i){if(i[t+"AxisID"]===n)return{axis:t}}function dg(n,t){if(t.data&&t.data.datasets){let i=t.data.datasets.filter(e=>e.xAxisID===n||e.yAxisID===n);if(i.length)return Ta(n,"x",i[0])||Ta(n,"y",i[0])}return{}}function ug(n,t){let i=pe[n.type]||{scales:{}},e=t.scales||{},o=br(n.type,t),r=Object.create(null);return Object.keys(e).forEach(s=>{let a=e[s];if(!W(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);let l=xr(s,a,dg(s,n),at.scales[a.type]),c=lg(l,o),h=i.scales||{};r[s]=Je(Object.create(null),[{axis:l},a,h[l],h[c]])}),n.data.datasets.forEach(s=>{let a=s.type||n.type,l=s.indexAxis||br(a,t),h=(pe[a]||{}).scales||{};Object.keys(h).forEach(g=>{let p=ag(g,l),_=s[p+"AxisID"]||p;r[_]=r[_]||Object.create(null),Je(r[_],[{axis:p},e[_],h[g]])})}),Object.keys(r).forEach(s=>{let a=r[s];Je(a,[at.scales[a.type],at.scale])}),r}function il(n){let t=n.options||(n.options={});t.plugins=gt(t.plugins,{}),t.scales=ug(n,t)}function ol(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function hg(n){return n=n||{},n.data=ol(n.data),il(n),n}var Ea=new Map,rl=new Set;function Ui(n,t){let i=Ea.get(n);return i||(i=t(),Ea.set(n,i),rl.add(i)),i}var Yn=(n,t,i)=>{let e=An(t,i);e!==void 0&&n.add(e)},vr=class{constructor(t){this._config=hg(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=ol(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),il(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Ui(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,i){return Ui(`${t}.transition.${i}`,()=>[[`datasets.${t}.transitions.${i}`,`transitions.${i}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,i){return Ui(`${t}-${i}`,()=>[[`datasets.${t}.elements.${i}`,`datasets.${t}`,`elements.${i}`,""]])}pluginScopeKeys(t){let i=t.id,e=this.type;return Ui(`${e}-plugin-${i}`,()=>[[`plugins.${i}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,i){let e=this._scopeCache,o=e.get(t);return(!o||i)&&(o=new Map,e.set(t,o)),o}getOptionScopes(t,i,e){let{options:o,type:r}=this,s=this._cachedScopes(t,e),a=s.get(i);if(a)return a;let l=new Set;i.forEach(h=>{t&&(l.add(t),h.forEach(g=>Yn(l,t,g))),h.forEach(g=>Yn(l,o,g)),h.forEach(g=>Yn(l,pe[r]||{},g)),h.forEach(g=>Yn(l,at,g)),h.forEach(g=>Yn(l,Fi,g))});let c=Array.from(l);return c.length===0&&c.push(Object.create(null)),rl.has(i)&&s.set(i,c),c}chartOptionScopes(){let{options:t,type:i}=this;return[t,pe[i]||{},at.datasets[i]||{},{type:i},at,Fi]}resolveNamedOptions(t,i,e,o=[""]){let r={$shared:!0},{resolver:s,subPrefixes:a}=Ia(this._resolverCache,t,o),l=s;if(fg(s,i)){r.$shared=!1,e=ne(e)?e():e;let c=this.createResolver(t,e,a);l=Oe(s,e,c)}for(let c of i)r[c]=l[c];return r}createResolver(t,i,e=[""],o){let{resolver:r}=Ia(this._resolverCache,t,e);return W(i)?Oe(r,i,void 0,o):r}};function Ia(n,t,i){let e=n.get(t);e||(e=new Map,n.set(t,e));let o=i.join(),r=e.get(o);return r||(r={resolver:zi(t,i),subPrefixes:i.filter(a=>!a.toLowerCase().includes("hover"))},e.set(o,r)),r}var gg=n=>W(n)&&Object.getOwnPropertyNames(n).some(t=>ne(n[t]));function fg(n,t){let{isScriptable:i,isIndexable:e}=tr(n);for(let o of t){let r=i(o),s=e(o),a=(s||r)&&n[o];if(r&&(ne(a)||gg(a))||s&&ft(a))return!0}return!1}var pg="4.4.3",mg=["top","bottom","left","right","chartArea"];function Ra(n,t){return n==="top"||n==="bottom"||mg.indexOf(n)===-1&&t==="x"}function Aa(n,t){return function(i,e){return i[n]===e[n]?i[t]-e[t]:i[n]-e[n]}}function La(n){let t=n.chart,i=t.options.animation;t.notifyPlugins("afterRender"),ct(i&&i.onComplete,[n],t)}function _g(n){let t=n.chart,i=t.options.animation;ct(i&&i.onProgress,[n],t)}function sl(n){return Ni()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}var Gi={},Fa=n=>{let t=sl(n);return Object.values(Gi).filter(i=>i.canvas===t).pop()};function bg(n,t,i){let e=Object.keys(n);for(let o of e){let r=+o;if(r>=t){let s=n[o];delete n[o],(i>0||r>t)&&(n[r+i]=s)}}}function xg(n,t,i,e){return!i||n.type==="mouseout"?null:e?t:n}function $i(n,t,i){return n.options.clip?n[i]:t[i]}function vg(n,t){let{xScale:i,yScale:e}=n;return i&&e?{left:$i(i,t,"left"),right:$i(i,t,"right"),top:$i(e,t,"top"),bottom:$i(e,t,"bottom")}:t}var Xi=(()=>{class n{static defaults=at;static instances=Gi;static overrides=pe;static registry=Kt;static version=pg;static getChart=Fa;static register(...i){Kt.add(...i),za()}static unregister(...i){Kt.remove(...i),za()}constructor(i,e){let o=this.config=new vr(e),r=sl(i),s=Fa(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");let a=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||Bh(r)),this.platform.updateConfig(o);let l=this.platform.acquireContext(r,a.aspectRatio),c=l&&l.canvas,h=c&&c.height,g=c&&c.width;if(this.id=Ns(),this.ctx=l,this.canvas=c,this.width=g,this.height=h,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new _r,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Xs(p=>this.update(p),a.resizeDelay||0),this._dataChanges=[],Gi[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}re.listen(this,"complete",La),re.listen(this,"progress",_g),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:i,maintainAspectRatio:e},width:o,height:r,_aspectRatio:s}=this;return lt(i)?e&&s?s:r?o/r:null:i}get data(){return this.config.data}set data(i){this.config.data=i}get options(){return this._options}set options(i){this.config.options=i}get registry(){return Kt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ir(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ko(this.canvas,this.ctx),this}stop(){return re.stop(this),this}resize(i,e){re.running(this)?this._resizeBeforeDraw={width:i,height:e}:this._resize(i,e)}_resize(i,e){let o=this.options,r=this.canvas,s=o.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,i,e,s),l=o.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,ir(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),ct(o.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){let e=this.options.scales||{};kt(e,(o,r)=>{o.id=r})}buildOrUpdateScales(){let i=this.options,e=i.scales,o=this.scales,r=Object.keys(o).reduce((a,l)=>(a[l]=!1,a),{}),s=[];e&&(s=s.concat(Object.keys(e).map(a=>{let l=e[a],c=xr(a,l),h=c==="r",g=c==="x";return{options:l,dposition:h?"chartArea":g?"bottom":"left",dtype:h?"radialLinear":g?"category":"linear"}}))),kt(s,a=>{let l=a.options,c=l.id,h=xr(c,l),g=gt(l.type,a.dtype);(l.position===void 0||Ra(l.position,h)!==Ra(a.dposition))&&(l.position=a.dposition),r[c]=!0;let p=null;if(c in o&&o[c].type===g)p=o[c];else{let _=Kt.getScale(g);p=new _({id:c,type:g,ctx:this.ctx,chart:this}),o[p.id]=p}p.init(l,i)}),kt(r,(a,l)=>{a||delete o[l]}),kt(o,a=>{Hi.configure(this,a,a.options),Hi.addBox(this,a)})}_updateMetasets(){let i=this._metasets,e=this.data.datasets.length,o=i.length;if(i.sort((r,s)=>r.index-s.index),o>e){for(let r=e;r<o;++r)this._destroyDatasetMeta(r);i.splice(e,o-e)}this._sortedMetasets=i.slice(0).sort(Aa("order","index"))}_removeUnreferencedMetasets(){let{_metasets:i,data:{datasets:e}}=this;i.length>e.length&&delete this._stacks,i.forEach((o,r)=>{e.filter(s=>s===o._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){let i=[],e=this.data.datasets,o,r;for(this._removeUnreferencedMetasets(),o=0,r=e.length;o<r;o++){let s=e[o],a=this.getDatasetMeta(o),l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(o),a=this.getDatasetMeta(o)),a.type=l,a.indexAxis=s.indexAxis||br(l,this.options),a.order=s.order||0,a.index=o,a.label=""+s.label,a.visible=this.isDatasetVisible(o),a.controller)a.controller.updateIndex(o),a.controller.linkScales();else{let c=Kt.getController(l),{datasetElementType:h,dataElementType:g}=at.datasets[l];Object.assign(c,{dataElementType:Kt.getElement(g),datasetElementType:h&&Kt.getElement(h)}),a.controller=new c(this,o),i.push(a.controller)}}return this._updateMetasets(),i}_resetElements(){kt(this.data.datasets,(i,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(i){let e=this.config;e.update();let o=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:i,cancelable:!0})===!1)return;let s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let h=0,g=this.data.datasets.length;h<g;h++){let{controller:p}=this.getDatasetMeta(h),_=!r&&s.indexOf(p)===-1;p.buildOrUpdateElements(_),a=Math.max(+p.getMaxOverflow(),a)}a=this._minPadding=o.layout.autoPadding?a:0,this._updateLayout(a),r||kt(s,h=>{h.reset()}),this._updateDatasets(i),this.notifyPlugins("afterUpdate",{mode:i}),this._layers.sort(Aa("z","_idx"));let{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){kt(this.scales,i=>{Hi.removeBox(this,i)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let i=this.options,e=new Set(Object.keys(this._listeners)),o=new Set(i.events);(!Vo(e,o)||!!this._responsiveListeners!==i.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:i}=this,e=this._getUniformDataChanges()||[];for(let{method:o,start:r,count:s}of e){let a=o==="_removeElements"?-s:s;bg(i,r,a)}}_getUniformDataChanges(){let i=this._dataChanges;if(!i||!i.length)return;this._dataChanges=[];let e=this.data.datasets.length,o=s=>new Set(i.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),r=o(0);for(let s=1;s<e;s++)if(!Vo(r,o(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(i){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Hi.update(this,this.width,this.height,i);let e=this.chartArea,o=e.width<=0||e.height<=0;this._layers=[],kt(this.boxes,r=>{o&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(i){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:i,cancelable:!0})!==!1){for(let e=0,o=this.data.datasets.length;e<o;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,o=this.data.datasets.length;e<o;++e)this._updateDataset(e,ne(i)?i({datasetIndex:e}):i);this.notifyPlugins("afterDatasetsUpdate",{mode:i})}}_updateDataset(i,e){let o=this.getDatasetMeta(i),r={meta:o,index:i,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(o.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(re.has(this)?this.attached&&!re.running(this)&&re.start(this):(this.draw(),La({chart:this})))}draw(){let i;if(this._resizeBeforeDraw){let{width:o,height:r}=this._resizeBeforeDraw;this._resize(o,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let e=this._layers;for(i=0;i<e.length&&e[i].z<=0;++i)e[i].draw(this.chartArea);for(this._drawDatasets();i<e.length;++i)e[i].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(i){let e=this._sortedMetasets,o=[],r,s;for(r=0,s=e.length;r<s;++r){let a=e[r];(!i||a.visible)&&o.push(a)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let i=this.getSortedVisibleDatasetMetas();for(let e=i.length-1;e>=0;--e)this._drawDataset(i[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(i){let e=this.ctx,o=i._clip,r=!o.disabled,s=vg(i,this.chartArea),a={meta:i,index:i.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(r&&Zo(e,{left:o.left===!1?0:s.left-o.left,right:o.right===!1?this.width:s.right+o.right,top:o.top===!1?0:s.top-o.top,bottom:o.bottom===!1?this.height:s.bottom+o.bottom}),i.controller.draw(),r&&Xo(e),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(i){return De(i,this.chartArea,this._minPadding)}getElementsAtEventForMode(i,e,o,r){let s=yh.modes[e];return typeof s=="function"?s(this,i,o,r):[]}getDatasetMeta(i){let e=this.data.datasets[i],o=this._metasets,r=o.filter(s=>s&&s._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:i,_dataset:e,_parsed:[],_sorted:!1},o.push(r)),r}getContext(){return this.$context||(this.$context=Ee(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(i){let e=this.data.datasets[i];if(!e)return!1;let o=this.getDatasetMeta(i);return typeof o.hidden=="boolean"?!o.hidden:!e.hidden}setDatasetVisibility(i,e){let o=this.getDatasetMeta(i);o.hidden=!e}toggleDataVisibility(i){this._hiddenIndices[i]=!this._hiddenIndices[i]}getDataVisibility(i){return!this._hiddenIndices[i]}_updateVisibility(i,e,o){let r=o?"show":"hide",s=this.getDatasetMeta(i),a=s.controller._resolveAnimations(void 0,r);Ln(e)?(s.data[e].hidden=!o,this.update()):(this.setDatasetVisibility(i,o),a.update(s,{visible:o}),this.update(l=>l.datasetIndex===i?r:void 0))}hide(i,e){this._updateVisibility(i,e,!1)}show(i,e){this._updateVisibility(i,e,!0)}_destroyDatasetMeta(i){let e=this._metasets[i];e&&e.controller&&e.controller._destroy(),delete this._metasets[i]}_stop(){let i,e;for(this.stop(),re.remove(this),i=0,e=this.data.datasets.length;i<e;++i)this._destroyDatasetMeta(i)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:i,ctx:e}=this;this._stop(),this.config.clearCache(),i&&(this.unbindEvents(),Ko(i,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Gi[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...i){return this.canvas.toDataURL(...i)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let i=this._listeners,e=this.platform,o=(s,a)=>{e.addEventListener(this,s,a),i[s]=a},r=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};kt(this.options.events,s=>o(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let i=this._responsiveListeners,e=this.platform,o=(c,h)=>{e.addEventListener(this,c,h),i[c]=h},r=(c,h)=>{i[c]&&(e.removeEventListener(this,c,h),delete i[c])},s=(c,h)=>{this.canvas&&this.resize(c,h)},a,l=()=>{r("attach",l),this.attached=!0,this.resize(),o("resize",s),o("detach",a)};a=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),o("attach",l)},e.isAttached(this.canvas)?l():a()}unbindEvents(){kt(this._listeners,(i,e)=>{this.platform.removeEventListener(this,e,i)}),this._listeners={},kt(this._responsiveListeners,(i,e)=>{this.platform.removeEventListener(this,e,i)}),this._responsiveListeners=void 0}updateHoverStyle(i,e,o){let r=o?"set":"remove",s,a,l,c;for(e==="dataset"&&(s=this.getDatasetMeta(i[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),l=0,c=i.length;l<c;++l){a=i[l];let h=a&&this.getDatasetMeta(a.datasetIndex).controller;h&&h[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(i){let e=this._active||[],o=i.map(({datasetIndex:s,index:a})=>{let l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!Bo(o,e)&&(this._active=o,this._lastEvent=null,this._updateHoverStyles(o,e))}notifyPlugins(i,e,o){return this._plugins.notify(this,i,e,o)}isPluginEnabled(i){return this._plugins._cache.filter(e=>e.plugin.id===i).length===1}_updateHoverStyles(i,e,o){let r=this.options.hover,s=(c,h)=>c.filter(g=>!h.some(p=>g.datasetIndex===p.datasetIndex&&g.index===p.index)),a=s(e,i),l=o?i:s(i,e);a.length&&this.updateHoverStyle(a,r.mode,!1),l.length&&r.mode&&this.updateHoverStyle(l,r.mode,!0)}_eventHandler(i,e){let o={event:i,replay:e,cancelable:!0,inChartArea:this.isPointInArea(i)},r=a=>(a.options.events||this.options.events).includes(i.native.type);if(this.notifyPlugins("beforeEvent",o,r)===!1)return;let s=this._handleEvent(i,e,o.inChartArea);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,r),(s||o.changed)&&this.render(),this}_handleEvent(i,e,o){let{_active:r=[],options:s}=this,a=e,l=this._getActiveElements(i,r,o,a),c=Vs(i),h=xg(i,this._lastEvent,o,c);o&&(this._lastEvent=null,ct(s.onHover,[i,l,this],this),c&&ct(s.onClick,[i,l,this],this));let g=!Bo(l,r);return(g||e)&&(this._active=l,this._updateHoverStyles(l,r,e)),this._lastEvent=h,g}_getActiveElements(i,e,o,r){if(i.type==="mouseout")return[];if(!o)return e;let s=this.options.hover;return this.getElementsAtEventForMode(i,s.mode,s,r)}}return n})();function za(){return kt(Xi.instances,n=>n._plugins.invalidate())}function yg(n,t){let i=[],{bounds:o,step:r,min:s,max:a,precision:l,count:c,maxTicks:h,maxDigits:g,includeBounds:p}=n,_=r||1,v=h-1,{min:O,max:M}=t,I=!lt(s),z=!lt(a),dt=!lt(c),mt=(M-O)/(g+1),B=Ho((M-O)/v/_)*_,G,V,J,Q;if(B<1e-14&&!I&&!z)return[{value:O},{value:M}];Q=Math.ceil(M/B)-Math.floor(O/B),Q>v&&(B=Ho(Q*B/v/_)*_),lt(l)||(G=Math.pow(10,l),B=Math.ceil(B*G)/G),o==="ticks"?(V=Math.floor(O/B)*B,J=Math.ceil(M/B)*B):(V=O,J=M),I&&z&&r&&Ws((a-s)/r,B/1e3)?(Q=Math.round(Math.min((a-s)/B,h)),B=(a-s)/Q,V=s,J=a):dt?(V=I?s:V,J=z?a:J,Q=c-1,B=(J-V)/Q):(Q=(J-V)/B,zn(Q,Math.round(Q),B/1e3)?Q=Math.round(Q):Q=Math.ceil(Q));let _t=Math.max(Uo(B),Uo(V));G=Math.pow(10,lt(l)?_t:l),V=Math.round(V*G)/G,J=Math.round(J*G)/G;let bt=0;for(I&&(p&&V!==s?(i.push({value:s}),V<s&&bt++,zn(Math.round((V+bt*B)*G)/G,s,Na(s,mt,n))&&bt++):V<s&&bt++);bt<Q;++bt){let xt=Math.round((V+bt*B)*G)/G;if(z&&xt>a)break;i.push({value:xt})}return z&&p&&J!==a?i.length&&zn(i[i.length-1].value,a,Na(a,mt,n))?i[i.length-1].value=a:i.push({value:a}):(!z||J===a)&&i.push({value:J}),i}function Na(n,t,{horizontal:i,minRotation:e}){let o=oe(e),r=(i?Math.sin(o):Math.cos(o))||.001,s=.75*t*(""+n).length;return Math.min(t/r,s)}var nn=class extends en{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,i){return lt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:i,maxDefined:e}=this.getUserBounds(),{min:o,max:r}=this,s=l=>o=i?o:l,a=l=>r=e?r:l;if(t){let l=Fn(o),c=Fn(r);l<0&&c<0?a(0):l>0&&c>0&&s(0)}if(o===r){let l=r===0?1:Math.abs(r*.05);a(r+l),t||s(o-l)}this.min=o,this.max=r}getTickLimit(){let t=this.options.ticks,{maxTicksLimit:i,stepSize:e}=t,o;return e?(o=Math.ceil(this.max/e)-Math.floor(this.min/e)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${e} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),i=i||11),i&&(o=Math.min(i,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,i=t.ticks,e=this.getTickLimit();e=Math.max(2,e);let o={maxTicks:e,bounds:t.bounds,min:t.min,max:t.max,precision:i.precision,step:i.stepSize,count:i.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:i.minRotation||0,includeBounds:i.includeBounds!==!1},r=this._range||this,s=yg(o,r);return t.bounds==="ticks"&&Wo(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){let t=this.ticks,i=this.min,e=this.max;if(super.configure(),this.options.offset&&t.length){let o=(e-i)/Math.max(t.length-1,1)/2;i-=o,e+=o}this._startValue=i,this._endValue=e,this._valueRange=e-i}getLabelForValue(t){return Li(t,this.chart.options.locale,this.options.ticks.format)}},ja=class extends nn{static id="linear";static defaults={ticks:{callback:jn.formatters.numeric}};determineDataLimits(){let{min:t,max:i}=this.getMinMax(!0);this.min=vt(t)?t:0,this.max=vt(i)?i:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),i=t?this.width:this.height,e=oe(this.options.ticks.minRotation),o=(t?Math.sin(e):Math.cos(e))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(i/Math.min(40,r.lineHeight/o))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}},Qn=n=>Math.floor(ie(n)),Re=(n,t)=>Math.pow(10,Qn(n)+t);function Ba(n){return n/Math.pow(10,Qn(n))===1}function Va(n,t,i){let e=Math.pow(10,i),o=Math.floor(n/e);return Math.ceil(t/e)-o}function Cg(n,t){let i=t-n,e=Qn(i);for(;Va(n,t,e)>10;)e++;for(;Va(n,t,e)<10;)e--;return Math.min(e,Qn(n))}function kg(n,{min:t,max:i}){t=Et(n.min,t);let e=[],o=Qn(t),r=Cg(t,i),s=r<0?Math.pow(10,Math.abs(r)):1,a=Math.pow(10,r),l=o>r?Math.pow(10,o):0,c=Math.round((t-l)*s)/s,h=Math.floor((t-l)/a/10)*a*10,g=Math.floor((c-h)/Math.pow(10,r)),p=Et(n.min,Math.round((l+h+g*Math.pow(10,r))*s)/s);for(;p<i;)e.push({value:p,major:Ba(p),significand:g}),g>=10?g=g<15?15:20:g++,g>=20&&(r++,g=2,s=r>=0?1:s),p=Math.round((l+h+g*Math.pow(10,r))*s)/s;let _=Et(n.max,p);return e.push({value:_,major:Ba(_),significand:g}),e}var Ha=class extends en{static id="logarithmic";static defaults={ticks:{callback:jn.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,i){let e=nn.prototype.parse.apply(this,[t,i]);if(e===0){this._zero=!0;return}return vt(e)&&e>0?e:null}determineDataLimits(){let{min:t,max:i}=this.getMinMax(!0);this.min=vt(t)?Math.max(0,t):null,this.max=vt(i)?Math.max(0,i):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!vt(this._userMin)&&(this.min=t===Re(this.min,0)?Re(this.min,-1):Re(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:i}=this.getUserBounds(),e=this.min,o=this.max,r=a=>e=t?e:a,s=a=>o=i?o:a;e===o&&(e<=0?(r(1),s(10)):(r(Re(e,-1)),s(Re(o,1)))),e<=0&&r(Re(o,-1)),o<=0&&s(Re(e,1)),this.min=e,this.max=o}buildTicks(){let t=this.options,i={min:this._userMin,max:this._userMax},e=kg(i,this);return t.bounds==="ticks"&&Wo(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return t===void 0?"0":Li(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=ie(t),this._valueRange=ie(this.max)-ie(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(ie(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let i=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+i*this._valueRange)}};function yr(n){let t=n.ticks;if(t.display&&n.display){let i=Qt(t.backdropPadding);return gt(t.font&&t.font.size,at.font.size)+i.height}return 0}function Mg(n,t,i){return i=ft(i)?i:[i],{w:na(n,t.string,i),h:i.length*t.lineHeight}}function Wa(n,t,i,e,o){return n===e||n===o?{start:t-i/2,end:t+i/2}:n<e||n>o?{start:t-i,end:t}:{start:t,end:t+i}}function wg(n){let t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},i=Object.assign({},t),e=[],o=[],r=n._pointLabels.length,s=n.options.pointLabels,a=s.centerPointLabels?wt/r:0;for(let l=0;l<r;l++){let c=s.setContext(n.getPointLabelContext(l));o[l]=c.padding;let h=n.getPointPosition(l,n.drawingArea+o[l],a),g=Te(c.font),p=Mg(n.ctx,g,n._pointLabels[l]);e[l]=p;let _=jt(n.getIndexAngle(l)+a),v=Math.round(Ii(_)),O=Wa(v,h.x,p.w,0,180),M=Wa(v,h.y,p.h,90,270);Pg(i,t,_,O,M)}n.setCenterPoint(t.l-i.l,i.r-t.r,t.t-i.t,i.b-t.b),n._pointLabelItems=Dg(n,e,o)}function Pg(n,t,i,e,o){let r=Math.abs(Math.sin(i)),s=Math.abs(Math.cos(i)),a=0,l=0;e.start<t.l?(a=(t.l-e.start)/r,n.l=Math.min(n.l,t.l-a)):e.end>t.r&&(a=(e.end-t.r)/r,n.r=Math.max(n.r,t.r+a)),o.start<t.t?(l=(t.t-o.start)/s,n.t=Math.min(n.t,t.t-l)):o.end>t.b&&(l=(o.end-t.b)/s,n.b=Math.max(n.b,t.b+l))}function Sg(n,t,i){let e=n.drawingArea,{extra:o,additionalAngle:r,padding:s,size:a}=i,l=n.getPointPosition(t,e+o+s,r),c=Math.round(Ii(jt(l.angle+Gt))),h=Ig(l.y,a.h,c),g=Tg(c),p=Eg(l.x,a.w,g);return{visible:!0,x:l.x,y:h,textAlign:g,left:p,top:h,right:p+a.w,bottom:h+a.h}}function Og(n,t){if(!t)return!0;let{left:i,top:e,right:o,bottom:r}=n;return!(De({x:i,y:e},t)||De({x:i,y:r},t)||De({x:o,y:e},t)||De({x:o,y:r},t))}function Dg(n,t,i){let e=[],o=n._pointLabels.length,r=n.options,{centerPointLabels:s,display:a}=r.pointLabels,l={extra:yr(r)/2,additionalAngle:s?wt/o:0},c;for(let h=0;h<o;h++){l.padding=i[h],l.size=t[h];let g=Sg(n,h,l);e.push(g),a==="auto"&&(g.visible=Og(g,c),g.visible&&(c=g))}return e}function Tg(n){return n===0||n===180?"center":n<180?"left":"right"}function Eg(n,t,i){return i==="right"?n-=t:i==="center"&&(n-=t/2),n}function Ig(n,t,i){return i===90||i===270?n-=t/2:(i>270||i<90)&&(n-=t),n}function Rg(n,t,i){let{left:e,top:o,right:r,bottom:s}=i,{backdropColor:a}=t;if(!lt(a)){let l=ra(t.borderRadius),c=Qt(t.backdropPadding);n.fillStyle=a;let h=e-c.left,g=o-c.top,p=r-e+c.width,_=s-o+c.height;Object.values(l).some(v=>v!==0)?(n.beginPath(),ia(n,{x:h,y:g,w:p,h:_,radius:l}),n.fill()):n.fillRect(h,g,p,_)}}function Ag(n,t){let{ctx:i,options:{pointLabels:e}}=n;for(let o=t-1;o>=0;o--){let r=n._pointLabelItems[o];if(!r.visible)continue;let s=e.setContext(n.getPointLabelContext(o));Rg(i,s,r);let a=Te(s.font),{x:l,y:c,textAlign:h}=r;Bn(i,n._pointLabels[o],l,c+a.lineHeight/2,a,{color:s.color,textAlign:h,textBaseline:"middle"})}}function al(n,t,i,e){let{ctx:o}=n;if(i)o.arc(n.xCenter,n.yCenter,t,0,qt);else{let r=n.getPointPosition(0,t);o.moveTo(r.x,r.y);for(let s=1;s<e;s++)r=n.getPointPosition(s,t),o.lineTo(r.x,r.y)}}function Lg(n,t,i,e,o){let r=n.ctx,s=t.circular,{color:a,lineWidth:l}=t;!s&&!e||!a||!l||i<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(o.dash),r.lineDashOffset=o.dashOffset,r.beginPath(),al(n,i,s,e),r.closePath(),r.stroke(),r.restore())}function Fg(n,t,i){return Ee(n,{label:i,index:t,type:"pointLabel"})}var Ua=class extends nn{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:jn.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=Qt(yr(this.options)/2),i=this.width=this.maxWidth-t.width,e=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+i/2+t.left),this.yCenter=Math.floor(this.top+e/2+t.top),this.drawingArea=Math.floor(Math.min(i,e)/2)}determineDataLimits(){let{min:t,max:i}=this.getMinMax(!1);this.min=vt(t)&&!isNaN(t)?t:0,this.max=vt(i)&&!isNaN(i)?i:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/yr(this.options))}generateTickLabels(t){nn.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((i,e)=>{let o=ct(this.options.pointLabels.callback,[i,e],this);return o||o===0?o:""}).filter((i,e)=>this.chart.getDataVisibility(e))}fit(){let t=this.options;t.display&&t.pointLabels.display?wg(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,i,e,o){this.xCenter+=Math.floor((t-i)/2),this.yCenter+=Math.floor((e-o)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,i,e,o))}getIndexAngle(t){let i=qt/(this._pointLabels.length||1),e=this.options.startAngle||0;return jt(t*i+oe(e))}getDistanceFromCenterForValue(t){if(lt(t))return NaN;let i=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*i:(t-this.min)*i}getValueForDistanceFromCenter(t){if(lt(t))return NaN;let i=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-i:this.min+i}getPointLabelContext(t){let i=this._pointLabels||[];if(t>=0&&t<i.length){let e=i[t];return Fg(this.getContext(),t,e)}}getPointPosition(t,i,e=0){let o=this.getIndexAngle(t)-Gt+e;return{x:Math.cos(o)*i+this.xCenter,y:Math.sin(o)*i+this.yCenter,angle:o}}getPointPositionForValue(t,i){return this.getPointPosition(t,this.getDistanceFromCenterForValue(i))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:i,top:e,right:o,bottom:r}=this._pointLabelItems[t];return{left:i,top:e,right:o,bottom:r}}drawBackground(){let{backgroundColor:t,grid:{circular:i}}=this.options;if(t){let e=this.ctx;e.save(),e.beginPath(),al(this,this.getDistanceFromCenterForValue(this._endValue),i,this._pointLabels.length),e.closePath(),e.fillStyle=t,e.fill(),e.restore()}}drawGrid(){let t=this.ctx,i=this.options,{angleLines:e,grid:o,border:r}=i,s=this._pointLabels.length,a,l,c;if(i.pointLabels.display&&Ag(this,s),o.display&&this.ticks.forEach((h,g)=>{if(g!==0||g===0&&this.min<0){l=this.getDistanceFromCenterForValue(h.value);let p=this.getContext(g),_=o.setContext(p),v=r.setContext(p);Lg(this,_,l,s,v)}}),e.display){for(t.save(),a=s-1;a>=0;a--){let h=e.setContext(this.getPointLabelContext(a)),{color:g,lineWidth:p}=h;!p||!g||(t.lineWidth=p,t.strokeStyle=g,t.setLineDash(h.borderDash),t.lineDashOffset=h.borderDashOffset,l=this.getDistanceFromCenterForValue(i.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){let t=this.ctx,i=this.options,e=i.ticks;if(!e.display)return;let o=this.getIndexAngle(0),r,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(o),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!i.reverse)return;let c=e.setContext(this.getContext(l)),h=Te(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=h.string,s=t.measureText(a.label).width,t.fillStyle=c.backdropColor;let g=Qt(c.backdropPadding);t.fillRect(-s/2-g.left,-r-h.size/2-g.top,s+g.width,h.size+g.height)}Bn(t,a.label,0,-r,h,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}},Ji={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},It=Object.keys(Ji);function $a(n,t){return n-t}function Ya(n,t){if(lt(t))return null;let i=n._adapter,{parser:e,round:o,isoWeekday:r}=n._parseOpts,s=t;return typeof e=="function"&&(s=e(s)),vt(s)||(s=typeof e=="string"?i.parse(s,e):i.parse(s)),s===null?null:(o&&(s=o==="week"&&(Nn(r)||r===!0)?i.startOf(s,"isoWeek",r):i.startOf(s,o)),+s)}function qa(n,t,i,e){let o=It.length;for(let r=It.indexOf(n);r<o-1;++r){let s=Ji[It[r]],a=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((i-t)/(a*s.size))<=e)return It[r]}return It[o-1]}function zg(n,t,i,e,o){for(let r=It.length-1;r>=It.indexOf(i);r--){let s=It[r];if(Ji[s].common&&n._adapter.diff(o,e,s)>=t-1)return s}return It[i?It.indexOf(i):0]}function Ng(n){for(let t=It.indexOf(n)+1,i=It.length;t<i;++t)if(Ji[It[t]].common)return It[t]}function Ga(n,t,i){if(!i)n[t]=!0;else if(i.length){let{lo:e,hi:o}=Ri(i,t),r=i[e]>=t?i[e]:i[o];n[r]=!0}}function jg(n,t,i,e){let o=n._adapter,r=+o.startOf(t[0].value,e),s=t[t.length-1].value,a,l;for(a=r;a<=s;a=+o.add(a,1,e))l=i[a],l>=0&&(t[l].major=!0);return t}function Qa(n,t,i){let e=[],o={},r=t.length,s,a;for(s=0;s<r;++s)a=t[s],o[a]=s,e.push({value:a,major:!1});return r===0||!i?e:jg(n,e,o,i)}var Ka=(()=>{class n extends en{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(i){super(i),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(i,e={}){let o=i.time||(i.time={}),r=this._adapter=new mh._date(i.adapters.date);r.init(e),Je(o.displayFormats,r.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(i),this._normalized=e.normalized}parse(i,e){return i===void 0?null:Ya(this,i)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let i=this.options,e=this._adapter,o=i.time.unit||"day",{min:r,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function c(h){!a&&!isNaN(h.min)&&(r=Math.min(r,h.min)),!l&&!isNaN(h.max)&&(s=Math.max(s,h.max))}(!a||!l)&&(c(this._getLabelBounds()),(i.bounds!=="ticks"||i.ticks.source!=="labels")&&c(this.getMinMax(!1))),r=vt(r)&&!isNaN(r)?r:+e.startOf(Date.now(),o),s=vt(s)&&!isNaN(s)?s:+e.endOf(Date.now(),o)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){let i=this.getLabelTimestamps(),e=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return i.length&&(e=i[0],o=i[i.length-1]),{min:e,max:o}}buildTicks(){let i=this.options,e=i.time,o=i.ticks,r=o.source==="labels"?this.getLabelTimestamps():this._generate();i.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);let s=this.min,a=this.max,l=Gs(r,s,a);return this._unit=e.unit||(o.autoSkip?qa(e.minUnit,this.min,this.max,this._getLabelCapacity(s)):zg(this,l.length,e.minUnit,this.min,this.max)),this._majorUnit=!o.major.enabled||this._unit==="year"?void 0:Ng(this._unit),this.initOffsets(r),i.reverse&&l.reverse(),Qa(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(i=>+i.value))}initOffsets(i=[]){let e=0,o=0,r,s;this.options.offset&&i.length&&(r=this.getDecimalForValue(i[0]),i.length===1?e=1-r:e=(this.getDecimalForValue(i[1])-r)/2,s=this.getDecimalForValue(i[i.length-1]),i.length===1?o=s:o=(s-this.getDecimalForValue(i[i.length-2]))/2);let a=i.length<3?.5:.25;e=fe(e,0,a),o=fe(o,0,a),this._offsets={start:e,end:o,factor:1/(e+1+o)}}_generate(){let i=this._adapter,e=this.min,o=this.max,r=this.options,s=r.time,a=s.unit||qa(s.minUnit,e,o,this._getLabelCapacity(e)),l=gt(r.ticks.stepSize,1),c=a==="week"?s.isoWeekday:!1,h=Nn(c)||c===!0,g={},p=e,_,v;if(h&&(p=+i.startOf(p,"isoWeek",c)),p=+i.startOf(p,h?"day":a),i.diff(o,e,a)>1e5*l)throw new Error(e+" and "+o+" are too far apart with stepSize of "+l+" "+a);let O=r.ticks.source==="data"&&this.getDataTimestamps();for(_=p,v=0;_<o;_=+i.add(_,l,a),v++)Ga(g,_,O);return(_===o||r.bounds==="ticks"||v===1)&&Ga(g,_,O),Object.keys(g).sort($a).map(M=>+M)}getLabelForValue(i){let e=this._adapter,o=this.options.time;return o.tooltipFormat?e.format(i,o.tooltipFormat):e.format(i,o.displayFormats.datetime)}format(i,e){let r=this.options.time.displayFormats,s=this._unit,a=e||r[s];return this._adapter.format(i,a)}_tickFormatFunction(i,e,o,r){let s=this.options,a=s.ticks.callback;if(a)return ct(a,[i,e,o],this);let l=s.time.displayFormats,c=this._unit,h=this._majorUnit,g=c&&l[c],p=h&&l[h],_=o[e],v=h&&p&&_&&_.major;return this._adapter.format(i,r||(v?p:g))}generateTickLabels(i){let e,o,r;for(e=0,o=i.length;e<o;++e)r=i[e],r.label=this._tickFormatFunction(r.value,e,i)}getDecimalForValue(i){return i===null?NaN:(i-this.min)/(this.max-this.min)}getPixelForValue(i){let e=this._offsets,o=this.getDecimalForValue(i);return this.getPixelForDecimal((e.start+o)*e.factor)}getValueForPixel(i){let e=this._offsets,o=this.getDecimalForPixel(i)/e.factor-e.end;return this.min+o*(this.max-this.min)}_getLabelSize(i){let e=this.options.ticks,o=this.ctx.measureText(i).width,r=oe(this.isHorizontal()?e.maxRotation:e.minRotation),s=Math.cos(r),a=Math.sin(r),l=this._resolveTickFontOptions(0).size;return{w:o*s+l*a,h:o*a+l*s}}_getLabelCapacity(i){let e=this.options.time,o=e.displayFormats,r=o[e.unit]||o.millisecond,s=this._tickFormatFunction(i,0,Qa(this,[i],this._majorUnit),r),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let i=this._cache.data||[],e,o;if(i.length)return i;let r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,o=r.length;e<o;++e)i=i.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}getLabelTimestamps(){let i=this._cache.labels||[],e,o;if(i.length)return i;let r=this.getLabels();for(e=0,o=r.length;e<o;++e)i.push(Ya(this,r[e]));return this._cache.labels=this._normalized?i:this.normalize(i)}normalize(i){return Zs(i.sort($a))}}return n})();function Yi(n,t,i){let e=0,o=n.length-1,r,s,a,l;i?(t>=n[e].pos&&t<=n[o].pos&&({lo:e,hi:o}=Ai(n,"pos",t)),{pos:r,time:a}=n[e],{pos:s,time:l}=n[o]):(t>=n[e].time&&t<=n[o].time&&({lo:e,hi:o}=Ai(n,"time",t)),{time:r,pos:a}=n[e],{time:s,pos:l}=n[o]);let c=s-r;return c?a+(l-a)*(t-r)/c:a}var Za=class extends Ka{static id="timeseries";static defaults=Ka.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),i=this._table=this.buildLookupTable(t);this._minPos=Yi(i,this.min),this._tableRange=Yi(i,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let{min:i,max:e}=this,o=[],r=[],s,a,l,c,h;for(s=0,a=t.length;s<a;++s)c=t[s],c>=i&&c<=e&&o.push(c);if(o.length<2)return[{time:i,pos:0},{time:e,pos:1}];for(s=0,a=o.length;s<a;++s)h=o[s+1],l=o[s-1],c=o[s],Math.round((h+l)/2)!==c&&r.push({time:c,pos:s/(a-1)});return r}_generate(){let t=this.min,i=this.max,e=super.getDataTimestamps();return(!e.includes(t)||!e.length)&&e.splice(0,0,t),(!e.includes(i)||e.length===1)&&e.push(i),e.sort((o,r)=>o-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let i=this.getDataTimestamps(),e=this.getLabelTimestamps();return i.length&&e.length?t=this.normalize(i.concat(e)):t=i.length?i:e,t=this._cache.all=t,t}getDecimalForValue(t){return(Yi(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let i=this._offsets,e=this.getDecimalForPixel(t)/i.factor-i.end;return Yi(this._table,e*this._tableRange+this._minPos,!0)}};var Bg=typeof global=="object"&&global&&global.Object===Object&&global,to=Bg;var Vg=typeof self=="object"&&self&&self.Object===Object&&self,Hg=to||Vg||Function("return this")(),zt=Hg;var Wg=zt.Symbol,on=Wg;var ll=Object.prototype,Ug=ll.hasOwnProperty,$g=ll.toString,Zn=on?on.toStringTag:void 0;function Yg(n){var t=Ug.call(n,Zn),i=n[Zn];try{n[Zn]=void 0;var e=!0}catch{}var o=$g.call(n);return e&&(t?n[Zn]=i:delete n[Zn]),o}var cl=Yg;var qg=Object.prototype,Gg=qg.toString;function Qg(n){return Gg.call(n)}var dl=Qg;var Kg="[object Null]",Zg="[object Undefined]",ul=on?on.toStringTag:void 0;function Xg(n){return n==null?n===void 0?Zg:Kg:ul&&ul in Object(n)?cl(n):dl(n)}var be=Xg;function Jg(n){return n!=null&&typeof n=="object"}var Zt=Jg;var tf=Array.isArray,Xn=tf;function ef(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}var Rt=ef;function nf(n){return n}var eo=nf;var of="[object AsyncFunction]",rf="[object Function]",sf="[object GeneratorFunction]",af="[object Proxy]";function lf(n){if(!Rt(n))return!1;var t=be(n);return t==rf||t==sf||t==of||t==af}var rn=lf;var cf=zt["__core-js_shared__"],no=cf;var hl=function(){var n=/[^.]+$/.exec(no&&no.keys&&no.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function df(n){return!!hl&&hl in n}var gl=df;var uf=Function.prototype,hf=uf.toString;function gf(n){if(n!=null){try{return hf.call(n)}catch{}try{return n+""}catch{}}return""}var fl=gf;var ff=/[\\^$.*+?()[\]{}|]/g,pf=/^\[object .+?Constructor\]$/,mf=Function.prototype,_f=Object.prototype,bf=mf.toString,xf=_f.hasOwnProperty,vf=RegExp("^"+bf.call(xf).replace(ff,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function yf(n){if(!Rt(n)||gl(n))return!1;var t=rn(n)?vf:pf;return t.test(fl(n))}var pl=yf;function Cf(n,t){return n?.[t]}var ml=Cf;function kf(n,t){var i=ml(n,t);return pl(i)?i:void 0}var sn=kf;var _l=Object.create,Mf=function(){function n(){}return function(t){if(!Rt(t))return{};if(_l)return _l(t);n.prototype=t;var i=new n;return n.prototype=void 0,i}}(),bl=Mf;function wf(n,t,i){switch(i.length){case 0:return n.call(t);case 1:return n.call(t,i[0]);case 2:return n.call(t,i[0],i[1]);case 3:return n.call(t,i[0],i[1],i[2])}return n.apply(t,i)}var xl=wf;function Pf(n,t){var i=-1,e=n.length;for(t||(t=Array(e));++i<e;)t[i]=n[i];return t}var vl=Pf;var Sf=800,Of=16,Df=Date.now;function Tf(n){var t=0,i=0;return function(){var e=Df(),o=Of-(e-i);if(i=e,o>0){if(++t>=Sf)return arguments[0]}else t=0;return n.apply(void 0,arguments)}}var yl=Tf;function Ef(n){return function(){return n}}var Cl=Ef;var If=function(){try{var n=sn(Object,"defineProperty");return n({},"",{}),n}catch{}}(),an=If;var Rf=an?function(n,t){return an(n,"toString",{configurable:!0,enumerable:!1,value:Cl(t),writable:!0})}:eo,kl=Rf;var Af=yl(kl),Ml=Af;var Lf=9007199254740991,Ff=/^(?:0|[1-9]\d*)$/;function zf(n,t){var i=typeof n;return t=t??Lf,!!t&&(i=="number"||i!="symbol"&&Ff.test(n))&&n>-1&&n%1==0&&n<t}var io=zf;function Nf(n,t,i){t=="__proto__"&&an?an(n,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[t]=i}var ln=Nf;function jf(n,t){return n===t||n!==n&&t!==t}var xe=jf;var Bf=Object.prototype,Vf=Bf.hasOwnProperty;function Hf(n,t,i){var e=n[t];(!(Vf.call(n,t)&&xe(e,i))||i===void 0&&!(t in n))&&ln(n,t,i)}var wl=Hf;function Wf(n,t,i,e){var o=!i;i||(i={});for(var r=-1,s=t.length;++r<s;){var a=t[r],l=e?e(i[a],n[a],a,i,n):void 0;l===void 0&&(l=n[a]),o?ln(i,a,l):wl(i,a,l)}return i}var Pl=Wf;var Sl=Math.max;function Uf(n,t,i){return t=Sl(t===void 0?n.length-1:t,0),function(){for(var e=arguments,o=-1,r=Sl(e.length-t,0),s=Array(r);++o<r;)s[o]=e[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=e[o];return a[t]=i(s),xl(n,this,a)}}var Ol=Uf;function $f(n,t){return Ml(Ol(n,t,eo),n+"")}var Dl=$f;var Yf=9007199254740991;function qf(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Yf}var oo=qf;function Gf(n){return n!=null&&oo(n.length)&&!rn(n)}var cn=Gf;function Qf(n,t,i){if(!Rt(i))return!1;var e=typeof t;return(e=="number"?cn(i)&&io(t,i.length):e=="string"&&t in i)?xe(i[t],n):!1}var Tl=Qf;function Kf(n){return Dl(function(t,i){var e=-1,o=i.length,r=o>1?i[o-1]:void 0,s=o>2?i[2]:void 0;for(r=n.length>3&&typeof r=="function"?(o--,r):void 0,s&&Tl(i[0],i[1],s)&&(r=o<3?void 0:r,o=1),t=Object(t);++e<o;){var a=i[e];a&&n(t,a,e,r)}return t})}var El=Kf;var Zf=Object.prototype;function Xf(n){var t=n&&n.constructor,i=typeof t=="function"&&t.prototype||Zf;return n===i}var ro=Xf;function Jf(n,t){for(var i=-1,e=Array(n);++i<n;)e[i]=t(i);return e}var Il=Jf;var tp="[object Arguments]";function ep(n){return Zt(n)&&be(n)==tp}var Cr=ep;var Rl=Object.prototype,np=Rl.hasOwnProperty,ip=Rl.propertyIsEnumerable,op=Cr(function(){return arguments}())?Cr:function(n){return Zt(n)&&np.call(n,"callee")&&!ip.call(n,"callee")},Jn=op;function rp(){return!1}var Al=rp;var zl=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ll=zl&&typeof module=="object"&&module&&!module.nodeType&&module,sp=Ll&&Ll.exports===zl,Fl=sp?zt.Buffer:void 0,ap=Fl?Fl.isBuffer:void 0,lp=ap||Al,so=lp;var cp="[object Arguments]",dp="[object Array]",up="[object Boolean]",hp="[object Date]",gp="[object Error]",fp="[object Function]",pp="[object Map]",mp="[object Number]",_p="[object Object]",bp="[object RegExp]",xp="[object Set]",vp="[object String]",yp="[object WeakMap]",Cp="[object ArrayBuffer]",kp="[object DataView]",Mp="[object Float32Array]",wp="[object Float64Array]",Pp="[object Int8Array]",Sp="[object Int16Array]",Op="[object Int32Array]",Dp="[object Uint8Array]",Tp="[object Uint8ClampedArray]",Ep="[object Uint16Array]",Ip="[object Uint32Array]",st={};st[Mp]=st[wp]=st[Pp]=st[Sp]=st[Op]=st[Dp]=st[Tp]=st[Ep]=st[Ip]=!0;st[cp]=st[dp]=st[Cp]=st[up]=st[kp]=st[hp]=st[gp]=st[fp]=st[pp]=st[mp]=st[_p]=st[bp]=st[xp]=st[vp]=st[yp]=!1;function Rp(n){return Zt(n)&&oo(n.length)&&!!st[be(n)]}var Nl=Rp;function Ap(n){return function(t){return n(t)}}var jl=Ap;var Bl=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ti=Bl&&typeof module=="object"&&module&&!module.nodeType&&module,Lp=ti&&ti.exports===Bl,kr=Lp&&to.process,Fp=function(){try{var n=ti&&ti.require&&ti.require("util").types;return n||kr&&kr.binding&&kr.binding("util")}catch{}}(),Mr=Fp;var Vl=Mr&&Mr.isTypedArray,zp=Vl?jl(Vl):Nl,ao=zp;var Np=Object.prototype,jp=Np.hasOwnProperty;function Bp(n,t){var i=Xn(n),e=!i&&Jn(n),o=!i&&!e&&so(n),r=!i&&!e&&!o&&ao(n),s=i||e||o||r,a=s?Il(n.length,String):[],l=a.length;for(var c in n)(t||jp.call(n,c))&&!(s&&(c=="length"||o&&(c=="offset"||c=="parent")||r&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||io(c,l)))&&a.push(c);return a}var Hl=Bp;function Vp(n,t){return function(i){return n(t(i))}}var Wl=Vp;function Hp(n){var t=[];if(n!=null)for(var i in Object(n))t.push(i);return t}var Ul=Hp;var Wp=Object.prototype,Up=Wp.hasOwnProperty;function $p(n){if(!Rt(n))return Ul(n);var t=ro(n),i=[];for(var e in n)e=="constructor"&&(t||!Up.call(n,e))||i.push(e);return i}var $l=$p;function Yp(n){return cn(n)?Hl(n,!0):$l(n)}var lo=Yp;var qp=sn(Object,"create"),se=qp;function Gp(){this.__data__=se?se(null):{},this.size=0}var Yl=Gp;function Qp(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}var ql=Qp;var Kp="__lodash_hash_undefined__",Zp=Object.prototype,Xp=Zp.hasOwnProperty;function Jp(n){var t=this.__data__;if(se){var i=t[n];return i===Kp?void 0:i}return Xp.call(t,n)?t[n]:void 0}var Gl=Jp;var tm=Object.prototype,em=tm.hasOwnProperty;function nm(n){var t=this.__data__;return se?t[n]!==void 0:em.call(t,n)}var Ql=nm;var im="__lodash_hash_undefined__";function om(n,t){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=se&&t===void 0?im:t,this}var Kl=om;function dn(n){var t=-1,i=n==null?0:n.length;for(this.clear();++t<i;){var e=n[t];this.set(e[0],e[1])}}dn.prototype.clear=Yl;dn.prototype.delete=ql;dn.prototype.get=Gl;dn.prototype.has=Ql;dn.prototype.set=Kl;var wr=dn;function rm(){this.__data__=[],this.size=0}var Zl=rm;function sm(n,t){for(var i=n.length;i--;)if(xe(n[i][0],t))return i;return-1}var ve=sm;var am=Array.prototype,lm=am.splice;function cm(n){var t=this.__data__,i=ve(t,n);if(i<0)return!1;var e=t.length-1;return i==e?t.pop():lm.call(t,i,1),--this.size,!0}var Xl=cm;function dm(n){var t=this.__data__,i=ve(t,n);return i<0?void 0:t[i][1]}var Jl=dm;function um(n){return ve(this.__data__,n)>-1}var tc=um;function hm(n,t){var i=this.__data__,e=ve(i,n);return e<0?(++this.size,i.push([n,t])):i[e][1]=t,this}var ec=hm;function un(n){var t=-1,i=n==null?0:n.length;for(this.clear();++t<i;){var e=n[t];this.set(e[0],e[1])}}un.prototype.clear=Zl;un.prototype.delete=Xl;un.prototype.get=Jl;un.prototype.has=tc;un.prototype.set=ec;var ye=un;var gm=sn(zt,"Map"),co=gm;function fm(){this.size=0,this.__data__={hash:new wr,map:new(co||ye),string:new wr}}var nc=fm;function pm(n){var t=typeof n;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?n!=="__proto__":n===null}var ic=pm;function mm(n,t){var i=n.__data__;return ic(t)?i[typeof t=="string"?"string":"hash"]:i.map}var Ce=mm;function _m(n){var t=Ce(this,n).delete(n);return this.size-=t?1:0,t}var oc=_m;function bm(n){return Ce(this,n).get(n)}var rc=bm;function xm(n){return Ce(this,n).has(n)}var sc=xm;function vm(n,t){var i=Ce(this,n),e=i.size;return i.set(n,t),this.size+=i.size==e?0:1,this}var ac=vm;function hn(n){var t=-1,i=n==null?0:n.length;for(this.clear();++t<i;){var e=n[t];this.set(e[0],e[1])}}hn.prototype.clear=nc;hn.prototype.delete=oc;hn.prototype.get=rc;hn.prototype.has=sc;hn.prototype.set=ac;var lc=hn;var ym=Wl(Object.getPrototypeOf,Object),uo=ym;var Cm="[object Object]",km=Function.prototype,Mm=Object.prototype,cc=km.toString,wm=Mm.hasOwnProperty,Pm=cc.call(Object);function Sm(n){if(!Zt(n)||be(n)!=Cm)return!1;var t=uo(n);if(t===null)return!0;var i=wm.call(t,"constructor")&&t.constructor;return typeof i=="function"&&i instanceof i&&cc.call(i)==Pm}var dc=Sm;function Om(){this.__data__=new ye,this.size=0}var uc=Om;function Dm(n){var t=this.__data__,i=t.delete(n);return this.size=t.size,i}var hc=Dm;function Tm(n){return this.__data__.get(n)}var gc=Tm;function Em(n){return this.__data__.has(n)}var fc=Em;var Im=200;function Rm(n,t){var i=this.__data__;if(i instanceof ye){var e=i.__data__;if(!co||e.length<Im-1)return e.push([n,t]),this.size=++i.size,this;i=this.__data__=new lc(e)}return i.set(n,t),this.size=i.size,this}var pc=Rm;function gn(n){var t=this.__data__=new ye(n);this.size=t.size}gn.prototype.clear=uc;gn.prototype.delete=hc;gn.prototype.get=gc;gn.prototype.has=fc;gn.prototype.set=pc;var mc=gn;var vc=typeof exports=="object"&&exports&&!exports.nodeType&&exports,_c=vc&&typeof module=="object"&&module&&!module.nodeType&&module,Am=_c&&_c.exports===vc,bc=Am?zt.Buffer:void 0,xc=bc?bc.allocUnsafe:void 0;function Lm(n,t){if(t)return n.slice();var i=n.length,e=xc?xc(i):new n.constructor(i);return n.copy(e),e}var yc=Lm;var Fm=zt.Uint8Array,Pr=Fm;function zm(n){var t=new n.constructor(n.byteLength);return new Pr(t).set(new Pr(n)),t}var Cc=zm;function Nm(n,t){var i=t?Cc(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}var kc=Nm;function jm(n){return typeof n.constructor=="function"&&!ro(n)?bl(uo(n)):{}}var Mc=jm;function Bm(n){return function(t,i,e){for(var o=-1,r=Object(t),s=e(t),a=s.length;a--;){var l=s[n?a:++o];if(i(r[l],l,r)===!1)break}return t}}var wc=Bm;var Vm=wc(),Pc=Vm;function Hm(n,t,i){(i!==void 0&&!xe(n[t],i)||i===void 0&&!(t in n))&&ln(n,t,i)}var ei=Hm;function Wm(n){return Zt(n)&&cn(n)}var Sc=Wm;function Um(n,t){if(!(t==="constructor"&&typeof n[t]=="function")&&t!="__proto__")return n[t]}var ni=Um;function $m(n){return Pl(n,lo(n))}var Oc=$m;function Ym(n,t,i,e,o,r,s){var a=ni(n,i),l=ni(t,i),c=s.get(l);if(c){ei(n,i,c);return}var h=r?r(a,l,i+"",n,t,s):void 0,g=h===void 0;if(g){var p=Xn(l),_=!p&&so(l),v=!p&&!_&&ao(l);h=l,p||_||v?Xn(a)?h=a:Sc(a)?h=vl(a):_?(g=!1,h=yc(l,!0)):v?(g=!1,h=kc(l,!0)):h=[]:dc(l)||Jn(l)?(h=a,Jn(a)?h=Oc(a):(!Rt(a)||rn(a))&&(h=Mc(l))):g=!1}g&&(s.set(l,h),o(h,l,e,r,s),s.delete(l)),ei(n,i,h)}var Dc=Ym;function Tc(n,t,i,e,o){n!==t&&Pc(t,function(r,s){if(o||(o=new mc),Rt(r))Dc(n,t,s,i,Tc,e,o);else{var a=e?e(ni(n,s),r,s+"",n,t,o):void 0;a===void 0&&(a=r),ei(n,s,a)}},lo)}var Ec=Tc;var qm=El(function(n,t,i){Ec(n,t,i)}),Sr=qm;var Gm=new Ht("Configuration for ngCharts");var Qm=(()=>{let t=class t{constructor(){this.colorschemesOptions=new Fe(void 0)}setColorschemesOptions(e){this.pColorschemesOptions=e,this.colorschemesOptions.next(e)}getColorschemesOptions(){return this.pColorschemesOptions}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),ho=(()=>{let t=class t{constructor(e,o,r,s){this.zone=o,this.themeService=r,this.type="bar",this.plugins=[],this.chartClick=new yt,this.chartHover=new yt,this.subs=[],this.themeOverrides={},s?.registerables&&Xi.register(...s.registerables),s?.defaults&&at.set(s.defaults),this.ctx=e.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe(ko()).subscribe(a=>this.themeChanged(a)))}ngOnChanges(e){let o=["type"],r=Object.getOwnPropertyNames(e);if(r.some(s=>o.includes(s))||r.every(s=>e[s].isFirstChange()))this.render();else{let s=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,s.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,s.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,s.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(e=>e.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new Xi(this.ctx,this.getChartConfiguration()))}update(e){this.chart&&this.zone.runOutsideAngular(()=>this.chart?.update(e))}hideDataset(e,o){this.chart&&(this.chart.getDatasetMeta(e).hidden=o,this.update())}isDatasetHidden(e){return this.chart?.getDatasetMeta(e)?.hidden}toBase64Image(){return this.chart?.toBase64Image()}themeChanged(e){this.themeOverrides=e,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return Sr({onHover:(e,o)=>{!this.chartHover.observed&&!this.chartHover.observers?.length||this.zone.run(()=>this.chartHover.emit({event:e,active:o}))},onClick:(e,o)=>{!this.chartClick.observed&&!this.chartClick.observers?.length||this.zone.run(()=>this.chartClick.emit({event:e,active:o}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions(),plugins:this.plugins}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}};t.\u0275fac=function(o){return new(o||t)(x(le),x(Xt),x(Qm),x(Gm,8))},t.\u0275dir=Pe({type:t,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],standalone:!0,features:[vn]});let n=t;return n})();var go=(()=>{let t=class t{constructor(e){this.http=e,this.apiUrl=$e.apiUrl}getHeaders(){let e=localStorage.getItem("token");return new He().set("Authorization",`Bearer ${e}`)}getUserLogins(){return this.http.get(`${this.apiUrl}/users/logins`,{headers:this.getHeaders()})}getTopSongs(){return this.http.get(`${this.apiUrl}/users/top-songs`,{headers:this.getHeaders()})}};t.\u0275fac=function(o){return new(o||t)(et(We))},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Rc=(()=>{let t=class t{constructor(e){this.userService=e,this.chartData={labels:[],datasets:[{data:[],backgroundColor:[],borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]},this.chartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{title:{display:!0,text:"User",font:{weight:"bold"},padding:40},ticks:{autoSkip:!1,maxRotation:45,minRotation:0,align:"center"}},y:{title:{display:!0,text:"Visits",font:{weight:"bold"}},ticks:{stepSize:1}}},layout:{padding:{bottom:50}}}}ngOnInit(){this.userService.getUserLogins().subscribe(e=>{let o=e.sort((l,c)=>c.loginCount-l.loginCount).slice(0,10),r=o.map(l=>l.username),s=o.map(l=>l.loginCount),a=["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)","rgba(199, 199, 199, 0.2)","rgba(83, 102, 255, 0.2)","rgba(255, 99, 64, 0.2)","rgba(255, 205, 86, 0.2)"];this.chartData={labels:r,datasets:[{data:s,backgroundColor:a,borderColor:a.map(l=>l.replace("0.2","1")),borderWidth:1}]}})}};t.\u0275fac=function(o){return new(o||t)(x(go))},t.\u0275cmp=D({type:t,selectors:[["app-top-users"]],standalone:!0,features:[T],decls:2,vars:3,consts:[[1,"top-users-widget"],["baseChart","",3,"data","options","type"]],template:function(o,r){o&1&&(d(0,"div",0),y(1,"canvas",1),u()),o&2&&(m(),b("data",r.chartData)("options",r.chartOptions)("type","bar"))},dependencies:[ho],styles:[".top-users-widget[_ngcontent-%COMP%]{margin-top:auto;width:100%;height:650px;max-width:100%}canvas[_ngcontent-%COMP%]{width:100%!important}"]});let n=t;return n})();var Ac=(()=>{let t=class t{constructor(e){this.userService=e,this.chartData={labels:[],datasets:[{data:[],backgroundColor:[],borderColor:[],borderWidth:1}]},this.chartOptions={indexAxis:"y",responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{title:{display:!0,text:"Appearances",font:{weight:"bold"}},ticks:{stepSize:1}},y:{title:{display:!0,text:"Song",font:{weight:"bold"}}}}}}ngOnInit(){this.userService.getTopSongs().subscribe(e=>{let o=e.map(a=>a.title),r=e.map(a=>a.count),s=o.map(()=>`rgba(${Math.floor(Math.random()*255)}, ${Math.floor(Math.random()*255)}, ${Math.floor(Math.random()*255)}, 0.6)`);this.chartData={labels:o,datasets:[{data:r,backgroundColor:s,borderColor:s.map(a=>a.replace("0.6","1")),borderWidth:1}]}})}};t.\u0275fac=function(o){return new(o||t)(x(go))},t.\u0275cmp=D({type:t,selectors:[["app-top-songs"]],standalone:!0,features:[T],decls:3,vars:3,consts:[[1,"top-songs-widget"],[2,"height","500px"],["baseChart","",3,"data","options","type"]],template:function(o,r){o&1&&(d(0,"div",0)(1,"div",1),y(2,"canvas",2),u()()),o&2&&(m(2),b("data",r.chartData)("options",r.chartOptions)("type","bar"))},dependencies:[ho,R]});let n=t;return n})();var Km=n=>({"background-image":n}),Zm=n=>({background:n});function Xm(n,t){if(n&1&&(d(0,"div",32)(1,"div",33)(2,"span"),f(3),u()(),d(4,"div",34),y(5,"div",35),d(6,"div",36)(7,"div",37),y(8,"img",38),u(),d(9,"div",39)(10,"h3",40),f(11),u(),d(12,"p",41),f(13),u()()()()()),n&2){let i=t.$implicit,e=t.index;yn("top",30+e*12+"%")("right",30-e*2+"%"),m(3),A(e+1),m(),b("ngStyle",ce(11,Km,"url("+i.albumCover+")")),m(),b("ngStyle",ce(13,Zm,i.overlay)),m(3),b("src",i.albumCover,N)("alt",i.albumName+" Cover"),m(3),A(i.title),m(2),A(i.albumName)}}var Lc=(()=>{let t=class t{constructor(e){this.router=e,this.allSongs=[{title:"Red",albumName:"Red (Taylor's Version)",albumCover:"https://d3e29z0m37b0un.cloudfront.net/red-tv.jpeg",overlay:"linear-gradient(to right, rgba(179, 0, 0, 0.7), rgba(179, 0, 0, 0.3))"},{title:"Teardrops On My Guitar",albumName:"Taylor Swift",albumCover:"https://d3e29z0m37b0un.cloudfront.net/Taylor+Swift.jpg",overlay:"linear-gradient(to right, rgba(0, 177, 210, 0.7), rgba(0, 177, 210, 0.3))"},{title:"Fifteen",albumName:"Fearless (Taylor's Version)",albumCover:"https://d3e29z0m37b0un.cloudfront.net/fearless_taylors_version_album.jpg",overlay:"linear-gradient(to right, rgba(212, 175, 55, 0.7), rgba(212, 175, 55, 0.3))"},{title:"Cruel Summer",albumName:"Lover",albumCover:"https://d3e29z0m37b0un.cloudfront.net/lover.jpg",overlay:"linear-gradient(to right, rgba(255, 153, 204, 0.7), rgba(255, 153, 204, 0.3))"},{title:"ivy",albumName:"evermore",albumCover:"https://d3e29z0m37b0un.cloudfront.net/evermore.jpeg",overlay:"linear-gradient(to right, rgba(139, 69, 19, 0.7), rgba(139, 69, 19, 0.3))"},{title:"Love Story",albumName:"Fearless (Taylor's Version)",albumCover:"https://d3e29z0m37b0un.cloudfront.net/fearless_taylors_version_album.jpg",overlay:"linear-gradient(to right, rgba(212, 175, 55, 0.7), rgba(212, 175, 55, 0.3))"},{title:"Enchanted",albumName:"Speak Now (Taylor's Version)",albumCover:"https://d3e29z0m37b0un.cloudfront.net/speak-now-tv.jpg",overlay:"linear-gradient(to right, rgba(153, 0, 153, 0.7), rgba(153, 0, 153, 0.3))"},{title:"Blank Space",albumName:"1989 (Taylor's Version)",albumCover:"https://d3e29z0m37b0un.cloudfront.net/1989.jpeg",overlay:"linear-gradient(to right, rgba(0, 204, 204, 0.7), rgba(0, 204, 204, 0.3))"},{title:"Cornelia Street",albumName:"Lover",albumCover:"https://d3e29z0m37b0un.cloudfront.net/lover.jpg",overlay:"linear-gradient(to right, rgba(255, 153, 204, 0.7), rgba(255, 153, 204, 0.3))"},{title:"tolerate it",albumName:"evermore",albumCover:"https://d3e29z0m37b0un.cloudfront.net/evermore.jpeg",overlay:"linear-gradient(to right, rgba(139, 69, 19, 0.7), rgba(139, 69, 19, 0.3))"},{title:"Should've Said No",albumName:"Taylor Swift",albumCover:"https://d3e29z0m37b0un.cloudfront.net/Taylor+Swift.jpg",overlay:"linear-gradient(to right, rgba(0, 177, 210, 0.7), rgba(0, 177, 210, 0.3))"},{title:"Getaway Car",albumName:"Reputation",albumCover:"https://d3e29z0m37b0un.cloudfront.net/reputation.jpg",overlay:"linear-gradient(to right, rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.3))"},{title:"Delicate",albumName:"Reputation",albumCover:"https://d3e29z0m37b0un.cloudfront.net/reputation.jpg",overlay:"linear-gradient(to right, rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.3))"},{title:"Tell Me Why",albumName:"Fearless (Taylor's Version)",albumCover:"https://d3e29z0m37b0un.cloudfront.net/fearless_taylors_version_album.jpg",overlay:"linear-gradient(to right, rgba(212, 175, 55, 0.7), rgba(212, 175, 55, 0.3))"},{title:"Clean",albumName:"1989 (Taylor's Version)",albumCover:"https://d3e29z0m37b0un.cloudfront.net/1989.jpeg",overlay:"linear-gradient(to right, rgba(0, 204, 204, 0.7), rgba(0, 204, 204, 0.3))"},{title:"All Too Well",albumName:"Red (Taylor's Version)",albumCover:"https://d3e29z0m37b0un.cloudfront.net/red-tv.jpeg",overlay:"linear-gradient(to right, rgba(179, 0, 0, 0.7), rgba(179, 0, 0, 0.3))"},{title:"Picture To Burn",albumName:"Taylor Swift",albumCover:"https://d3e29z0m37b0un.cloudfront.net/Taylor+Swift.jpg",overlay:"linear-gradient(to right, rgba(0, 177, 210, 0.7), rgba(0, 177, 210, 0.3))"},{title:"You Are In Love",albumName:"1989 (Taylor's Version)",albumCover:"https://d3e29z0m37b0un.cloudfront.net/1989.jpeg",overlay:"linear-gradient(to right, rgba(0, 204, 204, 0.7), rgba(0, 204, 204, 0.3))"},{title:"Down Bad",albumName:"The Tortured Poets Department",albumCover:"https://d3e29z0m37b0un.cloudfront.net/ttpd.jpg",overlay:"linear-gradient(to right, rgba(245, 245, 220, 0.7), rgba(245, 245, 220, 0.3))"},{title:"Maroon",albumName:"Midnights",albumCover:"https://d3e29z0m37b0un.cloudfront.net/midnights.jpeg",overlay:"linear-gradient(to right, rgba(25, 25, 112, 0.7), rgba(25, 25, 112, 0.3))"},{title:"Dear John",albumName:"Speak Now (Taylor's Version)",albumCover:"https://d3e29z0m37b0un.cloudfront.net/speak-now-tv.jpg",overlay:"linear-gradient(to right, rgba(153, 0, 153, 0.7), rgba(153, 0, 153, 0.3))"},{title:"this is me trying",albumName:"folklore",albumCover:"https://d3e29z0m37b0un.cloudfront.net/folklore.jpg",overlay:"linear-gradient(to right, rgba(128, 128, 128, 0.7), rgba(128, 128, 128, 0.3))"},{title:"Treacherous",albumName:"Red (Taylor's Version)",albumCover:"https://d3e29z0m37b0un.cloudfront.net/red-tv.jpeg",overlay:"linear-gradient(to right, rgba(179, 0, 0, 0.7), rgba(179, 0, 0, 0.3))"},{title:"Sparks Fly",albumName:"Speak Now (Taylor's Version)",albumCover:"https://d3e29z0m37b0un.cloudfront.net/speak-now-tv.jpg",overlay:"linear-gradient(to right, rgba(153, 0, 153, 0.7), rgba(153, 0, 153, 0.3))"},{title:"The Archer",albumName:"Lover",albumCover:"https://d3e29z0m37b0un.cloudfront.net/lover.jpg",overlay:"linear-gradient(to right, rgba(255, 153, 204, 0.7), rgba(255, 153, 204, 0.3))"},{title:"Better Man",albumName:"Red (Taylor's Version)",albumCover:"https://d3e29z0m37b0un.cloudfront.net/red-tv.jpeg",overlay:"linear-gradient(to right, rgba(179, 0, 0, 0.7), rgba(179, 0, 0, 0.3))"},{title:"peace",albumName:"folklore",albumCover:"https://d3e29z0m37b0un.cloudfront.net/folklore.jpg",overlay:"linear-gradient(to right, rgba(128, 128, 128, 0.7), rgba(128, 128, 128, 0.3))"},{title:"cardigan",albumName:"folklore",albumCover:"https://d3e29z0m37b0un.cloudfront.net/folklore.jpg",overlay:"linear-gradient(to right, rgba(128, 128, 128, 0.7), rgba(128, 128, 128, 0.3))"},{title:"champagne problems",albumName:"evermore",albumCover:"https://d3e29z0m37b0un.cloudfront.net/evermore.jpeg",overlay:"linear-gradient(to right, rgba(139, 69, 19, 0.7), rgba(139, 69, 19, 0.3))"},{title:"Labyrinth",albumName:"Midnights",albumCover:"https://d3e29z0m37b0un.cloudfront.net/midnights.jpeg",overlay:"linear-gradient(to right, rgba(25, 25, 112, 0.7), rgba(25, 25, 112, 0.3))"},{title:"Mastermind",albumName:"Midnights",albumCover:"https://d3e29z0m37b0un.cloudfront.net/midnights.jpeg",overlay:"linear-gradient(to right, rgba(25, 25, 112, 0.7), rgba(25, 25, 112, 0.3))"},{title:"The Black Dog",albumName:"The Tortured Poets Department",albumCover:"https://d3e29z0m37b0un.cloudfront.net/ttpd.jpg",overlay:"linear-gradient(to right, rgba(245, 245, 220, 0.7), rgba(245, 245, 220, 0.3))"},{title:"Peter",albumName:"The Tortured Poets Department",albumCover:"https://d3e29z0m37b0un.cloudfront.net/ttpd.jpg",overlay:"linear-gradient(to right, rgba(245, 245, 220, 0.7), rgba(245, 245, 220, 0.3))"}],this.displayedSongs=[]}ngOnInit(){this.initializeSongs(),this.startRotation()}ngOnDestroy(){this.stopRotation()}initializeSongs(){this.displayedSongs=this.getRandomSongs(5)}startRotation(){this.intervalId=setInterval(()=>{this.rotateSongs()},3e3)}stopRotation(){this.intervalId&&clearInterval(this.intervalId)}rotateSongs(){let e=this.getRandomSongs(1,this.displayedSongs)[0],o=Math.floor(Math.random()*this.displayedSongs.length);this.displayedSongs.splice(o,1,e)}getRandomSongs(e,o=[]){let r=this.allSongs.filter(a=>!o.includes(a)),s=[];for(;s.length<e&&r.length>0;){let a=Math.floor(Math.random()*r.length);s.push(r.splice(a,1)[0])}return s}navigateTo(e){this.router.navigate([`${e}`])}};t.\u0275fac=function(o){return new(o||t)(x(_i))},t.\u0275cmp=D({type:t,selectors:[["app-home"]],standalone:!0,features:[T],decls:87,vars:1,consts:[[1,"hero"],[1,"background-overlay"],[1,"video-grid-overlay"],[1,"video-grid"],["autoplay","","loop","","muted","","playsinline","",1,"video-item"],["src","https://d3e29z0m37b0un.cloudfront.net/Apple+Animations/1989_Phone.mp4","type","video/mp4"],["src","https://d3e29z0m37b0un.cloudfront.net/Apple+Animations/Evermore_Phone.mp4","type","video/mp4"],["src","https://d3e29z0m37b0un.cloudfront.net/Apple+Animations/Fearless_Phone.mp4","type","video/mp4"],["src","https://d3e29z0m37b0un.cloudfront.net/Apple+Animations/Folklore_Phone.mp4","type","video/mp4"],["src","https://d3e29z0m37b0un.cloudfront.net/Apple+Animations/TTPD2_Phone.mp4","type","video/mp4"],["src","https://d3e29z0m37b0un.cloudfront.net/Apple+Animations/Speak_Now_Phone.mp4","type","video/mp4"],["src","https://d3e29z0m37b0un.cloudfront.net/Apple+Animations/Red_Phone.mp4","type","video/mp4"],["src","https://d3e29z0m37b0un.cloudfront.net/Apple+Animations/Midnights_Phone.mp4","type","video/mp4"],["src","https://d3e29z0m37b0un.cloudfront.net/Apple+Animations/TTPD1_Phone.mp4","type","video/mp4"],["src","https://d3e29z0m37b0un.cloudfront.net/Apple+Animations/Lover_Phone.mp4","type","video/mp4"],[1,"hero-content"],[1,"hero-text"],[1,"hero-graphic"],["src","https://d3e29z0m37b0un.cloudfront.net/graphics/HeroGraphicSimple.png","alt","Hero Graphic"],[1,"song-items"],["class","song-item",3,"top","right",4,"ngFor","ngForOf"],[1,"cards-container"],[1,"card",3,"click"],["src","https://d3e29z0m37b0un.cloudfront.net/graphics/About-Icon.svg","alt","About Icon",1,"card-icon"],["src","https://d3e29z0m37b0un.cloudfront.net/graphics/Album-Ranking-Icon.svg","alt","Album Rankings Icon",1,"card-icon"],["src","https://d3e29z0m37b0un.cloudfront.net/graphics/List.svg","alt","Top 13 List Icon",1,"card-icon"],["src","https://d3e29z0m37b0un.cloudfront.net/graphics/Tour-Builder-Icon.svg","alt","Eras Tour Builder Icon",1,"card-icon"],["src","https://d3e29z0m37b0un.cloudfront.net/graphics/Profile-Icon.svg","alt","Profile Icon",1,"card-icon"],[1,"home-container"],[1,"main-content"],[1,"widget","popular-songs"],[1,"widget","top-users"],[1,"song-item"],[1,"ranking-box"],[1,"song-card",3,"ngStyle"],[1,"overlay",3,"ngStyle"],[1,"song-card-content"],[1,"album-cover-div"],[3,"src","alt"],[1,"song-details-div"],[1,"song-title"],[1,"album-name"]],template:function(o,r){o&1&&(d(0,"div",0),y(1,"div",1)(2,"div",2),d(3,"div",3)(4,"video",4),y(5,"source",5),f(6," Your browser does not support the video tag. "),u(),d(7,"video",4),y(8,"source",6),f(9," Your browser does not support the video tag. "),u(),d(10,"video",4),y(11,"source",7),f(12," Your browser does not support the video tag. "),u(),d(13,"video",4),y(14,"source",8),f(15," Your browser does not support the video tag. "),u(),d(16,"video",4),y(17,"source",9),f(18," Your browser does not support the video tag. "),u(),d(19,"video",4),y(20,"source",10),f(21," Your browser does not support the video tag. "),u(),d(22,"video",4),y(23,"source",11),f(24," Your browser does not support the video tag. "),u(),d(25,"video",4),y(26,"source",12),f(27," Your browser does not support the video tag. "),u(),d(28,"video",4),y(29,"source",13),f(30," Your browser does not support the video tag. "),u(),d(31,"video",4),y(32,"source",14),f(33," Your browser does not support the video tag. "),u()(),d(34,"div",15)(35,"div",16)(36,"h1"),f(37,"Welcome to the Swiftie Ranking Hub!"),u(),d(38,"p"),f(39,"Your personal hub to discover and rank your favorite Taylor Swift songs and more."),u()(),d(40,"div",17),y(41,"img",18),d(42,"div",19),w(43,Xm,14,15,"div",20),u()()()(),d(44,"div",21)(45,"div",22),C("click",function(){return r.navigateTo("user/about")}),y(46,"img",23),d(47,"h3"),f(48,"About"),u(),d(49,"p"),f(50,"Learn more about the Swiftie Ranking Hub."),u()(),d(51,"div",22),C("click",function(){return r.navigateTo("user/rankings")}),y(52,"img",24),d(53,"h3"),f(54,"Album Rankings"),u(),d(55,"p"),f(56,"Rank the songs in each of your favorite albums and see how they stack up."),u()(),d(57,"div",22),C("click",function(){return r.navigateTo("user/top13list")}),y(58,"img",25),d(59,"h3"),f(60,"Top 13 List"),u(),d(61,"p"),f(62,"Curate your top 13 favorite songs by Taylor Swift."),u()(),d(63,"div",22),C("click",function(){return r.navigateTo("user/erasTourBuilder")}),y(64,"img",26),d(65,"h3"),f(66,"Eras Tour Builder"),u(),d(67,"p"),f(68,"Create your dream setlist for the Eras Tour and share with your friends."),u()(),d(69,"div",22),C("click",function(){return r.navigateTo("user/userProfile")}),y(70,"img",27),d(71,"h3"),f(72,"Profile"),u(),d(73,"p"),f(74,"View and edit your personal profile theme, Swiftie questionnaire and share with friends!"),u()()(),d(75,"div",28)(76,"section",29)(77,"div",30)(78,"h2"),f(79,"Popular Songs"),u(),d(80,"p"),f(81,"Data is pulled from the top 13 lists and Eras Tour builder song selections of all users."),u(),y(82,"app-top-songs"),u(),d(83,"div",31)(84,"h2"),f(85,"Top Users"),u(),y(86,"app-top-users"),u()()()),o&2&&(m(43),b("ngForOf",r.displayedSongs))},dependencies:[R,L,Ve,Rc,Ac],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{overflow-x:hidden;width:100%;box-sizing:border-box;margin:0;padding:0;background-color:#344055}*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:inherit}.hero[_ngcontent-%COMP%], .home-container[_ngcontent-%COMP%]{max-width:100vw;overflow-x:hidden}.hero[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;background-color:#000;padding:2.5rem 0;position:relative;margin-bottom:3rem;overflow:hidden}.video-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);grid-template-rows:repeat(2,1fr);position:absolute;top:0;left:0;width:100%;height:100%;z-index:5}.video-item[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:1.5rem}.video-grid-overlay[_ngcontent-%COMP%], .background-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to bottom,#00000080,#34405580);z-index:9}.background-overlay[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#00000080,#0000,#344055);z-index:10}.hero-content[_ngcontent-%COMP%]{width:100%;max-width:87.5rem;margin:0 auto;padding:0 1.25rem;display:flex;flex-direction:row;justify-content:space-between;align-items:center;z-index:11}.hero-graphic[_ngcontent-%COMP%]{flex:1;position:relative;max-width:50rem;margin:0 auto;z-index:13}.hero-graphic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.song-items[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.song-item[_ngcontent-%COMP%]{position:absolute;display:flex;width:40%;max-width:21.875rem;border-radius:.625rem;overflow:hidden;box-shadow:0 .25rem .5rem #0000001a;transition:transform .3s ease-in-out,box-shadow .3s ease-in-out;will-change:transform}.song-item[_ngcontent-%COMP%]:hover{transform:translateY(-.3125rem) rotate(2deg);box-shadow:0 .5rem 1rem #0003}.song-item[_ngcontent-%COMP%]:nth-child(1){top:30%;right:30%}.song-item[_ngcontent-%COMP%]:nth-child(2){top:42%;right:25%}.song-item[_ngcontent-%COMP%]:nth-child(3){top:54%;right:20%}.song-item[_ngcontent-%COMP%]:nth-child(4){top:66%;right:28%}.song-item[_ngcontent-%COMP%]:nth-child(5){top:79%;right:18%}.ranking-box[_ngcontent-%COMP%]{width:15%;min-width:1.875rem;max-width:2.5rem;background-color:#ffffffe6;display:flex;justify-content:center;align-items:center;font-size:1rem;font-weight:700;color:#344055}.song-card[_ngcontent-%COMP%]{flex-grow:1;position:relative;background-size:cover;background-position:center}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.song-card-content[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;align-items:center;padding:.3125rem}.album-cover-div[_ngcontent-%COMP%]{width:20%;min-width:2.5rem;max-width:3.125rem;height:100%;margin-right:.625rem;overflow:hidden;border-radius:.3125rem}.album-cover-div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.song-details-div[_ngcontent-%COMP%]{flex-grow:1;overflow:hidden;display:flex;flex-direction:column;justify-content:center;height:100%}.song-title[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;margin:0 0 .125rem;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.album-name[_ngcontent-%COMP%]{font-size:.7rem;margin:0;color:#fffc;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.hero-text[_ngcontent-%COMP%]{flex:1;color:#fff;max-width:31.25rem}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;text-shadow:1px 1px 3px rgba(0,0,0,.5);margin-bottom:1rem;color:#fff}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;line-height:1.5;color:#e7e7e7}.cards-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1.5rem;justify-content:center;margin:2rem 0}.card[_ngcontent-%COMP%]{flex:1 1 calc(20% - 1.5rem);max-width:12rem;background-color:#fff;border-radius:1rem;box-shadow:0 2px 8px #0000001a;padding:1.5rem;text-align:center;cursor:pointer;transition:transform .3s,box-shadow .3s}.card[_ngcontent-%COMP%]:hover{transform:translateY(-.5rem);box-shadow:0 4px 12px #0003}.card-icon[_ngcontent-%COMP%]{width:50px;height:auto;margin-bottom:1rem}.card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem;color:#344055}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.home-container[_ngcontent-%COMP%]{max-width:87.5rem;margin:0 auto;padding:0 1.25rem;background-color:#344055}.main-content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1.25rem;margin-bottom:3rem;justify-content:space-between}.widget[_ngcontent-%COMP%]{background:#fff;border-radius:.625rem;box-shadow:0 .125rem .25rem #0000001a;padding:1.25rem;flex:1 1 45%;box-sizing:border-box;min-width:300px;display:flex;flex-direction:column}.top-users-widget[_ngcontent-%COMP%], .top-songs-widget[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}h2[_ngcontent-%COMP%]{margin:10px 0 20px}p[_ngcontent-%COMP%]{margin:0 0 20px;color:#494949}@media (max-width: 768px){.main-content[_ngcontent-%COMP%]{flex-direction:column}.main-content[_ngcontent-%COMP%]   .widget[_ngcontent-%COMP%]{flex:1 1 100%}.hero[_ngcontent-%COMP%]{padding:1.25rem 0}.hero-content[_ngcontent-%COMP%]{flex-direction:column-reverse}.hero-text[_ngcontent-%COMP%]{text-align:center;padding:1.25rem 0}.hero-graphic[_ngcontent-%COMP%]   .song-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.hero-graphic[_ngcontent-%COMP%]   .song-item[_ngcontent-%COMP%]{margin:.625rem auto}.card[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%;margin:0 20px}}@media (max-width: 480px){.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.hero-graphic[_ngcontent-%COMP%]   .song-item[_ngcontent-%COMP%]{width:50%}.ranking-box[_ngcontent-%COMP%]{font-size:.9rem}.song-title[_ngcontent-%COMP%]{font-size:.8rem}.album-name[_ngcontent-%COMP%]{font-size:.6rem}.widget[_ngcontent-%COMP%]{min-width:none}}"]});let n=t;return n})();var Fc=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=D({type:t,selectors:[["app-dashboard-not-found"]],standalone:!0,features:[T],decls:2,vars:0,template:function(o,r){o&1&&(d(0,"p"),f(1,"Page not found!"),u())}});let n=t;return n})();var U=(()=>{let t=class t{constructor(e){this.http=e,this.apiUrl=$e.apiUrl}getHeaders(){let e=localStorage.getItem("token");return new He().set("Authorization",`Bearer ${e}`)}getUserRankings(){return this.http.get(`${this.apiUrl}/rankings/rankings`,{headers:this.getHeaders()}).pipe(Mo(3),Dt(this.handleError))}updateAlbumRanking(e){return this.http.put(`${this.apiUrl}/rankings/allAlbumsRanking/allAlbumsRanking`,{rankings:e},{headers:this.getHeaders()}).pipe(Dt(this.handleError))}updateRanking(e,o){return this.http.put(`${this.apiUrl}/rankings/rankings/${e}`,{rankings:o},{headers:this.getHeaders()}).pipe(Dt(this.handleError))}getTopThirteen(){return this.http.get(`${this.apiUrl}/rankings/user/top-thirteen`,{headers:this.getHeaders()}).pipe(Mo(3),Dt(this.handleError))}updateTopThirteen(e,o,r,s,a){return this.http.post(`${this.apiUrl}/rankings/user/top-thirteen`,{slot:e,albumName:o,songId:r,songTitle:s,albumCover:a},{headers:this.getHeaders()}).pipe(Dt(this.handleError))}removeTopThirteen(e){return this.http.delete(`${this.apiUrl}/rankings/user/top-thirteen/${e}`,{headers:this.getHeaders()}).pipe(Dt(this.handleError))}getErasTourSetList(){return this.http.get(`${this.apiUrl}/rankings/eras-tour-set-list`,{headers:this.getHeaders()}).pipe(Dt(e=>(console.error("Error fetching Eras Tour set list:",e),bn(()=>new Error("Failed to fetch Eras Tour set list")))))}updateErasTourSetList(e){return console.log("Sending setlist to server:",e),this.http.put(`${this.apiUrl}/rankings/eras-tour-set-list`,{erasTourSetList:e},{headers:this.getHeaders()}).pipe(Dt(o=>(console.error("Error updating Eras Tour set list:",o),bn(()=>new Error("Failed to update Eras Tour set list")))))}getErasTourSetListByUsername(e){return this.http.get(`${this.apiUrl}/rankings/eras-tour-set-list/${e}`,{headers:this.getHeaders()}).pipe(Dt(o=>(console.error("Error fetching Eras Tour set list by username:",o),bn(()=>new Error("Failed to fetch Eras Tour set list by username")))))}handleError(e){let o="An unknown error occurred!";return e.error instanceof ErrorEvent?o=`Error: ${e.error.message}`:o=`Error Code: ${e.status}
Message: ${e.message}`,console.error(o),bn(()=>new Error(o))}};t.\u0275fac=function(o){return new(o||t)(et(We))},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function Jm(n,t){if(n&1){let i=E();d(0,"div",3)(1,"a",4)(2,"img",5),C("mouseenter",function(o){let r=P(i).$implicit,s=k();return S(s.playSample(r,o))})("mouseleave",function(){let o=P(i).$implicit,r=k();return S(r.stopSample(o))}),u(),y(3,"img",6),u()()}if(n&2){let i=t.$implicit,e=k();m(),b("routerLink",i.routerLink),m(),b("src",i.coverImage,N)("alt",i.title),m(),b("src",e.shelfImage,N)}}var zc=(()=>{let t=class t{constructor(e,o,r){this.rankingsService=e,this.router=o,this.toastr=r,this.shelfImage="https://d3e29z0m37b0un.cloudfront.net/graphics/shelf.png",this.albums=[{id:"debut",title:"Taylor Swift",coverImage:"https://d3e29z0m37b0un.cloudfront.net/Taylor+Swift.jpg",sampleAudio:"https://all-taylor-swift-albums.s3.us-east-2.amazonaws.com/Sound+Clips/debut-sound-clip.mp3",routerLink:"./debut"},{id:"fearless",title:"Fearless",coverImage:"https://d3e29z0m37b0un.cloudfront.net/fearless_taylors_version_album.jpg",sampleAudio:"https://all-taylor-swift-albums.s3.us-east-2.amazonaws.com/Sound+Clips/fearless-sound-clip.mp3",routerLink:"./fearless"},{id:"speak-now",title:"Speak Now",coverImage:"https://d3e29z0m37b0un.cloudfront.net/speak-now-tv.jpg",sampleAudio:"https://all-taylor-swift-albums.s3.us-east-2.amazonaws.com/Sound+Clips/speak-now-sound-clip.mp3",routerLink:"./speak-now"},{id:"red",title:"Red",coverImage:"https://d3e29z0m37b0un.cloudfront.net/red-tv.jpeg",sampleAudio:"https://all-taylor-swift-albums.s3.us-east-2.amazonaws.com/Sound+Clips/red-sound-clip.mp3",routerLink:"./red"},{id:"1989",title:"1989",coverImage:"https://d3e29z0m37b0un.cloudfront.net/1989.jpeg",sampleAudio:"https://all-taylor-swift-albums.s3.us-east-2.amazonaws.com/Sound+Clips/1989-sound-clip.mp3",routerLink:"./nineteen-eighty-nine"},{id:"reputation",title:"reputation",coverImage:"https://d3e29z0m37b0un.cloudfront.net/reputation.jpg",sampleAudio:"https://all-taylor-swift-albums.s3.us-east-2.amazonaws.com/Sound+Clips/reputation-sound-clip.mp3",routerLink:"./reputation"},{id:"lover",title:"Lover",coverImage:"https://d3e29z0m37b0un.cloudfront.net/lover.jpg",sampleAudio:"https://all-taylor-swift-albums.s3.us-east-2.amazonaws.com/Sound+Clips/lover-sound-clip.mp3",routerLink:"./lover"},{id:"folklore",title:"folklore",coverImage:"https://d3e29z0m37b0un.cloudfront.net/folklore.jpg",sampleAudio:"https://all-taylor-swift-albums.s3.us-east-2.amazonaws.com/Sound+Clips/folklore-sound-clip.mp3",routerLink:"./folklore"},{id:"evermore",title:"evermore",coverImage:"https://d3e29z0m37b0un.cloudfront.net/evermore.jpeg",sampleAudio:"https://all-taylor-swift-albums.s3.us-east-2.amazonaws.com/Sound+Clips/evermore-sound-clip.mp3",routerLink:"./evermore"},{id:"midnights",title:"Midnights",coverImage:"https://d3e29z0m37b0un.cloudfront.net/midnights.jpeg",sampleAudio:"https://all-taylor-swift-albums.s3.us-east-2.amazonaws.com/Sound+Clips/midnights-sound-clip.mp3",routerLink:"./midnights"},{id:"ttpd",title:"The Tortured Poets Department",coverImage:"https://d3e29z0m37b0un.cloudfront.net/ttpd.jpg",sampleAudio:"https://all-taylor-swift-albums.s3.us-east-2.amazonaws.com/Sound+Clips/ttpd-sound-clip.mp3",routerLink:"./tortured-poets-department"},{id:"singles",title:"Singles",coverImage:"https://d3e29z0m37b0un.cloudfront.net/singles/Singles.svg",sampleAudio:"https://all-taylor-swift-albums.s3.us-east-2.amazonaws.com/Sound+Clips/singles-sound-clip.mp3",routerLink:"./singles"},{id:"allAlbums",title:"All Albums",coverImage:"https://d3e29z0m37b0un.cloudfront.net/All-Albums.svg",sampleAudio:"https://all-taylor-swift-albums.s3.us-east-2.amazonaws.com/Sound+Clips/allAlbumsClip.mp3",routerLink:"./allAlbums"}],this.audioElements={}}ngOnInit(){this.rankingsService.getUserRankings().subscribe(e=>this.rankings=e,e=>{console.error("Error loading rankings:",e),this.toastr.error("Failed to load rankings. Please try again.","Error")}),this.preloadAudio(),this.router.events.pipe(gi(e=>e instanceof rs)).subscribe(()=>{this.stopAllAudio()})}ngOnDestroy(){this.stopAllAudio()}stopAllAudio(){Object.values(this.audioElements).forEach(e=>{e.pause(),e.currentTime=0})}preloadAudio(){this.albums.forEach(e=>{let o=new Audio;o.src=e.sampleAudio,o.load(),this.audioElements[e.id]=o})}playSample(e,o){o.preventDefault(),o.stopPropagation(),this.stopAllAudio();let r=this.audioElements[e.id];r&&(r.currentTime=0,r.volume=.3,r.play())}stopSample(e){let o=this.audioElements[e.id];o&&(o.pause(),o.currentTime=0)}};t.\u0275fac=function(o){return new(o||t)(x(U),x(_i),x(de))},t.\u0275cmp=D({type:t,selectors:[["app-rankings"]],standalone:!0,features:[T],decls:4,vars:1,consts:[[1,"rankings-container"],[1,"albums-grid"],["class","album-container",4,"ngFor","ngForOf"],[1,"album-container"],[1,"album-link",3,"routerLink"],[1,"album-cover",3,"mouseenter","mouseleave","src","alt"],["alt","Shelf",1,"shelf-image",3,"src"]],template:function(o,r){o&1&&(d(0,"div",0)(1,"div",1),w(2,Jm,4,4,"div",2),u()(),y(3,"router-outlet")),o&2&&(m(2),b("ngForOf",r.albums))},dependencies:[te,mi,Ue,R,L],styles:[".rankings-container[_ngcontent-%COMP%]{background-image:url(https://d3e29z0m37b0un.cloudfront.net/graphics/brick-wall.webp);background-size:cover;background-position:center;background-repeat:no-repeat;min-height:100vh;padding:20px}.albums-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px}.album-container[_ngcontent-%COMP%]{position:relative;width:100%;padding-bottom:120%;overflow:hidden}.album-link[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;text-decoration:none;box-shadow:0 4px 8px #0000001a;transition:box-shadow .3s ease;z-index:2}.album-link[_ngcontent-%COMP%]:hover{box-shadow:0 8px 16px #0003}.shelf-image[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;height:auto;z-index:1}.album-cover[_ngcontent-%COMP%]{position:absolute;bottom:15%;left:50%;transform:translate(-50%);width:80%;height:auto;transition:transform .3s ease;z-index:2}.album-hover-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:80%;background-color:#000000b3;color:#fff;display:flex;justify-content:center;align-items:center;opacity:0;transition:opacity .3s ease;cursor:pointer;z-index:1;pointer-events:none}.album-container[_ngcontent-%COMP%]:hover   .album-cover[_ngcontent-%COMP%]{transform:translate(-50%) translateY(-10px) rotate(5deg)}.album-container[_ngcontent-%COMP%]:hover   .album-hover-overlay[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.album-title[_ngcontent-%COMP%]{text-align:center;padding:10px}"]});let n=t;return n})();function fo(n,t=0){return t0(n)?Number(n):t}function t0(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function Nc(n){return Array.isArray(n)?n:[n]}function Pt(n){return n instanceof le?n.nativeElement:n}var Dr;try{Dr=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Dr=!1}var Tr=(()=>{let t=class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?is(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Dr)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};t.\u0275fac=function(o){return new(o||t)(et(Kr))},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var ii;function e0(){if(ii==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ii=!0}))}finally{ii=ii||!1}return ii}function oi(n){return e0()?n:!!n.capture}var Or;function n0(){if(Or==null){let n=typeof document<"u"?document.head:null;Or=!!(n&&(n.createShadowRoot||n.attachShadow))}return Or}function Er(n){if(n0()){let t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function ri(n){return n.composedPath?n.composedPath()[0]:n.target}var o0=new Ht("cdk-dir-doc",{providedIn:"root",factory:r0});function r0(){return ze(Jt)}var s0=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function a0(n){let t=n?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?s0.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var Ir=(()=>{let t=class t{constructor(e){if(this.value="ltr",this.change=new yt,e){let o=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.value=a0(o||r||"ltr")}}ngOnDestroy(){this.change.complete()}};t.\u0275fac=function(o){return new(o||t)(et(o0,8))},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var d0=20,jc=(()=>{let t=class t{constructor(e,o,r){this._ngZone=e,this._platform=o,this._scrolled=new nt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let o=this.scrollContainers.get(e);o&&(o.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=d0){return this._platform.isBrowser?new _n(o=>{this._globalSubscription||this._addGlobalListener();let r=e>0?this._scrolled.pipe(Co(e)).subscribe(o):this._scrolled.subscribe(o);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ui()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,o)=>this.deregister(o)),this._scrolled.complete()}ancestorScrolled(e,o){let r=this.getAncestorScrollContainers(e);return this.scrolled(o).pipe(gi(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){let o=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&o.push(s)}),o}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,o){let r=Pt(o),s=e.getElementRef().nativeElement;do if(r==s)return!0;while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let e=this._getWindow();return Ur(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};t.\u0275fac=function(o){return new(o||t)(et(Xt),et(Tr),et(Jt,8))},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var u0=20,Bc=(()=>{let t=class t{constructor(e,o,r){this._platform=e,this._change=new nt,this._changeListener=s=>{this._change.next(s)},this._document=r,o.runOutsideAngular(()=>{if(e.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:o,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+o,height:r,width:o}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,o=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect(),a=-s.top||e.body.scrollTop||o.scrollY||r.scrollTop||0,l=-s.left||e.body.scrollLeft||o.scrollX||r.scrollLeft||0;return{top:a,left:l}}change(e=u0){return e>0?this._change.pipe(Co(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}};t.\u0275fac=function(o){return new(o||t)(et(Tr),et(Xt),et(Jt,8))},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Vc=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Vt({});let n=t;return n})();function Hc(n){return n.buttons===0||n.detail===0}function Wc(n){let t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}function sd(n){let t=n.cloneNode(!0),i=t.querySelectorAll("[id]"),e=n.nodeName.toLowerCase();t.removeAttribute("id");for(let o=0;o<i.length;o++)i[o].removeAttribute("id");return e==="canvas"?Yc(n,t):(e==="input"||e==="select"||e==="textarea")&&$c(n,t),Uc("canvas",n,t,Yc),Uc("input, textarea, select",n,t,$c),t}function Uc(n,t,i,e){let o=t.querySelectorAll(n);if(o.length){let r=i.querySelectorAll(n);for(let s=0;s<o.length;s++)e(o[s],r[s])}}var g0=0;function $c(n,t){t.type!=="file"&&(t.value=n.value),t.type==="radio"&&t.name&&(t.name=`mat-clone-${t.name}-${g0++}`)}function Yc(n,t){let i=t.getContext("2d");if(i)try{i.drawImage(n,0,0)}catch{}}function jr(n){let t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function Ar(n,t,i){let{top:e,bottom:o,left:r,right:s}=n;return i>=e&&i<=o&&t>=r&&t<=s}function ai(n,t,i){n.top+=t,n.bottom=n.top+n.height,n.left+=i,n.right=n.left+n.width}function qc(n,t,i,e){let{top:o,right:r,bottom:s,left:a,width:l,height:c}=n,h=l*t,g=c*t;return e>o-g&&e<s+g&&i>a-h&&i<r+h}var bo=class{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(i=>{this.positions.set(i,{scrollPosition:{top:i.scrollTop,left:i.scrollLeft},clientRect:jr(i)})})}handleScroll(t){let i=ri(t),e=this.positions.get(i);if(!e)return null;let o=e.scrollPosition,r,s;if(i===this._document){let c=this.getViewportScrollPosition();r=c.top,s=c.left}else r=i.scrollTop,s=i.scrollLeft;let a=o.top-r,l=o.left-s;return this.positions.forEach((c,h)=>{c.clientRect&&i!==h&&i.contains(h)&&ai(c.clientRect,a,l)}),o.top=r,o.left=s,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function ad(n,t){let i=n.rootNodes;if(i.length===1&&i[0].nodeType===t.ELEMENT_NODE)return i[0];let e=t.createElement("div");return i.forEach(o=>e.appendChild(o)),e}function Br(n,t,i){for(let e in t)if(t.hasOwnProperty(e)){let o=t[e];o?n.setProperty(e,o,i?.has(e)?"important":""):n.removeProperty(e)}return n}function fn(n,t){let i=t?"":"none";Br(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":i,"-ms-user-select":i,"-webkit-user-select":i,"-moz-user-select":i})}function Gc(n,t,i){Br(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},i)}function xo(n,t){return t&&t!="none"?n+" "+t:n}function Qc(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=vo(t.left,t.top)}function vo(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function Kc(n){let t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function f0(n){let t=getComputedStyle(n),i=Rr(t,"transition-property"),e=i.find(a=>a==="transform"||a==="all");if(!e)return 0;let o=i.indexOf(e),r=Rr(t,"transition-duration"),s=Rr(t,"transition-delay");return Kc(r[o])+Kc(s[o])}function Rr(n,t){return n.getPropertyValue(t).split(",").map(e=>e.trim())}var p0=new Set(["position"]),Lr=class{constructor(t,i,e,o,r,s,a,l,c){this._document=t,this._rootElement=i,this._direction=e,this._initialDomRect=o,this._previewTemplate=r,this._previewClass=s,this._pickupPositionOnPage=a,this._initialTransform=l,this._zIndex=c}attach(t){this._preview=this._createPreview(),t.appendChild(this._preview),"showPopover"in this._preview&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(t){this._preview.style.transform=t}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(t){this._preview.classList.add(t)}getTransitionDuration(){return f0(this._preview)}addEventListener(t,i){this._preview.addEventListener(t,i)}removeEventListener(t,i){this._preview.removeEventListener(t,i)}_createPreview(){let t=this._previewTemplate,i=this._previewClass,e=t?t.template:null,o;if(e&&t){let r=t.matchSize?this._initialDomRect:null,s=t.viewContainer.createEmbeddedView(e,t.context);s.detectChanges(),o=ad(s,this._document),this._previewEmbeddedView=s,t.matchSize?Qc(o,r):o.style.transform=vo(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else o=sd(this._rootElement),Qc(o,this._initialDomRect),this._initialTransform&&(o.style.transform=this._initialTransform);return Br(o.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},p0),fn(o,!1),o.classList.add("cdk-drag-preview"),o.setAttribute("popover","manual"),o.setAttribute("dir",this._direction),i&&(Array.isArray(i)?i.forEach(r=>o.classList.add(r)):o.classList.add(i)),o}},Zc=oi({passive:!0}),po=oi({passive:!1}),Xc=oi({passive:!1,capture:!0}),m0=800,Jc=new Set(["position"]),Fr=class{get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(t){t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(i=>fn(i,t)))}constructor(t,i,e,o,r,s){this._config=i,this._document=e,this._ngZone=o,this._viewportRuler=r,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=Oo(!1),this._moveEvents=new nt,this._pointerMoveSubscription=we.EMPTY,this._pointerUpSubscription=we.EMPTY,this._scrollSubscription=we.EMPTY,this._resizeSubscription=we.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new nt,this.started=new nt,this.released=new nt,this.ended=new nt,this.entered=new nt,this.exited=new nt,this.dropped=new nt,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){let l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{let l=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging()){let h=Math.abs(l.x-this._pickupPositionOnPage.x),g=Math.abs(l.y-this._pickupPositionOnPage.y);if(h+g>=this._config.dragStartThreshold){let _=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),v=this._dropContainer;if(!_){this._endDragSequence(a);return}(!v||!v.isDragging()&&!v.isReceiving())&&(a.cancelable&&a.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(a)))}return}a.cancelable&&a.preventDefault();let c=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(c),this._dropContainer)this._updateActiveDropContainer(c,l);else{let h=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,g=this._activeTransform;g.x=c.x-h.x+this._passiveTransform.x,g.y=c.y-h.y+this._passiveTransform.y,this._applyRootElementTransform(g.x,g.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:c,event:a,distance:this._getDragDistance(c),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this._nativeDragStart=a=>{if(this._handles.length){let l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&a.preventDefault()}else this.disabled||a.preventDefault()},this.withRootElement(t).withParent(i.parentDragRef||null),this._parentPositions=new bo(e),s.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(e=>Pt(e)),this._handles.forEach(e=>fn(e,this.disabled)),this._toggleNativeDragInteractions();let i=new Set;return this._disabledHandles.forEach(e=>{this._handles.indexOf(e)>-1&&i.add(e)}),this._disabledHandles=i,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){let i=Pt(t);return i!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{i.addEventListener("mousedown",this._pointerDown,po),i.addEventListener("touchstart",this._pointerDown,Zc),i.addEventListener("dragstart",this._nativeDragStart,po)}),this._initialTransform=void 0,this._rootElement=i),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Pt(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),fn(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),fn(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){let t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){let t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",ed,Xc)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let i=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(i),dropPoint:i,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){si(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let i=this._getShadowRoot(),e=this._dropContainer;if(i&&this._ngZone.runOutsideAngular(()=>{i.addEventListener("selectstart",ed,Xc)}),e){let o=this._rootElement,r=o.parentNode,s=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment("");r.insertBefore(a,o),this._initialTransform=o.style.transform||"",this._preview=new Lr(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(r,i)),Gc(o,!1,Jc),this._document.body.appendChild(r.replaceChild(s,o)),this.started.next({source:this,event:t}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,i){this._parentDragRef&&i.stopPropagation();let e=this.isDragging(),o=si(i),r=!o&&i.button!==0,s=this._rootElement,a=ri(i),l=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+m0>Date.now(),c=o?Wc(i):Hc(i);if(a&&a.draggable&&i.type==="mousedown"&&i.preventDefault(),e||r||l||c)return;if(this._handles.length){let p=s.style;this._rootElementTapHighlight=p.webkitTapHighlightColor||"",p.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(p=>this._updateOnScroll(p)),this._boundaryElement&&(this._boundaryRect=jr(this._boundaryElement));let h=this._previewTemplate;this._pickupPositionInElement=h&&h.template&&!h.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,t,i);let g=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(i);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:g.x,y:g.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,i)}_cleanupDragArtifacts(t){Gc(this._rootElement,!0,Jc),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let i=this._dropContainer,e=i.getItemIndex(this),o=this._getPointerPositionOnPage(t),r=this._getDragDistance(o),s=i._isOverContainer(o.x,o.y);this.ended.next({source:this,distance:r,dropPoint:o,event:t}),this.dropped.next({item:this,currentIndex:e,previousIndex:this._initialIndex,container:i,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:r,dropPoint:o,event:t}),i.drop(this,e,this._initialIndex,this._initialContainer,s,r,o,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:i},{x:e,y:o}){let r=this._initialContainer._getSiblingContainerFromPosition(this,t,i);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,i)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,t,i,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(e,o),this._dropContainer._sortItem(this,t,i,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,i):this._applyPreviewTransform(t-this._pickupPositionInElement.x,i-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let t=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);let i=this._preview.getTransitionDuration();return i===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(e=>{let o=s=>{(!s||ri(s)===this._preview&&s.propertyName==="transform")&&(this._preview?.removeEventListener("transitionend",o),e(),clearTimeout(r))},r=setTimeout(o,i*1.5);this._preview.addEventListener("transitionend",o)}))}_createPlaceholderElement(){let t=this._placeholderTemplate,i=t?t.template:null,e;return i?(this._placeholderRef=t.viewContainer.createEmbeddedView(i,t.context),this._placeholderRef.detectChanges(),e=ad(this._placeholderRef,this._document)):e=sd(this._rootElement),e.style.pointerEvents="none",e.classList.add("cdk-drag-placeholder"),e}_getPointerPositionInElement(t,i,e){let o=i===this._rootElement?null:i,r=o?o.getBoundingClientRect():t,s=si(e)?e.targetTouches[0]:e,a=this._getViewportScrollPosition(),l=s.pageX-r.left-a.left,c=s.pageY-r.top-a.top;return{x:r.left-t.left+l,y:r.top-t.top+c}}_getPointerPositionOnPage(t){let i=this._getViewportScrollPosition(),e=si(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,o=e.pageX-i.left,r=e.pageY-i.top;if(this._ownerSVGElement){let s=this._ownerSVGElement.getScreenCTM();if(s){let a=this._ownerSVGElement.createSVGPoint();return a.x=o,a.y=r,a.matrixTransform(s.inverse())}}return{x:o,y:r}}_getConstrainedPointerPosition(t){let i=this._dropContainer?this._dropContainer.lockAxis:null,{x:e,y:o}=this.constrainPosition?this.constrainPosition(t,this,this._initialDomRect,this._pickupPositionInElement):t;if(this.lockAxis==="x"||i==="x"?o=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||i==="y")&&(e=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:r,y:s}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),h=a.top+s,g=a.bottom-(c-s),p=a.left+r,_=a.right-(l-r);e=td(e,p,_),o=td(o,h,g)}return{x:e,y:o}}_updatePointerDirectionDelta(t){let{x:i,y:e}=t,o=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,s=Math.abs(i-r.x),a=Math.abs(e-r.y);return s>this._config.pointerDirectionChangeThreshold&&(o.x=i>r.x?1:-1,r.x=i),a>this._config.pointerDirectionChangeThreshold&&(o.y=e>r.y?1:-1,r.y=e),o}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,fn(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,po),t.removeEventListener("touchstart",this._pointerDown,Zc),t.removeEventListener("dragstart",this._nativeDragStart,po)}_applyRootElementTransform(t,i){let e=vo(t,i),o=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=o.transform&&o.transform!="none"?o.transform:""),o.transform=xo(e,this._initialTransform)}_applyPreviewTransform(t,i){let e=this._previewTemplate?.template?void 0:this._initialTransform,o=vo(t,i);this._preview.setTransform(xo(o,e))}_getDragDistance(t){let i=this._pickupPositionOnPage;return i?{x:t.x-i.x,y:t.y-i.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:i}=this._passiveTransform;if(t===0&&i===0||this.isDragging()||!this._boundaryElement)return;let e=this._rootElement.getBoundingClientRect(),o=this._boundaryElement.getBoundingClientRect();if(o.width===0&&o.height===0||e.width===0&&e.height===0)return;let r=o.left-e.left,s=e.right-o.right,a=o.top-e.top,l=e.bottom-o.bottom;o.width>e.width?(r>0&&(t+=r),s>0&&(t-=s)):t=0,o.height>e.height?(a>0&&(i+=a),l>0&&(i-=l)):i=0,(t!==this._passiveTransform.x||i!==this._passiveTransform.y)&&this.setFreeDragPosition({y:i,x:t})}_getDragStartDelay(t){let i=this.dragStartDelay;return typeof i=="number"?i:si(t)?i.touch:i?i.mouse:0}_updateOnScroll(t){let i=this._parentPositions.handleScroll(t);if(i){let e=ri(t);this._boundaryRect&&e!==this._boundaryElement&&e.contains(this._boundaryElement)&&ai(this._boundaryRect,i.top,i.left),this._pickupPositionOnPage.x+=i.left,this._pickupPositionOnPage.y+=i.top,this._dropContainer||(this._activeTransform.x-=i.left,this._activeTransform.y-=i.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=Er(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,i){let e=this._previewContainer||"global";if(e==="parent")return t;if(e==="global"){let o=this._document;return i||o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement||o.body}return Pt(e)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(t){return this._handles.find(i=>t.target&&(t.target===i||i.contains(t.target)))}};function td(n,t,i){return Math.max(t,Math.min(i,n))}function si(n){return n.type[0]==="t"}function ed(n){n.preventDefault()}function q(n,t,i){let e=nd(t,n.length-1),o=nd(i,n.length-1);if(e===o)return;let r=n[e],s=o<e?-1:1;for(let a=e;a!==o;a+=s)n[a]=n[a+s];n[o]=r}function nd(n,t){return Math.max(0,Math.min(t,n))}var zr=class{constructor(t,i){this._element=t,this._dragDropRegistry=i,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(t){this.withItems(t)}sort(t,i,e,o){let r=this._itemPositions,s=this._getItemIndexFromPointerPosition(t,i,e,o);if(s===-1&&r.length>0)return null;let a=this.orientation==="horizontal",l=r.findIndex(M=>M.drag===t),c=r[s],h=r[l].clientRect,g=c.clientRect,p=l>s?1:-1,_=this._getItemOffsetPx(h,g,p),v=this._getSiblingOffsetPx(l,r,p),O=r.slice();return q(r,l,s),r.forEach((M,I)=>{if(O[I]===M)return;let z=M.drag===t,dt=z?_:v,mt=z?t.getPlaceholderElement():M.drag.getRootElement();M.offset+=dt,a?(mt.style.transform=xo(`translate3d(${Math.round(M.offset)}px, 0, 0)`,M.initialTransform),ai(M.clientRect,0,dt)):(mt.style.transform=xo(`translate3d(0, ${Math.round(M.offset)}px, 0)`,M.initialTransform),ai(M.clientRect,dt,0))}),this._previousSwap.overlaps=Ar(g,i,e),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?o.x:o.y,{previousIndex:l,currentIndex:s}}enter(t,i,e,o){let r=o==null||o<0?this._getItemIndexFromPointerPosition(t,i,e):o,s=this._activeDraggables,a=s.indexOf(t),l=t.getPlaceholderElement(),c=s[r];if(c===t&&(c=s[r+1]),!c&&(r==null||r===-1||r<s.length-1)&&this._shouldEnterAsFirstChild(i,e)&&(c=s[0]),a>-1&&s.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){let h=c.getRootElement();h.parentElement.insertBefore(l,h),s.splice(r,0,t)}else Pt(this._element).appendChild(l),s.push(t);l.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables.forEach(t=>{let i=t.getRootElement();if(i){let e=this._itemPositions.find(o=>o.drag===t)?.initialTransform;i.style.transform=e||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(e=>e.drag===t)}updateOnScroll(t,i){this._itemPositions.forEach(({clientRect:e})=>{ai(e,t,i)}),this._itemPositions.forEach(({drag:e})=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}_cacheItemPositions(){let t=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(i=>{let e=i.getVisibleElement();return{drag:i,offset:0,initialTransform:e.style.transform||"",clientRect:jr(e)}}).sort((i,e)=>t?i.clientRect.left-e.clientRect.left:i.clientRect.top-e.clientRect.top)}_getItemOffsetPx(t,i,e){let o=this.orientation==="horizontal",r=o?i.left-t.left:i.top-t.top;return e===-1&&(r+=o?i.width-t.width:i.height-t.height),r}_getSiblingOffsetPx(t,i,e){let o=this.orientation==="horizontal",r=i[t].clientRect,s=i[t+e*-1],a=r[o?"width":"height"]*e;if(s){let l=o?"left":"top",c=o?"right":"bottom";e===-1?a-=s.clientRect[l]-r[c]:a+=r[l]-s.clientRect[c]}return a}_shouldEnterAsFirstChild(t,i){if(!this._activeDraggables.length)return!1;let e=this._itemPositions,o=this.orientation==="horizontal";if(e[0].drag!==this._activeDraggables[0]){let s=e[e.length-1].clientRect;return o?t>=s.right:i>=s.bottom}else{let s=e[0].clientRect;return o?t<=s.left:i<=s.top}}_getItemIndexFromPointerPosition(t,i,e,o){let r=this.orientation==="horizontal",s=this._itemPositions.findIndex(({drag:a,clientRect:l})=>{if(a===t)return!1;if(o){let c=r?o.x:o.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&c===this._previousSwap.delta)return!1}return r?i>=Math.floor(l.left)&&i<Math.floor(l.right):e>=Math.floor(l.top)&&e<Math.floor(l.bottom)});return s===-1||!this._sortPredicate(s,t)?-1:s}},id=.05,ld=.05,Nt=function(n){return n[n.NONE=0]="NONE",n[n.UP=1]="UP",n[n.DOWN=2]="DOWN",n}(Nt||{}),Ot=function(n){return n[n.NONE=0]="NONE",n[n.LEFT=1]="LEFT",n[n.RIGHT=2]="RIGHT",n}(Ot||{}),Nr=class{constructor(t,i,e,o,r){this._dragDropRegistry=i,this._ngZone=o,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new nt,this.entered=new nt,this.exited=new nt,this.dropped=new nt,this.sorted=new nt,this.receivingStarted=new nt,this.receivingStopped=new nt,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=we.EMPTY,this._verticalScrollDirection=Nt.NONE,this._horizontalScrollDirection=Ot.NONE,this._stopScrollTimers=new nt,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),$r(0,yo).pipe(xn(this._stopScrollTimers)).subscribe(()=>{let s=this._scrollNode,a=this.autoScrollStep;this._verticalScrollDirection===Nt.UP?s.scrollBy(0,-a):this._verticalScrollDirection===Nt.DOWN&&s.scrollBy(0,a),this._horizontalScrollDirection===Ot.LEFT?s.scrollBy(-a,0):this._horizontalScrollDirection===Ot.RIGHT&&s.scrollBy(a,0)})},this.element=Pt(t),this._document=e,this.withScrollableParents([this.element]),i.registerDropContainer(this),this._parentPositions=new bo(e),this._sortStrategy=new zr(this.element,i),this._sortStrategy.withSortPredicate((s,a)=>this.sortPredicate(s,a,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,i,e,o){this._draggingStarted(),o==null&&this.sortingDisabled&&(o=this._draggables.indexOf(t)),this._sortStrategy.enter(t,i,e,o),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,i,e,o,r,s,a,l={}){this._reset(),this.dropped.next({item:t,currentIndex:i,previousIndex:e,container:this,previousContainer:o,isPointerOverContainer:r,distance:s,dropPoint:a,event:l})}withItems(t){let i=this._draggables;return this._draggables=t,t.forEach(e=>e._withDropContainer(this)),this.isDragging()&&(i.filter(o=>o.isDragging()).every(o=>t.indexOf(o)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._sortStrategy.direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._sortStrategy.orientation=t,this}withScrollableParents(t){let i=Pt(this.element);return this._scrollableElements=t.indexOf(i)===-1?[i,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,i,e,o){if(this.sortingDisabled||!this._domRect||!qc(this._domRect,id,i,e))return;let r=this._sortStrategy.sort(t,i,e,o);r&&this.sorted.next({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,i){if(this.autoScrollDisabled)return;let e,o=Nt.NONE,r=Ot.NONE;if(this._parentPositions.positions.forEach((s,a)=>{a===this._document||!s.clientRect||e||qc(s.clientRect,id,t,i)&&([o,r]=_0(a,s.clientRect,this._sortStrategy.direction,t,i),(o||r)&&(e=a))}),!o&&!r){let{width:s,height:a}=this._viewportRuler.getViewportSize(),l={width:s,height:a,top:0,right:s,bottom:a,left:0};o=cd(l,i),r=dd(l,t),e=window}e&&(o!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||e!==this._scrollNode)&&(this._verticalScrollDirection=o,this._horizontalScrollDirection=r,this._scrollNode=e,(o||r)&&e?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let t=Pt(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){let t=Pt(this.element);this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(t).clientRect}_reset(){this._isDragging=!1;let t=Pt(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(i=>i._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(t,i){return this._domRect!=null&&Ar(this._domRect,t,i)}_getSiblingContainerFromPosition(t,i,e){return this._siblings.find(o=>o._canReceive(t,i,e))}_canReceive(t,i,e){if(!this._domRect||!Ar(this._domRect,i,e)||!this.enterPredicate(t,this))return!1;let o=this._getShadowRoot().elementFromPoint(i,e);if(!o)return!1;let r=Pt(this.element);return o===r||r.contains(o)}_startReceiving(t,i){let e=this._activeSiblings;!e.has(t)&&i.every(o=>this.enterPredicate(o,this)||this._draggables.indexOf(o)>-1)&&(e.add(t),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:t,receiver:this,items:i}))}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:t,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){let i=this._parentPositions.handleScroll(t);i&&this._sortStrategy.updateOnScroll(i.top,i.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let t=Er(Pt(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let t=this._sortStrategy.getActiveItemsSnapshot().filter(i=>i.isDragging());this._siblings.forEach(i=>i._startReceiving(this,t))}};function cd(n,t){let{top:i,bottom:e,height:o}=n,r=o*ld;return t>=i-r&&t<=i+r?Nt.UP:t>=e-r&&t<=e+r?Nt.DOWN:Nt.NONE}function dd(n,t){let{left:i,right:e,width:o}=n,r=o*ld;return t>=i-r&&t<=i+r?Ot.LEFT:t>=e-r&&t<=e+r?Ot.RIGHT:Ot.NONE}function _0(n,t,i,e,o){let r=cd(t,o),s=dd(t,e),a=Nt.NONE,l=Ot.NONE;if(r){let c=n.scrollTop;r===Nt.UP?c>0&&(a=Nt.UP):n.scrollHeight-c>n.clientHeight&&(a=Nt.DOWN)}if(s){let c=n.scrollLeft;i==="rtl"?s===Ot.RIGHT?c<0&&(l=Ot.RIGHT):n.scrollWidth+c>n.clientWidth&&(l=Ot.LEFT):s===Ot.LEFT?c>0&&(l=Ot.LEFT):n.scrollWidth-c>n.clientWidth&&(l=Ot.RIGHT)}return[a,l]}var mo=oi({passive:!1,capture:!0}),_o=new Set,b0=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=D({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],standalone:!0,features:[T],decls:0,vars:0,template:function(o,r){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit}}"],encapsulation:2,changeDetection:0});let n=t;return n})(),x0=(()=>{let t=class t{constructor(e,o){this._ngZone=e,this._appRef=ze(ts),this._environmentInjector=ze(Gr),this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=Oo([]),this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new nt,this.pointerUp=new nt,this.scroll=new nt,this._preventDefaultWhileDragging=r=>{this._activeDragInstances().length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=o}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,mo)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),this._dragInstances.size===0&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,mo)}startDragging(e,o){if(!(this._activeDragInstances().indexOf(e)>-1)&&(this._loadResets(),this._activeDragInstances.update(r=>[...r,e]),this._activeDragInstances().length===1)){let r=o.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:mo}),r||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:mo}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,a)=>{this._document.addEventListener(a,s.handler,s.options)})})}}stopDragging(e){this._activeDragInstances.update(o=>{let r=o.indexOf(e);return r>-1?(o.splice(r,1),[...o]):o}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances().indexOf(e)>-1}scrolled(e){let o=[this.scroll];return e&&e!==this._document&&o.push(new _n(r=>this._ngZone.runOutsideAngular(()=>{let a=l=>{this._activeDragInstances().length&&r.next(l)};return e.addEventListener("scroll",a,!0),()=>{e.removeEventListener("scroll",a,!0)}}))),hi(...o)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,o)=>{this._document.removeEventListener(o,e.handler,e.options)}),this._globalListeners.clear()}_loadResets(){if(!_o.has(this._appRef)){_o.add(this._appRef);let e=es(b0,{environmentInjector:this._environmentInjector});this._appRef.onDestroy(()=>{_o.delete(this._appRef),_o.size===0&&e.destroy()})}}};t.\u0275fac=function(o){return new(o||t)(et(Xt),et(Jt))},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),v0={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Vr=(()=>{let t=class t{constructor(e,o,r,s){this._document=e,this._ngZone=o,this._viewportRuler=r,this._dragDropRegistry=s}createDrag(e,o=v0){return new Fr(e,o,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new Nr(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}};t.\u0275fac=function(o){return new(o||t)(et(Jt),et(Xt),et(Bc),et(x0))},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),od=new Ht("CDK_DRAG_PARENT");var y0=new Ht("CdkDragHandle");var ud=new Ht("CDK_DRAG_CONFIG"),C0="cdk-drag",hd=new Ht("CdkDropList"),Z=(()=>{let t=class t{get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}constructor(e,o,r,s,a,l,c,h,g,p,_){this.element=e,this.dropContainer=o,this._ngZone=s,this._viewContainerRef=a,this._dir=c,this._changeDetectorRef=g,this._selfHandle=p,this._parentDrag=_,this._destroyed=new nt,this._handles=new Fe([]),this.started=new yt,this.released=new yt,this.ended=new yt,this.entered=new yt,this.exited=new yt,this.dropped=new yt,this.moved=new _n(v=>{let O=this._dragRef.moved.pipe(Hr(M=>({source:this,pointerPosition:M.pointerPosition,event:M.event,delta:M.delta,distance:M.distance}))).subscribe(v);return()=>{O.unsubscribe()}}),this._injector=ze(Qr),this._dragRef=h.createDrag(e,{dragStartThreshold:l&&l.dragStartThreshold!=null?l.dragStartThreshold:5,pointerDirectionChangeThreshold:l&&l.pointerDirectionChangeThreshold!=null?l.pointerDirectionChangeThreshold:5,zIndex:l?.zIndex}),this._dragRef.data=this,t._dragInstances.push(this),l&&this._assignDefaults(l),o&&(this._dragRef._withDropContainer(o._dropListRef),o.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){Xr(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(e){let o=e.rootElementSelector,r=e.freeDragPosition;o&&!o.firstChange&&this._updateRootElement(),r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);let e=t._dragInstances.indexOf(this);e>-1&&t._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(e){let o=this._handles.getValue();o.push(e),this._handles.next(o)}_removeHandle(e){let o=this._handles.getValue(),r=o.indexOf(e);r>-1&&(o.splice(r,1),this._handles.next(o))}_setPreviewTemplate(e){this._previewTemplate=e}_resetPreviewTemplate(e){e===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(e){this._placeholderTemplate=e}_resetPlaceholderTemplate(e){e===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let e=this.element.nativeElement,o=e;this.rootElementSelector&&(o=e.closest!==void 0?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(o||e)}_getBoundaryElement(){let e=this.boundaryElement;return e?typeof e=="string"?this.element.nativeElement.closest(e):Pt(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){let o=this._dir,r=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay=typeof r=="object"&&r?r:fo(r),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),o&&e.withDirection(o.value)}}),e.beforeStarted.pipe(Yr(1)).subscribe(()=>{if(this._parentDrag){e.withParent(this._parentDrag._dragRef);return}let o=this.element.nativeElement.parentElement;for(;o;){if(o.classList.contains(C0)){e.withParent(t._dragInstances.find(r=>r.element.nativeElement===o)?._dragRef||null);break}o=o.parentElement}})}_handleEvents(e){e.started.subscribe(o=>{this.started.emit({source:this,event:o.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(o=>{this.released.emit({source:this,event:o.event})}),e.ended.subscribe(o=>{this.ended.emit({source:this,distance:o.distance,dropPoint:o.dropPoint,event:o.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(o=>{this.entered.emit({container:o.container.data,item:this,currentIndex:o.currentIndex})}),e.exited.subscribe(o=>{this.exited.emit({container:o.container.data,item:this})}),e.dropped.subscribe(o=>{this.dropped.emit({previousIndex:o.previousIndex,currentIndex:o.currentIndex,previousContainer:o.previousContainer.data,container:o.container.data,isPointerOverContainer:o.isPointerOverContainer,item:this,distance:o.distance,dropPoint:o.dropPoint,event:o.event})})}_assignDefaults(e){let{lockAxis:o,dragStartDelay:r,constrainPosition:s,previewClass:a,boundaryElement:l,draggingDisabled:c,rootElementSelector:h,previewContainer:g}=e;this.disabled=c??!1,this.dragStartDelay=r||0,o&&(this.lockAxis=o),s&&(this.constrainPosition=s),a&&(this.previewClass=a),l&&(this.boundaryElement=l),h&&(this.rootElementSelector=h),g&&(this.previewContainer=g)}_setupHandlesListener(){this._handles.pipe(qr(e=>{let o=e.map(r=>r.element);this._selfHandle&&this.rootElementSelector&&o.push(this.element),this._dragRef.withHandles(o)}),wo(e=>hi(...e.map(o=>o._stateChanges.pipe(fi(o))))),xn(this._destroyed)).subscribe(e=>{let o=this._dragRef,r=e.element.nativeElement;e.disabled?o.disableHandle(r):o.enableHandle(r)})}};t._dragInstances=[],t.\u0275fac=function(o){return new(o||t)(x(le),x(hd,12),x(Jt),x(Xt),x(So),x(ud,8),x(Ir,8),x(Vr),x(Be),x(y0,10),x(od,12))},t.\u0275dir=Pe({type:t,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(o,r){o&2&&je("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:[ut.None,"cdkDragData","data"],lockAxis:[ut.None,"cdkDragLockAxis","lockAxis"],rootElementSelector:[ut.None,"cdkDragRootElement","rootElementSelector"],boundaryElement:[ut.None,"cdkDragBoundary","boundaryElement"],dragStartDelay:[ut.None,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[ut.None,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[ut.HasDecoratorInputTransform,"cdkDragDisabled","disabled",Sn],constrainPosition:[ut.None,"cdkDragConstrainPosition","constrainPosition"],previewClass:[ut.None,"cdkDragPreviewClass","previewClass"],previewContainer:[ut.None,"cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[wn([{provide:od,useExisting:t}]),pi,vn]});let n=t;return n})(),rd=new Ht("CdkDropListGroup");var k0=0,X=(()=>{let t=class t{get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=e}constructor(e,o,r,s,a,l,c){this.element=e,this._changeDetectorRef=r,this._scrollDispatcher=s,this._dir=a,this._group=l,this._destroyed=new nt,this.connectedTo=[],this.id=`cdk-drop-list-${k0++}`,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new yt,this.entered=new yt,this.exited=new yt,this.sorted=new yt,this._unsortedItems=new Set,this._dropListRef=o.createDropList(e),this._dropListRef.data=this,c&&this._assignDefaults(c),this._dropListRef.enterPredicate=(h,g)=>this.enterPredicate(h.data,g.data),this._dropListRef.sortPredicate=(h,g,p)=>this.sortPredicate(h,g.data,p.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),l&&l._items.add(this)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,o)=>e._dragRef.getVisibleElement().compareDocumentPosition(o._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(fi(this._dir.value),xn(this._destroyed)).subscribe(o=>e.withDirection(o)),e.beforeStarted.subscribe(()=>{let o=Nc(this.connectedTo).map(r=>{if(typeof r=="string"){let s=t._dropLists.find(a=>a.id===r);return s}return r});if(this._group&&this._group._items.forEach(r=>{o.indexOf(r)===-1&&o.push(r)}),!this._scrollableParentsResolved){let r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(s=>s.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=this.sortingDisabled,e.autoScrollDisabled=this.autoScrollDisabled,e.autoScrollStep=fo(this.autoScrollStep,2),e.connectedTo(o.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(o=>{this.entered.emit({container:this,item:o.item.data,currentIndex:o.currentIndex})}),e.exited.subscribe(o=>{this.exited.emit({container:this,item:o.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(o=>{this.sorted.emit({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:o.item.data})}),e.dropped.subscribe(o=>{this.dropped.emit({previousIndex:o.previousIndex,currentIndex:o.currentIndex,previousContainer:o.previousContainer.data,container:o.container.data,item:o.item.data,isPointerOverContainer:o.isPointerOverContainer,distance:o.distance,dropPoint:o.dropPoint,event:o.event}),this._changeDetectorRef.markForCheck()}),hi(e.receivingStarted,e.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(e){let{lockAxis:o,draggingDisabled:r,sortingDisabled:s,listAutoScrollDisabled:a,listOrientation:l}=e;this.disabled=r??!1,this.sortingDisabled=s??!1,this.autoScrollDisabled=a??!1,this.orientation=l||"vertical",o&&(this.lockAxis=o)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}};t._dropLists=[],t.\u0275fac=function(o){return new(o||t)(x(le),x(Vr),x(Be),x(jc),x(Ir,8),x(rd,12),x(ud,8))},t.\u0275dir=Pe({type:t,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(o,r){o&2&&(Ne("id",r.id),je("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:[ut.None,"cdkDropListConnectedTo","connectedTo"],data:[ut.None,"cdkDropListData","data"],orientation:[ut.None,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[ut.None,"cdkDropListLockAxis","lockAxis"],disabled:[ut.HasDecoratorInputTransform,"cdkDropListDisabled","disabled",Sn],sortingDisabled:[ut.HasDecoratorInputTransform,"cdkDropListSortingDisabled","sortingDisabled",Sn],enterPredicate:[ut.None,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[ut.None,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[ut.HasDecoratorInputTransform,"cdkDropListAutoScrollDisabled","autoScrollDisabled",Sn],autoScrollStep:[ut.None,"cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[wn([{provide:rd,useValue:void 0},{provide:hd,useExisting:t}]),pi]});let n=t;return n})();var $=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Vt({providers:[Vr],imports:[Vc]});let n=t;return n})();var M0=["audioPlayer"];function w0(n,t){if(n&1){let i=E();d(0,"div",8)(1,"span",9),f(2),u(),d(3,"span",10),f(4),u(),d(5,"audio",11),C("error",function(o){P(i);let r=k();return S(r.handleAudioError(o))}),u()()}if(n&2){let i=t.$implicit,e=t.index;m(2),j("",e+1,"."),m(2),A(i.title),m(),b("src",i.audioSource,N)}}var gd=(()=>{let t=class t{constructor(e,o){this.rankingsService=e,this.albumService=o,this.rankings=[],this.songs=[],this.currentlyPlaying=null}ngOnInit(){this.loadAlbumData(),this.disableAudioRightClick()}disableAudioRightClick(){document.addEventListener("contextmenu",e=>{e.target instanceof HTMLElement&&e.target.tagName==="AUDIO"&&e.preventDefault()},!1)}loadAlbumData(){this.albumService.getAlbumByTitle("Taylor Swift").subscribe(e=>{this.songs=e.songs.map(o=>K(Y({},o),{album:e.title})),console.log("Loaded album songs:",this.songs),this.loadRankings()},e=>{console.error("Error fetching album:",e)})}loadRankings(){this.rankingsService.getUserRankings().subscribe(e=>{e&&e.albumRankings&&e.albumRankings.taylorSwift?(this.rankings=e.albumRankings.taylorSwift.sort((o,r)=>o.rank-r.rank),console.log("Loaded rankings:",this.rankings)):(this.rankings=[],console.log("No rankings found")),this.applyRankingsToSongs()},e=>{console.error("Error fetching rankings:",e),this.rankings=[],this.applyRankingsToSongs()})}applyRankingsToSongs(){if(this.songs.length>0)if(this.rankings.length>0){let e=new Map(this.rankings.map(o=>[o.songId,o.rank]));this.songs.sort((o,r)=>{let s=e.get(o._id)??1/0,a=e.get(r._id)??1/0;return s-a})}else console.log("No rankings found, displaying all songs in original order");else console.log("No songs found");console.log("Final songs array:",this.songs)}onDrop(e){q(this.songs,e.previousIndex,e.currentIndex),this.updateRankings()}updateRankings(){let e=this.songs.map((o,r)=>({slot:r+1,albumName:o.album,songId:o._id,songTitle:o.title,albumCover:o.albumImageSource,rank:r+1}));this.rankingsService.updateRanking("taylorSwift",e).subscribe(o=>console.log("Rankings updated"),o=>console.error("Error updating rankings:",o))}handleAudioError(e){console.error("Audio failed to load:",e)}};t.\u0275fac=function(o){return new(o||t)(x(U),x(H))},t.\u0275cmp=D({type:t,selectors:[["app-debut-ranking"]],viewQuery:function(o,r){if(o&1&&it(M0,5),o&2){let s;ot(s=rt())&&(r.audioPlayers=s)}},standalone:!0,features:[T],decls:15,vars:1,consts:[[1,"album-ranking-container"],[1,"media-column"],["src","https://d3e29z0m37b0un.cloudfront.net/Taylor+Swift.jpg","alt","Album Cover",1,"album-cover"],[1,"ranking-column"],[1,"content-div"],[1,"helper-text"],["cdkDropList","",1,"song-list",3,"cdkDropListDropped"],["class","song-item","cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag","",1,"song-item"],[1,"rank-number"],[1,"song-title"],["controls","","controlsList","nodownload",3,"error","src"]],template:function(o,r){o&1&&(d(0,"div",0)(1,"div",1),y(2,"img",2),u(),d(3,"div",3)(4,"div",4)(5,"p"),f(6,"My Rankings For:"),u(),d(7,"h1"),f(8,"Taylor Swift"),u(),d(9,"p"),f(10,"Released: October 24th, 2006"),u(),d(11,"p",5),f(12,"Click and drag a song to reorder your list!"),u()(),d(13,"div",6),C("cdkDropListDropped",function(a){return r.onDrop(a)}),w(14,w0,6,3,"div",7),u()()()),o&2&&(m(14),b("ngForOf",r.songs))},dependencies:[$,X,Z,R,L],styles:['.album-ranking-container[_ngcontent-%COMP%]{display:flex;max-width:1200px;margin:0 auto;padding:20px;position:relative;overflow:hidden}.album-ranking-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background-image:url(https://d3e29z0m37b0un.cloudfront.net/photo-grids/debut-grid.png);background-size:cover;background-position:center;filter:blur(5px);z-index:-2}.album-ranking-container[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background-color:#0000001a;z-index:-1}.media-column[_ngcontent-%COMP%], .ranking-column[_ngcontent-%COMP%]{position:relative;z-index:1;background-color:#ffffff80;border-radius:10px;padding:20px;margin:10px}.media-column[_ngcontent-%COMP%]{align-self:flex-start;padding:10px;margin-right:20px}.album-cover[_ngcontent-%COMP%]{width:100%;max-width:400px;height:auto;border-radius:10px;box-shadow:0 4px 8px #0000001a}.ranking-column[_ngcontent-%COMP%]{flex:1;background-color:#fff;border-radius:10px;padding:20px;box-shadow:0 4px 8px #0000001a}.content-div[_ngcontent-%COMP%]{margin-bottom:20px;color:#333}.content-div[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;margin:10px 0}.content-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.helper-text[_ngcontent-%COMP%]{color:#9bd47d!important;font-style:italic}.song-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px;margin-bottom:10px;border:2px solid #344055;border-radius:5px;background-color:#fff;cursor:grab;transition:background-color .3s ease}.song-item[_ngcontent-%COMP%]:hover{background-color:#9bd47d}.rank-number[_ngcontent-%COMP%]{width:30px;text-align:center;font-weight:700;color:#333}.song-title[_ngcontent-%COMP%]{flex-grow:1;padding-left:10px;color:#333}audio[_ngcontent-%COMP%]{width:200px;height:30px;background-color:#ffffff1a;border-radius:15px;outline:1px solid white}audio[_ngcontent-%COMP%]::-webkit-media-controls-panel{background-color:none}audio[_ngcontent-%COMP%]::-webkit-media-controls-play-button{background-color:#fff3;border-radius:50%}audio[_ngcontent-%COMP%]::-webkit-media-controls-current-time-display, audio[_ngcontent-%COMP%]::-webkit-media-controls-time-remaining-display{color:#000}@media (max-width: 768px){.album-ranking-container[_ngcontent-%COMP%]{flex-direction:column}.media-column[_ngcontent-%COMP%], .ranking-column[_ngcontent-%COMP%]{width:100%;margin:10px 0}.media-column[_ngcontent-%COMP%]{align-self:center;display:flex;justify-content:center;align-items:center}.song-item[_ngcontent-%COMP%]{width:90%}}']});let n=t;return n})();var P0=["audioPlayer"];function S0(n,t){if(n&1){let i=E();d(0,"div",8)(1,"span",9),f(2),u(),d(3,"span",10),f(4),u(),d(5,"audio",11),C("error",function(o){P(i);let r=k();return S(r.handleAudioError(o))}),u()()}if(n&2){let i=t.$implicit,e=t.index;m(2),j("",e+1,"."),m(2),A(i.title),m(),b("src",i.audioSource,N)}}var fd=(()=>{let t=class t{constructor(e,o){this.rankingsService=e,this.albumService=o,this.rankings=[],this.songs=[],this.currentlyPlaying=null}ngOnInit(){this.loadAlbumData(),this.disableAudioRightClick()}disableAudioRightClick(){document.addEventListener("contextmenu",e=>{e.target instanceof HTMLElement&&e.target.tagName==="AUDIO"&&e.preventDefault()},!1)}loadAlbumData(){this.albumService.getAlbumByTitle("The Tortured Poets Department").subscribe(e=>{this.songs=e.songs.map(o=>K(Y({},o),{album:e.title})),console.log("Loaded album songs:",this.songs),this.loadRankings()},e=>{console.error("Error fetching album:",e)})}loadRankings(){this.rankingsService.getUserRankings().subscribe(e=>{e&&e.albumRankings&&e.albumRankings.theTorturedPoetsDepartment?(this.rankings=e.albumRankings.theTorturedPoetsDepartment.sort((o,r)=>o.rank-r.rank),console.log("Loaded rankings:",this.rankings)):(this.rankings=[],console.log("No rankings found")),this.applyRankingsToSongs()},e=>{console.error("Error fetching rankings:",e),this.rankings=[],this.applyRankingsToSongs()})}applyRankingsToSongs(){if(this.songs.length>0)if(this.rankings.length>0){let e=new Map(this.rankings.map(o=>[o.songId,o.rank]));this.songs.sort((o,r)=>{let s=e.get(o._id)??1/0,a=e.get(r._id)??1/0;return s-a})}else console.log("No rankings found, displaying all songs in original order");else console.log("No songs found");console.log("Final songs array:",this.songs)}onDrop(e){q(this.songs,e.previousIndex,e.currentIndex),this.updateRankings()}updateRankings(){let e=this.songs.map((o,r)=>({slot:r+1,albumName:o.album,songId:o._id,songTitle:o.title,albumCover:o.albumImageSource,rank:r+1}));this.rankingsService.updateRanking("theTorturedPoetsDepartment",e).subscribe(o=>console.log("Rankings updated"),o=>console.error("Error updating rankings:",o))}handleAudioError(e){console.error("Audio failed to load:",e)}};t.\u0275fac=function(o){return new(o||t)(x(U),x(H))},t.\u0275cmp=D({type:t,selectors:[["app-debut-ranking"]],viewQuery:function(o,r){if(o&1&&it(P0,5),o&2){let s;ot(s=rt())&&(r.audioPlayers=s)}},standalone:!0,features:[T],decls:15,vars:1,consts:[[1,"album-ranking-container"],[1,"media-column"],["src","https://d3e29z0m37b0un.cloudfront.net/ttpd.jpg","alt","Album Cover",1,"album-cover"],[1,"ranking-column"],[1,"content-div"],[1,"helper-text"],["cdkDropList","",1,"song-list",3,"cdkDropListDropped"],["class","song-item","cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag","",1,"song-item"],[1,"rank-number"],[1,"song-title"],["controls","","controlsList","nodownload",3,"error","src"]],template:function(o,r){o&1&&(d(0,"div",0)(1,"div",1),y(2,"img",2),u(),d(3,"div",3)(4,"div",4)(5,"p"),f(6,"My Rankings For:"),u(),d(7,"h1"),f(8,"The Tortured Poets Department"),u(),d(9,"p"),f(10,"Released: April 19th, 2024"),u(),d(11,"p",5),f(12,"Click and drag a song to reorder your list!"),u()(),d(13,"div",6),C("cdkDropListDropped",function(a){return r.onDrop(a)}),w(14,S0,6,3,"div",7),u()()()),o&2&&(m(14),b("ngForOf",r.songs))},dependencies:[$,X,Z,R,L],styles:['.album-ranking-container[_ngcontent-%COMP%]{display:flex;max-width:1200px;margin:0 auto;padding:20px;position:relative;overflow:hidden}.album-ranking-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background-image:url(https://d3e29z0m37b0un.cloudfront.net/photo-grids/ttpd-grid.png);background-size:cover;background-position:center;filter:blur(5px);z-index:-2}.album-ranking-container[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background-color:#0000001a;z-index:-1}.media-column[_ngcontent-%COMP%], .ranking-column[_ngcontent-%COMP%]{position:relative;z-index:1;background-color:#ffffff80;border-radius:10px;padding:20px;margin:10px}.media-column[_ngcontent-%COMP%]{align-self:flex-start;padding:10px;margin-right:20px}.album-cover[_ngcontent-%COMP%]{width:100%;max-width:400px;height:auto;border-radius:10px;box-shadow:0 4px 8px #0000001a}.ranking-column[_ngcontent-%COMP%]{flex:1;background-color:#fff;border-radius:10px;padding:20px;box-shadow:0 4px 8px #0000001a}.content-div[_ngcontent-%COMP%]{margin-bottom:20px;color:#333}.content-div[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;margin:10px 0}.content-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.helper-text[_ngcontent-%COMP%]{color:#e3e0c8!important;font-style:italic}.song-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px;margin-bottom:10px;border:2px solid #344055;border-radius:5px;background-color:#fff;cursor:grab;transition:background-color .3s ease}.song-item[_ngcontent-%COMP%]:hover{background-color:#e3e0c8}.rank-number[_ngcontent-%COMP%]{width:30px;text-align:center;font-weight:700;color:#333}.song-title[_ngcontent-%COMP%]{flex-grow:1;padding-left:10px;color:#333}audio[_ngcontent-%COMP%]{width:200px;height:30px;background-color:#ffffff1a;border-radius:15px;outline:1px solid white}audio[_ngcontent-%COMP%]::-webkit-media-controls-panel{background-color:none}audio[_ngcontent-%COMP%]::-webkit-media-controls-play-button{background-color:#fff3;border-radius:50%}audio[_ngcontent-%COMP%]::-webkit-media-controls-current-time-display, audio[_ngcontent-%COMP%]::-webkit-media-controls-time-remaining-display{color:#000}@media (max-width: 768px){.album-ranking-container[_ngcontent-%COMP%]{flex-direction:column}.media-column[_ngcontent-%COMP%], .ranking-column[_ngcontent-%COMP%]{width:100%;margin:10px 0}.media-column[_ngcontent-%COMP%]{align-self:center;display:flex;justify-content:center;align-items:center}.song-item[_ngcontent-%COMP%]{width:90%}}']});let n=t;return n})();var O0=["audioPlayer"];function D0(n,t){if(n&1){let i=E();d(0,"div",8)(1,"span",9),f(2),u(),d(3,"span",10),f(4),u(),d(5,"audio",11),C("error",function(o){P(i);let r=k();return S(r.handleAudioError(o))}),u()()}if(n&2){let i=t.$implicit,e=t.index;m(2),j("",e+1,"."),m(2),A(i.title),m(),b("src",i.audioSource,N)}}var pd=(()=>{let t=class t{constructor(e,o){this.rankingsService=e,this.albumService=o,this.rankings=[],this.songs=[],this.currentlyPlaying=null}ngOnInit(){this.loadAlbumData(),this.disableAudioRightClick()}disableAudioRightClick(){document.addEventListener("contextmenu",e=>{e.target instanceof HTMLElement&&e.target.tagName==="AUDIO"&&e.preventDefault()},!1)}loadAlbumData(){this.albumService.getAlbumByTitle("Fearless (Taylor's Version)").subscribe(e=>{this.songs=e.songs.map(o=>K(Y({},o),{album:e.title})),console.log("Loaded album songs:",this.songs),this.loadRankings()},e=>{console.error("Error fetching album:",e)})}loadRankings(){this.rankingsService.getUserRankings().subscribe(e=>{e&&e.albumRankings&&e.albumRankings.fearless?(this.rankings=e.albumRankings.fearless.sort((o,r)=>o.rank-r.rank),console.log("Loaded rankings:",this.rankings)):(this.rankings=[],console.log("No rankings found")),this.applyRankingsToSongs()},e=>{console.error("Error fetching rankings:",e),this.rankings=[],this.applyRankingsToSongs()})}applyRankingsToSongs(){if(this.songs.length>0)if(this.rankings.length>0){let e=new Map(this.rankings.map(o=>[o.songId,o.rank]));this.songs.sort((o,r)=>{let s=e.get(o._id)??1/0,a=e.get(r._id)??1/0;return s-a})}else console.log("No rankings found, displaying all songs in original order");else console.log("No songs found");console.log("Final songs array:",this.songs)}onDrop(e){q(this.songs,e.previousIndex,e.currentIndex),this.updateRankings()}updateRankings(){let e=this.songs.map((o,r)=>({slot:r+1,albumName:o.album,songId:o._id,songTitle:o.title,albumCover:o.albumImageSource,rank:r+1}));this.rankingsService.updateRanking("fearless",e).subscribe(o=>console.log("Rankings updated"),o=>console.error("Error updating rankings:",o))}handleAudioError(e){console.error("Audio failed to load:",e)}};t.\u0275fac=function(o){return new(o||t)(x(U),x(H))},t.\u0275cmp=D({type:t,selectors:[["app-fearless-ranking"]],viewQuery:function(o,r){if(o&1&&it(O0,5),o&2){let s;ot(s=rt())&&(r.audioPlayers=s)}},standalone:!0,features:[T],decls:15,vars:1,consts:[[1,"album-ranking-container"],[1,"media-column"],["src","https://d3e29z0m37b0un.cloudfront.net/fearless_taylors_version_album.jpg","alt","Album Cover",1,"album-cover"],[1,"ranking-column"],[1,"content-div"],[1,"helper-text"],["cdkDropList","",1,"song-list",3,"cdkDropListDropped"],["class","song-item","cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag","",1,"song-item"],[1,"rank-number"],[1,"song-title"],["controls","","controlsList","nodownload",3,"error","src"]],template:function(o,r){o&1&&(d(0,"div",0)(1,"div",1),y(2,"img",2),u(),d(3,"div",3)(4,"div",4)(5,"p"),f(6,"My Rankings For:"),u(),d(7,"h1"),f(8,"Fearless (Taylor's Version)"),u(),d(9,"p"),f(10,"Released: April 9th, 2021"),u(),d(11,"p",5),f(12,"Click and drag a song to reorder your list!"),u()(),d(13,"div",6),C("cdkDropListDropped",function(a){return r.onDrop(a)}),w(14,D0,6,3,"div",7),u()()()),o&2&&(m(14),b("ngForOf",r.songs))},dependencies:[$,X,Z,R,L],styles:['.album-ranking-container[_ngcontent-%COMP%]{display:flex;max-width:1200px;margin:0 auto;padding:20px;position:relative;overflow:hidden}.album-ranking-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background-image:url(https://d3e29z0m37b0un.cloudfront.net/photo-grids/fearless-grid.png);background-size:cover;background-position:center;filter:blur(5px);z-index:-2}.album-ranking-container[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background-color:#0000001a;z-index:-1}.media-column[_ngcontent-%COMP%], .ranking-column[_ngcontent-%COMP%]{position:relative;z-index:1;background-color:#ffffff80;border-radius:10px;padding:20px;margin:10px}.media-column[_ngcontent-%COMP%]{align-self:flex-start;padding:10px;margin-right:20px}.album-cover[_ngcontent-%COMP%]{width:100%;max-width:400px;height:auto;border-radius:10px;box-shadow:0 4px 8px #0000001a}.ranking-column[_ngcontent-%COMP%]{flex:1;background-color:#fff;border-radius:10px;padding:20px;box-shadow:0 4px 8px #0000001a}.content-div[_ngcontent-%COMP%]{margin-bottom:20px;color:#333}.content-div[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;margin:10px 0}.content-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.helper-text[_ngcontent-%COMP%]{color:#eda600!important;font-style:italic}.song-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px;margin-bottom:10px;border:2px solid #344055;border-radius:5px;background-color:#fff;cursor:grab;transition:background-color .3s ease}.song-item[_ngcontent-%COMP%]:hover{background-color:#eda600}.rank-number[_ngcontent-%COMP%]{width:30px;text-align:center;font-weight:700;color:#333}.song-title[_ngcontent-%COMP%]{flex-grow:1;padding-left:10px;color:#333}audio[_ngcontent-%COMP%]{width:200px;height:30px;background-color:#ffffff1a;border-radius:15px;outline:1px solid white}audio[_ngcontent-%COMP%]::-webkit-media-controls-panel{background-color:none}audio[_ngcontent-%COMP%]::-webkit-media-controls-play-button{background-color:#fff3;border-radius:50%}audio[_ngcontent-%COMP%]::-webkit-media-controls-current-time-display, audio[_ngcontent-%COMP%]::-webkit-media-controls-time-remaining-display{color:#000}@media (max-width: 768px){.album-ranking-container[_ngcontent-%COMP%]{flex-direction:column}.media-column[_ngcontent-%COMP%], .ranking-column[_ngcontent-%COMP%]{width:100%;margin:10px 0}.media-column[_ngcontent-%COMP%]{align-self:center;display:flex;justify-content:center;align-items:center}.song-item[_ngcontent-%COMP%]{width:90%}}']});let n=t;return n})();var T0=["audioPlayer"];function E0(n,t){if(n&1){let i=E();d(0,"div",8)(1,"span",9),f(2),u(),d(3,"span",10),f(4),u(),d(5,"audio",11),C("error",function(o){P(i);let r=k();return S(r.handleAudioError(o))}),u()()}if(n&2){let i=t.$implicit,e=t.index;m(2),j("",e+1,"."),m(2),A(i.title),m(),b("src",i.audioSource,N)}}var md=(()=>{let t=class t{constructor(e,o){this.rankingsService=e,this.albumService=o,this.rankings=[],this.songs=[],this.currentlyPlaying=null}ngOnInit(){this.loadAlbumData(),this.disableAudioRightClick()}disableAudioRightClick(){document.addEventListener("contextmenu",e=>{e.target instanceof HTMLElement&&e.target.tagName==="AUDIO"&&e.preventDefault()},!1)}loadAlbumData(){this.albumService.getAlbumByTitle("Speak Now (Taylor's Version)").subscribe(e=>{this.songs=e.songs.map(o=>K(Y({},o),{album:e.title})),console.log("Loaded album songs:",this.songs),this.loadRankings()},e=>{console.error("Error fetching album:",e)})}loadRankings(){this.rankingsService.getUserRankings().subscribe(e=>{e&&e.albumRankings&&e.albumRankings.speakNow?(this.rankings=e.albumRankings.speakNow.sort((o,r)=>o.rank-r.rank),console.log("Loaded rankings:",this.rankings)):(this.rankings=[],console.log("No rankings found")),this.applyRankingsToSongs()},e=>{console.error("Error fetching rankings:",e),this.rankings=[],this.applyRankingsToSongs()})}applyRankingsToSongs(){if(this.songs.length>0)if(this.rankings.length>0){let e=new Map(this.rankings.map(o=>[o.songId,o.rank]));this.songs.sort((o,r)=>{let s=e.get(o._id)??1/0,a=e.get(r._id)??1/0;return s-a})}else console.log("No rankings found, displaying all songs in original order");else console.log("No songs found");console.log("Final songs array:",this.songs)}onDrop(e){q(this.songs,e.previousIndex,e.currentIndex),this.updateRankings()}updateRankings(){let e=this.songs.map((o,r)=>({slot:r+1,albumName:o.album,songId:o._id,songTitle:o.title,albumCover:o.albumImageSource,rank:r+1}));this.rankingsService.updateRanking("speakNow",e).subscribe(o=>console.log("Rankings updated"),o=>console.error("Error updating rankings:",o))}handleAudioError(e){console.error("Audio failed to load:",e)}};t.\u0275fac=function(o){return new(o||t)(x(U),x(H))},t.\u0275cmp=D({type:t,selectors:[["app-speak-now-ranking"]],viewQuery:function(o,r){if(o&1&&it(T0,5),o&2){let s;ot(s=rt())&&(r.audioPlayers=s)}},standalone:!0,features:[T],decls:15,vars:1,consts:[[1,"album-ranking-container"],[1,"media-column"],["src","https://d3e29z0m37b0un.cloudfront.net/speak-now-tv.jpg","alt","Album Cover",1,"album-cover"],[1,"ranking-column"],[1,"content-div"],[1,"helper-text"],["cdkDropList","",1,"song-list",3,"cdkDropListDropped"],["class","song-item","cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag","",1,"song-item"],[1,"rank-number"],[1,"song-title"],["controls","","controlsList","nodownload",3,"error","src"]],template:function(o,r){o&1&&(d(0,"div",0)(1,"div",1),y(2,"img",2),u(),d(3,"div",3)(4,"div",4)(5,"p"),f(6,"My Rankings For:"),u(),d(7,"h1"),f(8,"Speak Now (Taylor's Version)"),u(),d(9,"p"),f(10,"Released: July 7th, 2023"),u(),d(11,"p",5),f(12,"Click and drag a song to reorder your list!"),u()(),d(13,"div",6),C("cdkDropListDropped",function(a){return r.onDrop(a)}),w(14,E0,6,3,"div",7),u()()()),o&2&&(m(14),b("ngForOf",r.songs))},dependencies:[$,X,Z,R,L],styles:['.album-ranking-container[_ngcontent-%COMP%]{display:flex;max-width:1200px;margin:0 auto;padding:20px;position:relative;overflow:hidden}.album-ranking-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background-image:url(https://d3e29z0m37b0un.cloudfront.net/photo-grids/speak-now-grid.png);background-size:cover;background-position:center;filter:blur(5px);z-index:-2}.album-ranking-container[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background-color:#0000001a;z-index:-1}.media-column[_ngcontent-%COMP%], .ranking-column[_ngcontent-%COMP%]{position:relative;z-index:1;background-color:#ffffff80;border-radius:10px;padding:20px;margin:10px}.media-column[_ngcontent-%COMP%]{align-self:flex-start;padding:10px;margin-right:20px}.album-cover[_ngcontent-%COMP%]{width:100%;max-width:400px;height:auto;border-radius:10px;box-shadow:0 4px 8px #0000001a}.ranking-column[_ngcontent-%COMP%]{flex:1;background-color:#fff;border-radius:10px;padding:20px;box-shadow:0 4px 8px #0000001a}.content-div[_ngcontent-%COMP%]{margin-bottom:20px;color:#333}.content-div[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;margin:10px 0}.content-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.helper-text[_ngcontent-%COMP%]{color:#955693!important;font-style:italic}.song-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px;margin-bottom:10px;border:2px solid #344055;border-radius:5px;background-color:#fff;cursor:grab;transition:background-color .3s ease}.song-item[_ngcontent-%COMP%]:hover{background-color:#955693}.rank-number[_ngcontent-%COMP%]{width:30px;text-align:center;font-weight:700;color:#333}.song-title[_ngcontent-%COMP%]{flex-grow:1;padding-left:10px;color:#333}audio[_ngcontent-%COMP%]{width:200px;height:30px;background-color:#ffffff1a;border-radius:15px;outline:1px solid white}audio[_ngcontent-%COMP%]::-webkit-media-controls-panel{background-color:none}audio[_ngcontent-%COMP%]::-webkit-media-controls-play-button{background-color:#fff3;border-radius:50%}audio[_ngcontent-%COMP%]::-webkit-media-controls-current-time-display, audio[_ngcontent-%COMP%]::-webkit-media-controls-time-remaining-display{color:#000}@media (max-width: 768px){.album-ranking-container[_ngcontent-%COMP%]{flex-direction:column}.media-column[_ngcontent-%COMP%], .ranking-column[_ngcontent-%COMP%]{width:100%;margin:10px 0}.media-column[_ngcontent-%COMP%]{align-self:center;display:flex;justify-content:center;align-items:center}.song-item[_ngcontent-%COMP%]{width:90%}}']});let n=t;return n})();var I0=["audioPlayer"];function R0(n,t){if(n&1){let i=E();d(0,"div",8)(1,"span",9),f(2),u(),d(3,"span",10),f(4),u(),d(5,"audio",11),C("error",function(o){P(i);let r=k();return S(r.handleAudioError(o))}),u()()}if(n&2){let i=t.$implicit,e=t.index;m(2),j("",e+1,"."),m(2),A(i.title),m(),b("src",i.audioSource,N)}}var _d=(()=>{let t=class t{constructor(e,o){this.rankingsService=e,this.albumService=o,this.rankings=[],this.songs=[],this.currentlyPlaying=null}ngOnInit(){this.loadAlbumData(),this.disableAudioRightClick()}disableAudioRightClick(){document.addEventListener("contextmenu",e=>{e.target instanceof HTMLElement&&e.target.tagName==="AUDIO"&&e.preventDefault()},!1)}loadAlbumData(){this.albumService.getAlbumByTitle("Red (Taylor's Version)").subscribe(e=>{this.songs=e.songs.map(o=>K(Y({},o),{album:e.title})),console.log("Loaded album songs:",this.songs),this.loadRankings()},e=>{console.error("Error fetching album:",e)})}loadRankings(){this.rankingsService.getUserRankings().subscribe(e=>{e&&e.albumRankings&&e.albumRankings.red?(this.rankings=e.albumRankings.red.sort((o,r)=>o.rank-r.rank),console.log("Loaded rankings:",this.rankings)):(this.rankings=[],console.log("No rankings found")),this.applyRankingsToSongs()},e=>{console.error("Error fetching rankings:",e),this.rankings=[],this.applyRankingsToSongs()})}applyRankingsToSongs(){if(this.songs.length>0)if(this.rankings.length>0){let e=new Map(this.rankings.map(o=>[o.songId,o.rank]));this.songs.sort((o,r)=>{let s=e.get(o._id)??1/0,a=e.get(r._id)??1/0;return s-a})}else console.log("No rankings found, displaying all songs in original order");else console.log("No songs found");console.log("Final songs array:",this.songs)}onDrop(e){q(this.songs,e.previousIndex,e.currentIndex),this.updateRankings()}updateRankings(){let e=this.songs.map((o,r)=>({slot:r+1,albumName:o.album,songId:o._id,songTitle:o.title,albumCover:o.albumImageSource,rank:r+1}));this.rankingsService.updateRanking("red",e).subscribe(o=>console.log("Rankings updated"),o=>console.error("Error updating rankings:",o))}handleAudioError(e){console.error("Audio failed to load:",e)}};t.\u0275fac=function(o){return new(o||t)(x(U),x(H))},t.\u0275cmp=D({type:t,selectors:[["app-red-ranking"]],viewQuery:function(o,r){if(o&1&&it(I0,5),o&2){let s;ot(s=rt())&&(r.audioPlayers=s)}},standalone:!0,features:[T],decls:15,vars:1,consts:[[1,"album-ranking-container"],[1,"media-column"],["src","https://d3e29z0m37b0un.cloudfront.net/red-tv.jpeg","alt","Album Cover",1,"album-cover"],[1,"ranking-column"],[1,"content-div"],[1,"helper-text"],["cdkDropList","",1,"song-list",3,"cdkDropListDropped"],["class","song-item","cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag","",1,"song-item"],[1,"rank-number"],[1,"song-title"],["controls","","controlsList","nodownload",3,"error","src"]],template:function(o,r){o&1&&(d(0,"div",0)(1,"div",1),y(2,"img",2),u(),d(3,"div",3)(4,"div",4)(5,"p"),f(6,"My Rankings For:"),u(),d(7,"h1"),f(8,"Red (Taylor's Version)"),u(),d(9,"p"),f(10,"Released: November 12th, 2021"),u(),d(11,"p",5),f(12,"Click and drag a song to reorder your list!"),u()(),d(13,"div",6),C("cdkDropListDropped",function(a){return r.onDrop(a)}),w(14,R0,6,3,"div",7),u()()()),o&2&&(m(14),b("ngForOf",r.songs))},dependencies:[$,X,Z,R,L],styles:['.album-ranking-container[_ngcontent-%COMP%]{display:flex;max-width:1200px;margin:0 auto;padding:20px;position:relative;overflow:hidden}.album-ranking-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background-image:url(https://d3e29z0m37b0un.cloudfront.net/photo-grids/red-grid.png);background-size:cover;background-position:center;filter:blur(5px);z-index:-2}.album-ranking-container[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background-color:#0000001a;z-index:-1}.media-column[_ngcontent-%COMP%], .ranking-column[_ngcontent-%COMP%]{position:relative;z-index:1;background-color:#ffffff80;border-radius:10px;padding:20px;margin:10px}.media-column[_ngcontent-%COMP%]{align-self:flex-start;padding:10px;margin-right:20px}.album-cover[_ngcontent-%COMP%]{width:100%;max-width:400px;height:auto;border-radius:10px;box-shadow:0 4px 8px #0000001a}.ranking-column[_ngcontent-%COMP%]{flex:1;background-color:#fff;border-radius:10px;padding:20px;box-shadow:0 4px 8px #0000001a}.content-div[_ngcontent-%COMP%]{margin-bottom:20px;color:#333}.content-div[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;margin:10px 0}.content-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.helper-text[_ngcontent-%COMP%]{color:#520802!important;font-style:italic}.song-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px;margin-bottom:10px;border:2px solid #344055;border-radius:5px;background-color:#fff;cursor:grab;transition:background-color .3s ease,color .3s ease}.song-item[_ngcontent-%COMP%]:hover{background-color:#520802;color:#fff}.song-item[_ngcontent-%COMP%]:hover   .song-title[_ngcontent-%COMP%], .song-item[_ngcontent-%COMP%]:hover   .rank-number[_ngcontent-%COMP%]{color:#fff}.rank-number[_ngcontent-%COMP%]{width:30px;text-align:center;font-weight:700;color:#333;transition:color .3s ease}.song-title[_ngcontent-%COMP%]{flex-grow:1;padding-left:10px;color:#333;transition:color .3s ease}audio[_ngcontent-%COMP%]{width:200px;height:30px;background-color:#ffffff1a;border-radius:15px;outline:1px solid white}audio[_ngcontent-%COMP%]::-webkit-media-controls-panel{background-color:none}audio[_ngcontent-%COMP%]::-webkit-media-controls-play-button{background-color:#fff3;border-radius:50%}audio[_ngcontent-%COMP%]::-webkit-media-controls-current-time-display, audio[_ngcontent-%COMP%]::-webkit-media-controls-time-remaining-display{color:#000}@media (max-width: 768px){.album-ranking-container[_ngcontent-%COMP%]{flex-direction:column}.media-column[_ngcontent-%COMP%], .ranking-column[_ngcontent-%COMP%]{width:100%;margin:10px 0}.media-column[_ngcontent-%COMP%]{align-self:center;display:flex;justify-content:center;align-items:center}.song-item[_ngcontent-%COMP%]{width:90%}}']});let n=t;return n})();var A0=["audioPlayer"];function L0(n,t){if(n&1){let i=E();d(0,"div",8)(1,"span",9),f(2),u(),d(3,"span",10),f(4),u(),d(5,"audio",11),C("error",function(o){P(i);let r=k();return S(r.handleAudioError(o))}),u()()}if(n&2){let i=t.$implicit,e=t.index;m(2),j("",e+1,"."),m(2),A(i.title),m(),b("src",i.audioSource,N)}}var bd=(()=>{let t=class t{constructor(e,o){this.rankingsService=e,this.albumService=o,this.rankings=[],this.songs=[],this.currentlyPlaying=null}ngOnInit(){this.loadAlbumData(),this.disableAudioRightClick()}disableAudioRightClick(){document.addEventListener("contextmenu",e=>{e.target instanceof HTMLElement&&e.target.tagName==="AUDIO"&&e.preventDefault()},!1)}loadAlbumData(){this.albumService.getAlbumByTitle("1989 (Taylor's Version)").subscribe(e=>{this.songs=e.songs.map(o=>K(Y({},o),{album:e.title})),console.log("Loaded album songs:",this.songs),this.loadRankings()},e=>{console.error("Error fetching album:",e)})}loadRankings(){this.rankingsService.getUserRankings().subscribe(e=>{e&&e.albumRankings&&e.albumRankings.nineteenEightyNine?(this.rankings=e.albumRankings.nineteenEightyNine.sort((o,r)=>o.rank-r.rank),console.log("Loaded rankings:",this.rankings)):(this.rankings=[],console.log("No rankings found")),this.applyRankingsToSongs()},e=>{console.error("Error fetching rankings:",e),this.rankings=[],this.applyRankingsToSongs()})}applyRankingsToSongs(){if(this.songs.length>0)if(this.rankings.length>0){let e=new Map(this.rankings.map(o=>[o.songId,o.rank]));this.songs.sort((o,r)=>{let s=e.get(o._id)??1/0,a=e.get(r._id)??1/0;return s-a})}else console.log("No rankings found, displaying all songs in original order");else console.log("No songs found");console.log("Final songs array:",this.songs)}onDrop(e){q(this.songs,e.previousIndex,e.currentIndex),this.updateRankings()}updateRankings(){let e=this.songs.map((o,r)=>({slot:r+1,albumName:o.album,songId:o._id,songTitle:o.title,albumCover:o.albumImageSource,rank:r+1}));this.rankingsService.updateRanking("nineteenEightyNine",e).subscribe(o=>console.log("Rankings updated"),o=>console.error("Error updating rankings:",o))}handleAudioError(e){console.error("Audio failed to load:",e)}};t.\u0275fac=function(o){return new(o||t)(x(U),x(H))},t.\u0275cmp=D({type:t,selectors:[["app-nineteen-eighty-nine-ranking"]],viewQuery:function(o,r){if(o&1&&it(A0,5),o&2){let s;ot(s=rt())&&(r.audioPlayers=s)}},standalone:!0,features:[T],decls:15,vars:1,consts:[[1,"album-ranking-container"],[1,"media-column"],["src","https://d3e29z0m37b0un.cloudfront.net/1989.jpeg","alt","Album Cover",1,"album-cover"],[1,"ranking-column"],[1,"content-div"],[1,"helper-text"],["cdkDropList","",1,"song-list",3,"cdkDropListDropped"],["class","song-item","cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag","",1,"song-item"],[1,"rank-number"],[1,"song-title"],["controls","","controlsList","nodownload",3,"error","src"]],template:function(o,r){o&1&&(d(0,"div",0)(1,"div",1),y(2,"img",2),u(),d(3,"div",3)(4,"div",4)(5,"p"),f(6,"My Rankings For:"),u(),d(7,"h1"),f(8,"1989 (Taylor's Version)"),u(),d(9,"p"),f(10,"Released: October 27th, 2023"),u(),d(11,"p",5),f(12,"Click and drag a song to reorder your list!"),u()(),d(13,"div",6),C("cdkDropListDropped",function(a){return r.onDrop(a)}),w(14,L0,6,3,"div",7),u()()()),o&2&&(m(14),b("ngForOf",r.songs))},dependencies:[$,X,Z,R,L],styles:['.album-ranking-container[_ngcontent-%COMP%]{display:flex;max-width:1200px;margin:0 auto;padding:20px;position:relative;overflow:hidden}.album-ranking-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background-image:url(https://d3e29z0m37b0un.cloudfront.net/photo-grids/1989-grid.png);background-size:cover;background-position:center;filter:blur(5px);z-index:-2}.album-ranking-container[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background-color:#0000001a;z-index:-1}.media-column[_ngcontent-%COMP%], .ranking-column[_ngcontent-%COMP%]{position:relative;z-index:1;background-color:#ffffff80;border-radius:10px;padding:20px;margin:10px}.media-column[_ngcontent-%COMP%]{align-self:flex-start;padding:10px;margin-right:20px}.album-cover[_ngcontent-%COMP%]{width:100%;max-width:400px;height:auto;border-radius:10px;box-shadow:0 4px 8px #0000001a}.ranking-column[_ngcontent-%COMP%]{flex:1;background-color:#fff;border-radius:10px;padding:20px;box-shadow:0 4px 8px #0000001a}.content-div[_ngcontent-%COMP%]{margin-bottom:20px;color:#333}.content-div[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;margin:10px 0}.content-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.helper-text[_ngcontent-%COMP%]{color:#6e98b8!important;font-style:italic}.song-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px;margin-bottom:10px;border:2px solid #344055;border-radius:5px;background-color:#fff;cursor:grab;transition:background-color .3s ease}.song-item[_ngcontent-%COMP%]:hover{background-color:#6e98b8}.rank-number[_ngcontent-%COMP%]{width:30px;text-align:center;font-weight:700;color:#333}.song-title[_ngcontent-%COMP%]{flex-grow:1;padding-left:10px;color:#333}audio[_ngcontent-%COMP%]{width:200px;height:30px;background-color:#ffffff1a;border-radius:15px;outline:1px solid white}audio[_ngcontent-%COMP%]::-webkit-media-controls-panel{background-color:none}audio[_ngcontent-%COMP%]::-webkit-media-controls-play-button{background-color:#fff3;border-radius:50%}audio[_ngcontent-%COMP%]::-webkit-media-controls-current-time-display, audio[_ngcontent-%COMP%]::-webkit-media-controls-time-remaining-display{color:#000}@media (max-width: 768px){.album-ranking-container[_ngcontent-%COMP%]{flex-direction:column}.media-column[_ngcontent-%COMP%], .ranking-column[_ngcontent-%COMP%]{width:100%;margin:10px 0}.media-column[_ngcontent-%COMP%]{align-self:center;display:flex;justify-content:center;align-items:center}.song-item[_ngcontent-%COMP%]{width:90%}}']});let n=t;return n})();var F0=["audioPlayer"];function z0(n,t){if(n&1){let i=E();d(0,"div",8)(1,"span",9),f(2),u(),d(3,"span",10),f(4),u(),d(5,"audio",11),C("error",function(o){P(i);let r=k();return S(r.handleAudioError(o))}),u()()}if(n&2){let i=t.$implicit,e=t.index;m(2),j("",e+1,"."),m(2),A(i.title),m(),b("src",i.audioSource,N)}}var xd=(()=>{let t=class t{constructor(e,o){this.rankingsService=e,this.albumService=o,this.rankings=[],this.songs=[],this.currentlyPlaying=null}ngOnInit(){this.loadAlbumData(),this.disableAudioRightClick()}disableAudioRightClick(){document.addEventListener("contextmenu",e=>{e.target instanceof HTMLElement&&e.target.tagName==="AUDIO"&&e.preventDefault()},!1)}loadAlbumData(){this.albumService.getAlbumByTitle("reputation").subscribe(e=>{this.songs=e.songs.map(o=>K(Y({},o),{album:e.title})),console.log("Loaded album songs:",this.songs),this.loadRankings()},e=>{console.error("Error fetching album:",e)})}loadRankings(){this.rankingsService.getUserRankings().subscribe(e=>{e&&e.albumRankings&&e.albumRankings.reputation?(this.rankings=e.albumRankings.reputation.sort((o,r)=>o.rank-r.rank),console.log("Loaded rankings:",this.rankings)):(this.rankings=[],console.log("No rankings found")),this.applyRankingsToSongs()},e=>{console.error("Error fetching rankings:",e),this.rankings=[],this.applyRankingsToSongs()})}applyRankingsToSongs(){if(this.songs.length>0)if(this.rankings.length>0){let e=new Map(this.rankings.map(o=>[o.songId,o.rank]));this.songs.sort((o,r)=>{let s=e.get(o._id)??1/0,a=e.get(r._id)??1/0;return s-a})}else console.log("No rankings found, displaying all songs in original order");else console.log("No songs found");console.log("Final songs array:",this.songs)}onDrop(e){q(this.songs,e.previousIndex,e.currentIndex),this.updateRankings()}updateRankings(){let e=this.songs.map((o,r)=>({slot:r+1,albumName:o.album,songId:o._id,songTitle:o.title,albumCover:o.albumImageSource,rank:r+1}));this.rankingsService.updateRanking("reputation",e).subscribe(o=>console.log("Rankings updated"),o=>console.error("Error updating rankings:",o))}handleAudioError(e){console.error("Audio failed to load:",e)}};t.\u0275fac=function(o){return new(o||t)(x(U),x(H))},t.\u0275cmp=D({type:t,selectors:[["app-reputation-ranking"]],viewQuery:function(o,r){if(o&1&&it(F0,5),o&2){let s;ot(s=rt())&&(r.audioPlayers=s)}},standalone:!0,features:[T],decls:15,vars:1,consts:[[1,"album-ranking-container"],[1,"media-column"],["src","https://d3e29z0m37b0un.cloudfront.net/reputation.jpg","alt","Album Cover",1,"album-cover"],[1,"ranking-column"],[1,"content-div"],[1,"helper-text"],["cdkDropList","",1,"song-list",3,"cdkDropListDropped"],["class","song-item","cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag","",1,"song-item"],[1,"rank-number"],[1,"song-title"],["controls","","controlsList","nodownload",3,"error","src"]],template:function(o,r){o&1&&(d(0,"div",0)(1,"div",1),y(2,"img",2),u(),d(3,"div",3)(4,"div",4)(5,"p"),f(6,"My Rankings For:"),u(),d(7,"h1"),f(8,"reputation"),u(),d(9,"p"),f(10,"Released: November 10th, 2017"),u(),d(11,"p",5),f(12,"Click and drag a song to reorder your list!"),u()(),d(13,"div",6),C("cdkDropListDropped",function(a){return r.onDrop(a)}),w(14,z0,6,3,"div",7),u()()()),o&2&&(m(14),b("ngForOf",r.songs))},dependencies:[$,X,Z,R,L],styles:['.album-ranking-container[_ngcontent-%COMP%]{display:flex;max-width:1200px;margin:0 auto;padding:20px;position:relative;overflow:hidden}.album-ranking-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background-image:url(https://d3e29z0m37b0un.cloudfront.net/photo-grids/reputation-grid.png);background-size:cover;background-position:center;filter:blur(5px);z-index:-2}.album-ranking-container[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background-color:#0000001a;z-index:-1}.media-column[_ngcontent-%COMP%], .ranking-column[_ngcontent-%COMP%]{position:relative;z-index:1;background-color:#ffffff80;border-radius:10px;padding:20px;margin:10px}.media-column[_ngcontent-%COMP%]{align-self:flex-start;padding:10px;margin-right:20px}.album-cover[_ngcontent-%COMP%]{width:100%;max-width:400px;height:auto;border-radius:10px;box-shadow:0 4px 8px #0000001a}.ranking-column[_ngcontent-%COMP%]{flex:1;background-color:#fff;border-radius:10px;padding:20px;box-shadow:0 4px 8px #0000001a}.content-div[_ngcontent-%COMP%]{margin-bottom:20px;color:#333}.content-div[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;margin:10px 0}.content-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.helper-text[_ngcontent-%COMP%]{color:#1a1a1a!important;font-style:italic}.song-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px;margin-bottom:10px;border:2px solid #344055;border-radius:5px;background-color:#fff;cursor:grab;transition:background-color .3s ease,color .3s ease}.song-item[_ngcontent-%COMP%]:hover{background-color:#1a1a1a;color:#fff}.song-item[_ngcontent-%COMP%]:hover   .song-title[_ngcontent-%COMP%], .song-item[_ngcontent-%COMP%]:hover   .rank-number[_ngcontent-%COMP%]{color:#fff}.rank-number[_ngcontent-%COMP%]{width:30px;text-align:center;font-weight:700;color:#333;transition:color .3s ease}.song-title[_ngcontent-%COMP%]{flex-grow:1;padding-left:10px;color:#333;transition:color .3s ease}audio[_ngcontent-%COMP%]{width:200px;height:30px;background-color:#ffffff1a;border-radius:15px;outline:1px solid white}audio[_ngcontent-%COMP%]::-webkit-media-controls-panel{background-color:none}audio[_ngcontent-%COMP%]::-webkit-media-controls-play-button{background-color:#fff3;border-radius:50%}audio[_ngcontent-%COMP%]::-webkit-media-controls-current-time-display, audio[_ngcontent-%COMP%]::-webkit-media-controls-time-remaining-display{color:#000}@media (max-width: 768px){.album-ranking-container[_ngcontent-%COMP%]{flex-direction:column}.media-column[_ngcontent-%COMP%], .ranking-column[_ngcontent-%COMP%]{width:100%;margin:10px 0}.media-column[_ngcontent-%COMP%]{align-self:center;display:flex;justify-content:center;align-items:center}.song-item[_ngcontent-%COMP%]{width:90%}}']});let n=t;return n})();var N0=["audioPlayer"];function j0(n,t){if(n&1){let i=E();d(0,"div",8)(1,"span",9),f(2),u(),d(3,"span",10),f(4),u(),d(5,"audio",11),C("error",function(o){P(i);let r=k();return S(r.handleAudioError(o))}),u()()}if(n&2){let i=t.$implicit,e=t.index;m(2),j("",e+1,"."),m(2),A(i.title),m(),b("src",i.audioSource,N)}}var vd=(()=>{let t=class t{constructor(e,o){this.rankingsService=e,this.albumService=o,this.rankings=[],this.songs=[],this.currentlyPlaying=null}ngOnInit(){this.loadAlbumData(),this.disableAudioRightClick()}disableAudioRightClick(){document.addEventListener("contextmenu",e=>{e.target instanceof HTMLElement&&e.target.tagName==="AUDIO"&&e.preventDefault()},!1)}loadAlbumData(){this.albumService.getAlbumByTitle("Lover").subscribe(e=>{this.songs=e.songs.map(o=>K(Y({},o),{album:e.title})),console.log("Loaded album songs:",this.songs),this.loadRankings()},e=>{console.error("Error fetching album:",e)})}loadRankings(){this.rankingsService.getUserRankings().subscribe(e=>{e&&e.albumRankings&&e.albumRankings.lover?(this.rankings=e.albumRankings.lover.sort((o,r)=>o.rank-r.rank),console.log("Loaded rankings:",this.rankings)):(this.rankings=[],console.log("No rankings found")),this.applyRankingsToSongs()},e=>{console.error("Error fetching rankings:",e),this.rankings=[],this.applyRankingsToSongs()})}applyRankingsToSongs(){if(this.songs.length>0)if(this.rankings.length>0){let e=new Map(this.rankings.map(o=>[o.songId,o.rank]));this.songs.sort((o,r)=>{let s=e.get(o._id)??1/0,a=e.get(r._id)??1/0;return s-a})}else console.log("No rankings found, displaying all songs in original order");else console.log("No songs found");console.log("Final songs array:",this.songs)}onDrop(e){q(this.songs,e.previousIndex,e.currentIndex),this.updateRankings()}updateRankings(){let e=this.songs.map((o,r)=>({slot:r+1,albumName:o.album,songId:o._id,songTitle:o.title,albumCover:o.albumImageSource,rank:r+1}));this.rankingsService.updateRanking("lover",e).subscribe(o=>console.log("Rankings updated"),o=>console.error("Error updating rankings:",o))}handleAudioError(e){console.error("Audio failed to load:",e)}};t.\u0275fac=function(o){return new(o||t)(x(U),x(H))},t.\u0275cmp=D({type:t,selectors:[["app-lover-ranking"]],viewQuery:function(o,r){if(o&1&&it(N0,5),o&2){let s;ot(s=rt())&&(r.audioPlayers=s)}},standalone:!0,features:[T],decls:15,vars:1,consts:[[1,"album-ranking-container"],[1,"media-column"],["src","https://d3e29z0m37b0un.cloudfront.net/lover.jpg","alt","Album Cover",1,"album-cover"],[1,"ranking-column"],[1,"content-div"],[1,"helper-text"],["cdkDropList","",1,"song-list",3,"cdkDropListDropped"],["class","song-item","cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag","",1,"song-item"],[1,"rank-number"],[1,"song-title"],["controls","","controlsList","nodownload",3,"error","src"]],template:function(o,r){o&1&&(d(0,"div",0)(1,"div",1),y(2,"img",2),u(),d(3,"div",3)(4,"div",4)(5,"p"),f(6,"My Rankings For:"),u(),d(7,"h1"),f(8,"Lover"),u(),d(9,"p"),f(10,"Released: August 23rd, 2019"),u(),d(11,"p",5),f(12,"Click and drag a song to reorder your list!"),u()(),d(13,"div",6),C("cdkDropListDropped",function(a){return r.onDrop(a)}),w(14,j0,6,3,"div",7),u()()()),o&2&&(m(14),b("ngForOf",r.songs))},dependencies:[$,X,Z,R,L],styles:['.album-ranking-container[_ngcontent-%COMP%]{display:flex;max-width:1200px;margin:0 auto;padding:20px;position:relative;overflow:hidden}.album-ranking-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background-image:url(https://d3e29z0m37b0un.cloudfront.net/photo-grids/lover-grid.png);background-size:cover;background-position:center;filter:blur(5px);z-index:-2}.album-ranking-container[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background-color:#0000001a;z-index:-1}.media-column[_ngcontent-%COMP%], .ranking-column[_ngcontent-%COMP%]{position:relative;z-index:1;background-color:#ffffff80;border-radius:10px;padding:20px;margin:10px}.media-column[_ngcontent-%COMP%]{align-self:flex-start;padding:10px;margin-right:20px}.album-cover[_ngcontent-%COMP%]{width:100%;max-width:400px;height:auto;border-radius:10px;box-shadow:0 4px 8px #0000001a}.ranking-column[_ngcontent-%COMP%]{flex:1;background-color:#fff;border-radius:10px;padding:20px;box-shadow:0 4px 8px #0000001a}.content-div[_ngcontent-%COMP%]{margin-bottom:20px;color:#333}.content-div[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;margin:10px 0}.content-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.helper-text[_ngcontent-%COMP%]{color:#feb6db!important;font-style:italic}.song-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px;margin-bottom:10px;border:2px solid #344055;border-radius:5px;background-color:#fff;cursor:grab;transition:background-color .3s ease}.song-item[_ngcontent-%COMP%]:hover{background-color:#feb6db}.rank-number[_ngcontent-%COMP%]{width:30px;text-align:center;font-weight:700;color:#333}.song-title[_ngcontent-%COMP%]{flex-grow:1;padding-left:10px;color:#333}audio[_ngcontent-%COMP%]{width:200px;height:30px;background-color:#ffffff1a;border-radius:15px;outline:1px solid white}audio[_ngcontent-%COMP%]::-webkit-media-controls-panel{background-color:none}audio[_ngcontent-%COMP%]::-webkit-media-controls-play-button{background-color:#fff3;border-radius:50%}audio[_ngcontent-%COMP%]::-webkit-media-controls-current-time-display, audio[_ngcontent-%COMP%]::-webkit-media-controls-time-remaining-display{color:#000}@media (max-width: 768px){.album-ranking-container[_ngcontent-%COMP%]{flex-direction:column}.media-column[_ngcontent-%COMP%], .ranking-column[_ngcontent-%COMP%]{width:100%;margin:10px 0}.media-column[_ngcontent-%COMP%]{align-self:center;display:flex;justify-content:center;align-items:center}.song-item[_ngcontent-%COMP%]{width:90%}}']});let n=t;return n})();var B0=["audioPlayer"];function V0(n,t){if(n&1){let i=E();d(0,"div",8)(1,"span",9),f(2),u(),d(3,"span",10),f(4),u(),d(5,"audio",11),C("error",function(o){P(i);let r=k();return S(r.handleAudioError(o))}),u()()}if(n&2){let i=t.$implicit,e=t.index;m(2),j("",e+1,"."),m(2),A(i.title),m(),b("src",i.audioSource,N)}}var yd=(()=>{let t=class t{constructor(e,o){this.rankingsService=e,this.albumService=o,this.rankings=[],this.songs=[],this.currentlyPlaying=null}ngOnInit(){this.loadAlbumData(),this.disableAudioRightClick()}disableAudioRightClick(){document.addEventListener("contextmenu",e=>{e.target instanceof HTMLElement&&e.target.tagName==="AUDIO"&&e.preventDefault()},!1)}loadAlbumData(){this.albumService.getAlbumByTitle("folklore").subscribe(e=>{this.songs=e.songs.map(o=>K(Y({},o),{album:e.title})),console.log("Loaded album songs:",this.songs),this.loadRankings()},e=>{console.error("Error fetching album:",e)})}loadRankings(){this.rankingsService.getUserRankings().subscribe(e=>{e&&e.albumRankings&&e.albumRankings.folklore?(this.rankings=e.albumRankings.folklore.sort((o,r)=>o.rank-r.rank),console.log("Loaded rankings:",this.rankings)):(this.rankings=[],console.log("No rankings found")),this.applyRankingsToSongs()},e=>{console.error("Error fetching rankings:",e),this.rankings=[],this.applyRankingsToSongs()})}applyRankingsToSongs(){if(this.songs.length>0)if(this.rankings.length>0){let e=new Map(this.rankings.map(o=>[o.songId,o.rank]));this.songs.sort((o,r)=>{let s=e.get(o._id)??1/0,a=e.get(r._id)??1/0;return s-a})}else console.log("No rankings found, displaying all songs in original order");else console.log("No songs found");console.log("Final songs array:",this.songs)}onDrop(e){q(this.songs,e.previousIndex,e.currentIndex),this.updateRankings()}updateRankings(){let e=this.songs.map((o,r)=>({slot:r+1,albumName:o.album,songId:o._id,songTitle:o.title,albumCover:o.albumImageSource,rank:r+1}));this.rankingsService.updateRanking("folklore",e).subscribe(o=>console.log("Rankings updated"),o=>console.error("Error updating rankings:",o))}handleAudioError(e){console.error("Audio failed to load:",e)}};t.\u0275fac=function(o){return new(o||t)(x(U),x(H))},t.\u0275cmp=D({type:t,selectors:[["app-folklore-ranking"]],viewQuery:function(o,r){if(o&1&&it(B0,5),o&2){let s;ot(s=rt())&&(r.audioPlayers=s)}},standalone:!0,features:[T],decls:15,vars:1,consts:[[1,"album-ranking-container"],[1,"media-column"],["src","https://d3e29z0m37b0un.cloudfront.net/folklore.jpg","alt","Album Cover",1,"album-cover"],[1,"ranking-column"],[1,"content-div"],[1,"helper-text"],["cdkDropList","",1,"song-list",3,"cdkDropListDropped"],["class","song-item","cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag","",1,"song-item"],[1,"rank-number"],[1,"song-title"],["controls","","controlsList","nodownload",3,"error","src"]],template:function(o,r){o&1&&(d(0,"div",0)(1,"div",1),y(2,"img",2),u(),d(3,"div",3)(4,"div",4)(5,"p"),f(6,"My Rankings For:"),u(),d(7,"h1"),f(8,"folklore"),u(),d(9,"p"),f(10,"Released: July 24th, 2020"),u(),d(11,"p",5),f(12,"Click and drag a song to reorder your list!"),u()(),d(13,"div",6),C("cdkDropListDropped",function(a){return r.onDrop(a)}),w(14,V0,6,3,"div",7),u()()()),o&2&&(m(14),b("ngForOf",r.songs))},dependencies:[$,X,Z,R,L],styles:['.album-ranking-container[_ngcontent-%COMP%]{display:flex;max-width:1200px;margin:0 auto;padding:20px;position:relative;overflow:hidden}.album-ranking-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background-image:url(https://d3e29z0m37b0un.cloudfront.net/photo-grids/folklore-grid.png);background-size:cover;background-position:center;filter:blur(5px);z-index:-2}.album-ranking-container[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background-color:#0000001a;z-index:-1}.media-column[_ngcontent-%COMP%], .ranking-column[_ngcontent-%COMP%]{position:relative;z-index:1;background-color:#ffffff80;border-radius:10px;padding:20px;margin:10px}.media-column[_ngcontent-%COMP%]{align-self:flex-start;padding:10px;margin-right:20px}.album-cover[_ngcontent-%COMP%]{width:100%;max-width:400px;height:auto;border-radius:10px;box-shadow:0 4px 8px #0000001a}.ranking-column[_ngcontent-%COMP%]{flex:1;background-color:#fff;border-radius:10px;padding:20px;box-shadow:0 4px 8px #0000001a}.content-div[_ngcontent-%COMP%]{margin-bottom:20px;color:#333}.content-div[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;margin:10px 0}.content-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.helper-text[_ngcontent-%COMP%]{color:#858585!important;font-style:italic}.song-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px;margin-bottom:10px;border:2px solid #344055;border-radius:5px;background-color:#fff;cursor:grab;transition:background-color .3s ease}.song-item[_ngcontent-%COMP%]:hover{background-color:#cbcbc7}.rank-number[_ngcontent-%COMP%]{width:30px;text-align:center;font-weight:700;color:#333}.song-title[_ngcontent-%COMP%]{flex-grow:1;padding-left:10px;color:#333}audio[_ngcontent-%COMP%]{width:200px;height:30px;background-color:#ffffff1a;border-radius:15px;outline:1px solid white}audio[_ngcontent-%COMP%]::-webkit-media-controls-panel{background-color:none}audio[_ngcontent-%COMP%]::-webkit-media-controls-play-button{background-color:#fff3;border-radius:50%}audio[_ngcontent-%COMP%]::-webkit-media-controls-current-time-display, audio[_ngcontent-%COMP%]::-webkit-media-controls-time-remaining-display{color:#000}@media (max-width: 768px){.album-ranking-container[_ngcontent-%COMP%]{flex-direction:column}.media-column[_ngcontent-%COMP%], .ranking-column[_ngcontent-%COMP%]{width:100%;margin:10px 0}.media-column[_ngcontent-%COMP%]{align-self:center;display:flex;justify-content:center;align-items:center}.song-item[_ngcontent-%COMP%]{width:90%}}']});let n=t;return n})();var H0=["audioPlayer"];function W0(n,t){if(n&1){let i=E();d(0,"div",8)(1,"span",9),f(2),u(),d(3,"span",10),f(4),u(),d(5,"audio",11),C("error",function(o){P(i);let r=k();return S(r.handleAudioError(o))}),u()()}if(n&2){let i=t.$implicit,e=t.index;m(2),j("",e+1,"."),m(2),A(i.title),m(),b("src",i.audioSource,N)}}var Cd=(()=>{let t=class t{constructor(e,o){this.rankingsService=e,this.albumService=o,this.rankings=[],this.songs=[],this.currentlyPlaying=null}ngOnInit(){this.loadAlbumData(),this.disableAudioRightClick()}disableAudioRightClick(){document.addEventListener("contextmenu",e=>{e.target instanceof HTMLElement&&e.target.tagName==="AUDIO"&&e.preventDefault()},!1)}loadAlbumData(){this.albumService.getAlbumByTitle("evermore").subscribe(e=>{this.songs=e.songs.map(o=>K(Y({},o),{album:e.title})),console.log("Loaded album songs:",this.songs),this.loadRankings()},e=>{console.error("Error fetching album:",e)})}loadRankings(){this.rankingsService.getUserRankings().subscribe(e=>{e&&e.albumRankings&&e.albumRankings.evermore?(this.rankings=e.albumRankings.evermore.sort((o,r)=>o.rank-r.rank),console.log("Loaded rankings:",this.rankings)):(this.rankings=[],console.log("No rankings found")),this.applyRankingsToSongs()},e=>{console.error("Error fetching rankings:",e),this.rankings=[],this.applyRankingsToSongs()})}applyRankingsToSongs(){if(this.songs.length>0)if(this.rankings.length>0){let e=new Map(this.rankings.map(o=>[o.songId,o.rank]));this.songs.sort((o,r)=>{let s=e.get(o._id)??1/0,a=e.get(r._id)??1/0;return s-a})}else console.log("No rankings found, displaying all songs in original order");else console.log("No songs found");console.log("Final songs array:",this.songs)}onDrop(e){q(this.songs,e.previousIndex,e.currentIndex),this.updateRankings()}updateRankings(){let e=this.songs.map((o,r)=>({slot:r+1,albumName:o.album,songId:o._id,songTitle:o.title,albumCover:o.albumImageSource,rank:r+1}));this.rankingsService.updateRanking("evermore",e).subscribe(o=>console.log("Rankings updated"),o=>console.error("Error updating rankings:",o))}handleAudioError(e){console.error("Audio failed to load:",e)}};t.\u0275fac=function(o){return new(o||t)(x(U),x(H))},t.\u0275cmp=D({type:t,selectors:[["app-debut-ranking"]],viewQuery:function(o,r){if(o&1&&it(H0,5),o&2){let s;ot(s=rt())&&(r.audioPlayers=s)}},standalone:!0,features:[T],decls:15,vars:1,consts:[[1,"album-ranking-container"],[1,"media-column"],["src","https://d3e29z0m37b0un.cloudfront.net/evermore.jpeg","alt","Album Cover",1,"album-cover"],[1,"ranking-column"],[1,"content-div"],[1,"helper-text"],["cdkDropList","",1,"song-list",3,"cdkDropListDropped"],["class","song-item","cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag","",1,"song-item"],[1,"rank-number"],[1,"song-title"],["controls","","controlsList","nodownload",3,"error","src"]],template:function(o,r){o&1&&(d(0,"div",0)(1,"div",1),y(2,"img",2),u(),d(3,"div",3)(4,"div",4)(5,"p"),f(6,"My Rankings For:"),u(),d(7,"h1"),f(8,"evermore"),u(),d(9,"p"),f(10,"Released: December 11th, 2020"),u(),d(11,"p",5),f(12,"Click and drag a song to reorder your list!"),u()(),d(13,"div",6),C("cdkDropListDropped",function(a){return r.onDrop(a)}),w(14,W0,6,3,"div",7),u()()()),o&2&&(m(14),b("ngForOf",r.songs))},dependencies:[$,X,Z,R,L],styles:['.album-ranking-container[_ngcontent-%COMP%]{display:flex;max-width:1200px;margin:0 auto;padding:20px;position:relative;overflow:hidden}.album-ranking-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background-image:url(https://d3e29z0m37b0un.cloudfront.net/photo-grids/evermore-grid.png);background-size:cover;background-position:center;filter:blur(5px);z-index:-2}.album-ranking-container[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background-color:#0000001a;z-index:-1}.media-column[_ngcontent-%COMP%], .ranking-column[_ngcontent-%COMP%]{position:relative;z-index:1;background-color:#ffffff80;border-radius:10px;padding:20px;margin:10px}.media-column[_ngcontent-%COMP%]{align-self:flex-start;padding:10px;margin-right:20px}.album-cover[_ngcontent-%COMP%]{width:100%;max-width:400px;height:auto;border-radius:10px;box-shadow:0 4px 8px #0000001a}.ranking-column[_ngcontent-%COMP%]{flex:1;background-color:#fff;border-radius:10px;padding:20px;box-shadow:0 4px 8px #0000001a}.content-div[_ngcontent-%COMP%]{margin-bottom:20px;color:#333}.content-div[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;margin:10px 0}.content-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.helper-text[_ngcontent-%COMP%]{color:#bc7150!important;font-style:italic}.song-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px;margin-bottom:10px;border:2px solid #344055;border-radius:5px;background-color:#fff;cursor:grab;transition:background-color .3s ease}.song-item[_ngcontent-%COMP%]:hover{background-color:#bc7150}.rank-number[_ngcontent-%COMP%]{width:30px;text-align:center;font-weight:700;color:#333}.song-title[_ngcontent-%COMP%]{flex-grow:1;padding-left:10px;color:#333}audio[_ngcontent-%COMP%]{width:200px;height:30px;background-color:#ffffff1a;border-radius:15px;outline:1px solid white}audio[_ngcontent-%COMP%]::-webkit-media-controls-panel{background-color:none}audio[_ngcontent-%COMP%]::-webkit-media-controls-play-button{background-color:#fff3;border-radius:50%}audio[_ngcontent-%COMP%]::-webkit-media-controls-current-time-display, audio[_ngcontent-%COMP%]::-webkit-media-controls-time-remaining-display{color:#000}@media (max-width: 768px){.album-ranking-container[_ngcontent-%COMP%]{flex-direction:column}.media-column[_ngcontent-%COMP%], .ranking-column[_ngcontent-%COMP%]{width:100%;margin:10px 0}.media-column[_ngcontent-%COMP%]{align-self:center;display:flex;justify-content:center;align-items:center}.song-item[_ngcontent-%COMP%]{width:90%}}']});let n=t;return n})();var U0=["audioPlayer"];function $0(n,t){if(n&1){let i=E();d(0,"div",8)(1,"span",9),f(2),u(),d(3,"span",10),f(4),u(),d(5,"audio",11),C("error",function(o){P(i);let r=k();return S(r.handleAudioError(o))}),u()()}if(n&2){let i=t.$implicit,e=t.index;m(2),j("",e+1,"."),m(2),A(i.title),m(),b("src",i.audioSource,N)}}var kd=(()=>{let t=class t{constructor(e,o){this.rankingsService=e,this.albumService=o,this.rankings=[],this.songs=[],this.currentlyPlaying=null}ngOnInit(){this.loadAlbumData(),this.disableAudioRightClick()}disableAudioRightClick(){document.addEventListener("contextmenu",e=>{e.target instanceof HTMLElement&&e.target.tagName==="AUDIO"&&e.preventDefault()},!1)}loadAlbumData(){this.albumService.getAlbumByTitle("Midnights").subscribe(e=>{this.songs=e.songs.map(o=>K(Y({},o),{album:e.title})),console.log("Loaded album songs:",this.songs),this.loadRankings()},e=>{console.error("Error fetching album:",e)})}loadRankings(){this.rankingsService.getUserRankings().subscribe(e=>{e&&e.albumRankings&&e.albumRankings.midnights?(this.rankings=e.albumRankings.midnights.sort((o,r)=>o.rank-r.rank),console.log("Loaded rankings:",this.rankings)):(this.rankings=[],console.log("No rankings found")),this.applyRankingsToSongs()},e=>{console.error("Error fetching rankings:",e),this.rankings=[],this.applyRankingsToSongs()})}applyRankingsToSongs(){if(this.songs.length>0)if(this.rankings.length>0){let e=new Map(this.rankings.map(o=>[o.songId,o.rank]));this.songs.sort((o,r)=>{let s=e.get(o._id)??1/0,a=e.get(r._id)??1/0;return s-a})}else console.log("No rankings found, displaying all songs in original order");else console.log("No songs found");console.log("Final songs array:",this.songs)}onDrop(e){q(this.songs,e.previousIndex,e.currentIndex),this.updateRankings()}updateRankings(){let e=this.songs.map((o,r)=>({slot:r+1,albumName:o.album,songId:o._id,songTitle:o.title,albumCover:o.albumImageSource,rank:r+1}));this.rankingsService.updateRanking("midnights",e).subscribe(o=>console.log("Rankings updated"),o=>console.error("Error updating rankings:",o))}handleAudioError(e){console.error("Audio failed to load:",e)}};t.\u0275fac=function(o){return new(o||t)(x(U),x(H))},t.\u0275cmp=D({type:t,selectors:[["app-midnights-ranking"]],viewQuery:function(o,r){if(o&1&&it(U0,5),o&2){let s;ot(s=rt())&&(r.audioPlayers=s)}},standalone:!0,features:[T],decls:15,vars:1,consts:[[1,"album-ranking-container"],[1,"media-column"],["src","https://d3e29z0m37b0un.cloudfront.net/midnights.jpeg","alt","Album Cover",1,"album-cover"],[1,"ranking-column"],[1,"content-div"],[1,"helper-text"],["cdkDropList","",1,"song-list",3,"cdkDropListDropped"],["class","song-item","cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag","",1,"song-item"],[1,"rank-number"],[1,"song-title"],["controls","","controlsList","nodownload",3,"error","src"]],template:function(o,r){o&1&&(d(0,"div",0)(1,"div",1),y(2,"img",2),u(),d(3,"div",3)(4,"div",4)(5,"p"),f(6,"My Rankings For:"),u(),d(7,"h1"),f(8,"Midnights"),u(),d(9,"p"),f(10,"Released: October 21st, 2022"),u(),d(11,"p",5),f(12,"Click and drag a song to reorder your list!"),u()(),d(13,"div",6),C("cdkDropListDropped",function(a){return r.onDrop(a)}),w(14,$0,6,3,"div",7),u()()()),o&2&&(m(14),b("ngForOf",r.songs))},dependencies:[$,X,Z,R,L],styles:['.album-ranking-container[_ngcontent-%COMP%]{display:flex;max-width:1200px;margin:0 auto;padding:20px;position:relative;overflow:hidden}.album-ranking-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background-image:url(https://d3e29z0m37b0un.cloudfront.net/photo-grids/midnights-grid.png);background-size:cover;background-position:center;filter:blur(5px);z-index:-2}.album-ranking-container[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background-color:#0000001a;z-index:-1}.media-column[_ngcontent-%COMP%], .ranking-column[_ngcontent-%COMP%]{position:relative;z-index:1;background-color:#ffffff80;border-radius:10px;padding:20px;margin:10px}.media-column[_ngcontent-%COMP%]{align-self:flex-start;padding:10px;margin-right:20px}.album-cover[_ngcontent-%COMP%]{width:100%;max-width:400px;height:auto;border-radius:10px;box-shadow:0 4px 8px #0000001a}.ranking-column[_ngcontent-%COMP%]{flex:1;background-color:#fff;border-radius:10px;padding:20px;box-shadow:0 4px 8px #0000001a}.content-div[_ngcontent-%COMP%]{margin-bottom:20px;color:#333}.content-div[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;margin:10px 0}.content-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.helper-text[_ngcontent-%COMP%]{color:#1d2561!important;font-style:italic}.song-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px;margin-bottom:10px;border:2px solid #344055;border-radius:5px;background-color:#fff;cursor:grab;transition:background-color .3s ease,color .3s ease}.song-item[_ngcontent-%COMP%]:hover{background-color:#1d2561;color:#fff}.song-item[_ngcontent-%COMP%]:hover   .song-title[_ngcontent-%COMP%], .song-item[_ngcontent-%COMP%]:hover   .rank-number[_ngcontent-%COMP%]{color:#fff}.rank-number[_ngcontent-%COMP%]{width:30px;text-align:center;font-weight:700;color:#333;transition:color .3s ease}.song-title[_ngcontent-%COMP%]{flex-grow:1;padding-left:10px;color:#333;transition:color .3s ease}audio[_ngcontent-%COMP%]{width:200px;height:30px;background-color:#ffffff1a;border-radius:15px;outline:1px solid white}audio[_ngcontent-%COMP%]::-webkit-media-controls-panel{background-color:none}audio[_ngcontent-%COMP%]::-webkit-media-controls-play-button{background-color:#fff3;border-radius:50%}audio[_ngcontent-%COMP%]::-webkit-media-controls-current-time-display, audio[_ngcontent-%COMP%]::-webkit-media-controls-time-remaining-display{color:#000}@media (max-width: 768px){.album-ranking-container[_ngcontent-%COMP%]{flex-direction:column}.media-column[_ngcontent-%COMP%], .ranking-column[_ngcontent-%COMP%]{width:100%;margin:10px 0}.media-column[_ngcontent-%COMP%]{align-self:center;display:flex;justify-content:center;align-items:center}.song-item[_ngcontent-%COMP%]{width:90%}}']});let n=t;return n})();var Y0=n=>({"background-image":n});function q0(n,t){if(n&1){let i=E();d(0,"span"),f(1),d(2,"button",14),C("click",function(){P(i);let o=k(2);return S(o.removeSurpriseSong("guitar"))}),f(3,"x"),u()()}if(n&2){let i=k(2);m(),j("",i.guitarSong.title," ")}}function G0(n,t){if(n&1){let i=E();d(0,"button",15),C("click",function(){P(i);let o=k(2);return S(o.openAddSongDialog("guitar"))}),f(1,"Add Song"),u()}}function Q0(n,t){if(n&1){let i=E();d(0,"span"),f(1),d(2,"button",14),C("click",function(){P(i);let o=k(2);return S(o.removeSurpriseSong("piano"))}),f(3,"x"),u()()}if(n&2){let i=k(2);m(),j("",i.pianoSong.title," ")}}function K0(n,t){if(n&1){let i=E();d(0,"button",15),C("click",function(){P(i);let o=k(2);return S(o.openAddSongDialog("piano"))}),f(1,"Add Song"),u()}}function Z0(n,t){if(n&1&&(Cn(0),d(1,"div",7)(2,"label",8),y(3,"i",9),f(4," On guitar: "),u(),w(5,q0,4,1,"span",10)(6,G0,2,0,"button",11),u(),d(7,"div",7)(8,"label",12),y(9,"img",13),f(10," On piano: "),u(),w(11,Q0,4,1,"span",10)(12,K0,2,0,"button",11),u(),kn()),n&2){let i=k();m(5),b("ngIf",i.guitarSong.title),m(),b("ngIf",!i.guitarSong.title),m(5),b("ngIf",i.pianoSong.title),m(),b("ngIf",!i.pianoSong.title)}}function X0(n,t){if(n&1){let i=E();d(0,"div",7)(1,"p"),f(2),u(),d(3,"button",14),C("click",function(){let o=P(i).index,r=k(2);return S(r.removeSong(o))}),f(4,"x"),u()()}if(n&2){let i=t.$implicit;m(2),A(i.title)}}function J0(n,t){if(n&1){let i=E();w(0,X0,5,1,"div",16),d(1,"button",17),C("click",function(){P(i);let o=k();return S(o.openAddSongDialog())}),f(2," Add Song "),u()}if(n&2){let i=k();b("ngForOf",i.era.songs),m(),b("disabled",i.era.songs.length>=6)("title",i.era.songs.length>=6?"Only 6 songs allowed in an era set!":"")}}function t_(n,t){if(n&1){let i=E();Cn(0),d(1,"input",22),Yt("ngModelChange",function(o){P(i);let r=k(2);return $t(r.selectedSongTitle,o)||(r.selectedSongTitle=o),S(o)}),u(),kn()}if(n&2){let i=k(2);m(),Ut("ngModel",i.selectedSongTitle)}}function e_(n,t){if(n&1&&(d(0,"option",30),f(1),u()),n&2){let i=t.$implicit;b("value",i._id),m(),A(i.title)}}function n_(n,t){if(n&1&&(d(0,"option",30),f(1),u()),n&2){let i=t.$implicit;b("value",i._id),m(),A(i.title)}}function i_(n,t){if(n&1){let i=E();d(0,"div",27)(1,"select",28),Yt("ngModelChange",function(o){P(i);let r=k(3);return $t(r.firstSongId,o)||(r.firstSongId=o),S(o)}),w(2,e_,2,2,"option",29),u(),d(3,"span"),f(4,"/"),u(),d(5,"select",28),Yt("ngModelChange",function(o){P(i);let r=k(3);return $t(r.secondSongId,o)||(r.secondSongId=o),S(o)}),w(6,n_,2,2,"option",29),u()()}if(n&2){let i=k(3);m(),Ut("ngModel",i.firstSongId),m(),b("ngForOf",i.allSongs),m(3),Ut("ngModel",i.secondSongId),m(),b("ngForOf",i.allSongs)}}function o_(n,t){if(n&1&&(d(0,"option",30),f(1),u()),n&2){let i=t.$implicit;b("value",i._id),m(),A(i.title)}}function r_(n,t){if(n&1){let i=E();d(0,"div",31)(1,"select",28),Yt("ngModelChange",function(o){P(i);let r=k(3);return $t(r.selectedSongTitle,o)||(r.selectedSongTitle=o),S(o)}),w(2,o_,2,2,"option",29),u()()}if(n&2){let i=k(3);m(),Ut("ngModel",i.selectedSongTitle),m(),b("ngForOf",i.allSongs)}}function s_(n,t){if(n&1){let i=E();d(0,"div",23)(1,"label")(2,"input",24),Yt("ngModelChange",function(o){P(i);let r=k(2);return $t(r.isMashup,o)||(r.isMashup=o),S(o)}),u(),f(3," Is this number a mashup? "),u()(),w(4,i_,7,4,"div",25)(5,r_,3,2,"div",26)}if(n&2){let i=k(2);m(2),Ut("ngModel",i.isMashup),m(2),b("ngIf",i.isMashup),m(),b("ngIf",!i.isMashup)}}function a_(n,t){if(n&1){let i=E();d(0,"div",18)(1,"div",19)(2,"h3"),f(3,"Add Song"),u(),w(4,t_,2,1,"ng-container",5)(5,s_,6,3,"ng-template",null,1,Pn),d(7,"div",20)(8,"button",21),C("click",function(){P(i);let o=k();return S(o.songType?o.saveSurpriseSong():o.saveSong())}),f(9," Save "),u(),d(10,"button",15),C("click",function(){P(i);let o=k();return S(o.closeAddSongDialog())}),f(11,"Cancel"),u()()()()}if(n&2){let i=Mn(6),e=k();m(4),b("ngIf",e.era.era==="Surprise Songs")("ngIfElse",i),m(4),b("disabled",!e.canSaveSong())}}var Md=(()=>{let t=class t{constructor(e){this.albumService=e,this.eraUpdated=new yt,this.allSongs=[],this.showAddSongDialog=!1,this.isMashup=!1,this.selectedSongTitle="",this.firstSongId="",this.secondSongId="",this.guitarSong={_id:"",title:"",audioSource:""},this.pianoSong={_id:"",title:"",audioSource:""},this.songType=null}ngOnInit(){this.era.era!=="Surprise Songs"?this.loadSongs():this.initializeSurpriseSongs()}loadSongs(){this.albumService.getSongsByAlbum(this.era.era).subscribe(e=>{this.allSongs=e},e=>console.error("Error loading songs:",e))}initializeSurpriseSongs(){this.era.songs.length>=1&&(this.guitarSong=this.era.songs[0]||{_id:"",title:"",audioSource:""},this.pianoSong=this.era.songs[1]||{_id:"",title:"",audioSource:""})}openAddSongDialog(e=null){this.songType=e,this.showAddSongDialog=!0}closeAddSongDialog(){this.showAddSongDialog=!1,this.selectedSongTitle=""}saveSurpriseSong(){this.songType==="guitar"?this.guitarSong.title=this.selectedSongTitle:this.songType==="piano"&&(this.pianoSong.title=this.selectedSongTitle),this.era.songs=[this.guitarSong,this.pianoSong].filter(e=>e.title),this.eraUpdated.emit(this.era),this.closeAddSongDialog()}removeSurpriseSong(e){e==="guitar"?this.guitarSong={_id:"",title:"",audioSource:""}:e==="piano"&&(this.pianoSong={_id:"",title:"",audioSource:""}),this.era.songs=[this.guitarSong,this.pianoSong].filter(o=>o.title),this.eraUpdated.emit(this.era)}saveSong(){if(this.isMashup){if(this.totalMashups>=3||this.totalSongs>=45)return;let e=this.allSongs.find(r=>r._id===this.firstSongId),o=this.allSongs.find(r=>r._id===this.secondSongId);e&&o&&this.era.songs.push({_id:`${e._id}/${o._id}`,title:`${e.title} / ${o.title}`,audioSource:"",isMashup:!0})}else{if(this.totalSongs>=45)return;let e=this.allSongs.find(o=>o._id===this.selectedSongTitle);e&&!this.isSongAlreadySelected(e._id)&&this.era.songs.push({_id:e._id,title:e.title,audioSource:e.audioSource,isMashup:!1})}this.eraUpdated.emit(this.era),this.closeAddSongDialog()}removeSong(e){this.era.songs.splice(e,1),this.eraUpdated.emit(this.era)}getAlbumCover(e){return{Debut:"https://d3e29z0m37b0un.cloudfront.net/Taylor+Swift.jpg",Fearless:"https://d3e29z0m37b0un.cloudfront.net/fearless_taylors_version_album.jpg","Speak Now":"https://d3e29z0m37b0un.cloudfront.net/speak-now-tv.jpg",Red:"https://d3e29z0m37b0un.cloudfront.net/red-tv.jpeg",1989:"https://d3e29z0m37b0un.cloudfront.net/1989.jpeg",Reputation:"https://d3e29z0m37b0un.cloudfront.net/reputation.jpg",Lover:"https://d3e29z0m37b0un.cloudfront.net/lover.jpg",Folklore:"https://d3e29z0m37b0un.cloudfront.net/folklore.jpg",Evermore:"https://d3e29z0m37b0un.cloudfront.net/evermore.jpeg",Midnights:"https://d3e29z0m37b0un.cloudfront.net/MidnightsNoText.png","The Tortured Poets Department":"https://d3e29z0m37b0un.cloudfront.net/ttpd.jpg","Surprise Songs":"https://d3e29z0m37b0un.cloudfront.net/surpriseSongs.png"}[e]||""}canSaveSong(){return this.era.era==="Surprise Songs"?this.era.songs.length<2:this.isMashup?this.totalMashups<3&&this.totalSongs<45:this.totalSongs<45&&!this.isSongAlreadySelected(this.selectedSongTitle)}isSongAlreadySelected(e){return this.era.songs.some(o=>o._id===e)}};t.\u0275fac=function(o){return new(o||t)(x(H))},t.\u0275cmp=D({type:t,selectors:[["app-era-widget"]],inputs:{era:"era",totalSongs:"totalSongs",totalMashups:"totalMashups"},outputs:{eraUpdated:"eraUpdated"},standalone:!0,features:[T],decls:9,vars:7,consts:[["normalSlots",""],["albumSongs",""],[1,"era-widget",3,"ngStyle"],[1,"overlay"],[1,"song-slots"],[4,"ngIf","ngIfElse"],["class","add-song-dialog",4,"ngIf"],[1,"song-slot"],["for","guitarSong"],[1,"fas","fa-guitar"],[4,"ngIf"],[3,"click",4,"ngIf"],["for","pianoSong"],["src","https://d3e29z0m37b0un.cloudfront.net/graphics/pianoIcon.svg",1,"piano-icon"],[1,"remove-button",3,"click"],[3,"click"],["class","song-slot",4,"ngFor","ngForOf"],[3,"click","disabled","title"],[1,"add-song-dialog"],[1,"dialog-content"],[1,"dialog-actions"],[3,"click","disabled"],["placeholder","Enter song or mashup",3,"ngModelChange","ngModel"],[1,"mashup-option"],["type","checkbox",3,"ngModelChange","ngModel"],["class","mashup-selection",4,"ngIf"],["class","song-selection",4,"ngIf"],[1,"mashup-selection"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"song-selection"]],template:function(o,r){if(o&1&&(d(0,"div",2),y(1,"div",3),d(2,"h2"),f(3),u(),d(4,"div",4),w(5,Z0,13,4,"ng-container",5)(6,J0,3,3,"ng-template",null,0,Pn),u()(),w(8,a_,12,3,"div",6)),o&2){let s=Mn(7);b("ngStyle",ce(5,Y0,"url("+r.getAlbumCover(r.era.era)+")")),m(3),A(r.era.era),m(2),b("ngIf",r.era.era==="Surprise Songs")("ngIfElse",s),m(3),b("ngIf",r.showAddSongDialog)}},dependencies:[R,L,Tt,Ve,Qe,xi,vi,qe,as,bi,ue,Ge],styles:[".era-widget[_ngcontent-%COMP%]{position:relative;padding:20px;background-size:cover;background-position:center;border-radius:10px;box-shadow:0 2px 4px #0000001a;color:#fff}.era-widget[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#000000a6;border-radius:10px}.era-widget[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{position:relative;z-index:1}.era-widget[_ngcontent-%COMP%]   .song-slots[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;flex-direction:column;gap:10px}.era-widget[_ngcontent-%COMP%]   .song-slots[_ngcontent-%COMP%]   .song-slot[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:#fff6;padding:10px;border-radius:5px}.era-widget[_ngcontent-%COMP%]   .song-slots[_ngcontent-%COMP%]   .song-slot[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]{background:none;border:none;color:#fff;cursor:pointer}.era-widget[_ngcontent-%COMP%]   .song-slots[_ngcontent-%COMP%]   .song-slot[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.era-widget[_ngcontent-%COMP%]   .song-slots[_ngcontent-%COMP%]   .song-slot[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700}.era-widget[_ngcontent-%COMP%]   .song-slots[_ngcontent-%COMP%]   .song-slot[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .era-widget[_ngcontent-%COMP%]   .song-slots[_ngcontent-%COMP%]   .song-slot[_ngcontent-%COMP%]   .piano-icon[_ngcontent-%COMP%]{margin-right:10px}.era-widget[_ngcontent-%COMP%]   .song-slots[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#007b29cc;border:none;padding:10px;border-radius:5px;cursor:pointer;color:#fff;transition:all .2s ease}.era-widget[_ngcontent-%COMP%]   .song-slots[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.5}.era-widget[_ngcontent-%COMP%]   .song-slots[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#066726}.add-song-dialog[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#f0f0f0f2;padding:20px;border-radius:10px;box-shadow:0 2px 4px #0003;z-index:1000;width:90%;max-width:500px;cursor:default}.add-song-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.add-song-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;color:#333}.add-song-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .add-song-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px}.add-song-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .mashup-option[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:10px}.add-song-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .mashup-option[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}.add-song-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .mashup-option[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:20px;height:20px;accent-color:#007bff}.add-song-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .mashup-selection[_ngcontent-%COMP%], .add-song-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .song-selection[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:10px}.add-song-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .mashup-selection[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .add-song-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .song-selection[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{flex:1;padding:10px;border:1px solid #ccc;border-radius:5px}.add-song-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .mashup-selection[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .add-song-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .song-selection[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{align-self:center}.add-song-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px}.add-song-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:5px;cursor:pointer;background:#007bff;color:#fff}.add-song-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#0056b3}.add-song-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.5}"]});let n=t;return n})();var wd=(()=>{let t=class t{validateSetList(e){let o=this.validateSongCount(e),r=this.validateSurpriseSongs(e),s=this.validateMashups(e),a=this.validateEraRepresentation(e);return console.log("Validation Results:"),console.log("Song Count:",o),console.log("Surprise Songs:",r),console.log("Mashups:",s),console.log("Era Representation:",a),o&&r&&s&&a}validateSongCount(e){return e.reduce((r,s)=>s.era==="Surprise Songs"?r:r+s.songs.length,0)===45}validateSurpriseSongs(e){let o=e.find(r=>r.era==="Surprise Songs");return!!o&&o.songs.length===2}validateMashups(e){return e.reduce((r,s)=>r+s.songs.filter(a=>a.isMashup).length,0)<=3}validateEraRepresentation(e){return e.filter(r=>r.era!=="Surprise Songs").every(r=>r.songs.length>=1&&r.songs.length<=6)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=tt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function c_(n,t){if(n&1){let i=E();d(0,"div",20)(1,"app-era-widget",21),C("eraUpdated",function(o){P(i);let r=k();return S(r.updateEra(o))}),u()()}if(n&2){let i=t.$implicit,e=k();m(),b("era",i)("totalSongs",e.totalSongs)("totalMashups",e.totalMashups)}}function d_(n,t){if(n&1){let i=E();d(0,"div",22)(1,"div",23)(2,"h3"),f(3,"Confirm Reset"),u(),d(4,"p"),f(5,"Are you sure you want to reset all selections?"),u(),d(6,"div",24)(7,"button",12),C("click",function(){P(i);let o=k();return S(o.closeResetDialog())}),f(8,"Cancel"),u(),d(9,"button",25),C("click",function(){P(i);let o=k();return S(o.confirmReset())}),f(10,"Confirm"),u()()()()}}var Pd=(()=>{let t=class t{constructor(e,o,r,s,a){this.rankingService=e,this.rulesService=o,this.toastr=r,this.authService=s,this.userProfileService=a,this.eras=["Debut","Fearless","Speak Now","Red","1989","Reputation","Lover","Folklore","Evermore","Midnights","The Tortured Poets Department","Surprise Songs"],this.setList=[],this.totalSongs=0,this.totalMashups=0,this.erasAccountedFor=0,this.totalSurpriseSongs=0,this.allChoicesMade=!1,this.isSetListValid=!1,this.showResetDialog=!1,this.username=null}ngOnInit(){this.loadUsername(),this.loadSetList()}loadUsername(){this.username=this.authService.getUsername(),this.username||this.userProfileService.getUserProfile().subscribe(e=>{this.username=e.username,localStorage.setItem("username",this.username)},e=>{console.error("Error fetching user profile:",e)})}loadSetList(){this.rankingService.getErasTourSetList().subscribe(e=>{this.setList=e.length>0?e:this.initializeSetList(),this.updateCounters()},e=>{console.error("Error loading set list",e),this.setList=this.initializeSetList(),this.updateCounters()})}initializeSetList(){return this.eras.map((e,o)=>({era:e,songs:[],order:o}))}onDrop(e){q(this.setList,e.previousIndex,e.currentIndex),this.updateSetListOrder()}updateSetListOrder(){this.setList.forEach((e,o)=>e.order=o),this.updateCounters()}updateEra(e){let o=this.setList.findIndex(r=>r.era===e.era);o!==-1&&(this.setList[o]=e,this.updateCounters())}updateCounters(){this.totalSongs=this.setList.reduce((e,o)=>o.era==="Surprise Songs"?e:e+o.songs.length,0),this.totalMashups=this.setList.reduce((e,o)=>o.era==="Surprise Songs"?e:e+o.songs.filter(r=>r.isMashup).length,0),this.erasAccountedFor=this.setList.filter(e=>e.era!=="Surprise Songs"&&e.songs.length>0).length,this.totalSurpriseSongs=this.setList.find(e=>e.era==="Surprise Songs")?.songs.length||0,this.allChoicesMade=this.checkAllChoicesMade()}checkAllChoicesMade(){return this.totalSongs===45&&this.erasAccountedFor===11&&this.totalSurpriseSongs===2}saveProgress(){this.rankingService.updateErasTourSetList(this.setList).subscribe(()=>this.toastr.success("Progress saved successfully"),e=>this.toastr.error("Failed to save progress"))}verifySetList(){this.rulesService.validateSetList(this.setList)?(this.isSetListValid=!0,this.toastr.success("Set list verified successfully!")):(this.isSetListValid=!1,this.toastr.error("Set list does not comply with the rules."))}generateShareLink(){let e=this.getUsername(),o=`${window.location.origin}/share-setlist/${e}`;navigator.clipboard.writeText(o).then(()=>{this.toastr.success("Shareable link copied to clipboard!")}).catch(r=>{this.toastr.error("Failed to copy link to clipboard.")})}getUsername(){return this.username||"username-placeholder"}openResetDialog(){this.showResetDialog=!0}closeResetDialog(){this.showResetDialog=!1}confirmReset(){this.setList=this.initializeSetList(),this.updateCounters(),this.rankingService.updateErasTourSetList(this.setList).subscribe(()=>this.toastr.success("Set list reset successfully"),e=>this.toastr.error("Failed to reset set list")),this.closeResetDialog()}};t.\u0275fac=function(o){return new(o||t)(x(U),x(wd),x(de),x(Ye),x(Ci))},t.\u0275cmp=D({type:t,selectors:[["app-eras-tour-builder"]],standalone:!0,features:[T],decls:60,vars:8,consts:[[1,"eras-tour-builder"],[1,"background-overlay"],[1,"header-container"],["src","https://d3e29z0m37b0un.cloudfront.net/graphics/bracelets.png","alt","Background Graphic",1,"background-graphic"],[1,"header-div"],[1,"header-title"],[1,"header-sub-title"],[1,"content"],[1,"left-column"],[1,"rules-section"],[1,"counter-box"],[1,"counter"],[3,"click"],[1,"verify-button",3,"click","disabled"],[1,"share-button",3,"click","disabled"],[1,"reset-button",3,"click"],[1,"right-column"],["cdkDropList","",1,"era-list",3,"cdkDropListDropped"],["cdkDrag","","class","era-item",4,"ngFor","ngForOf"],["class","reset-dialog",4,"ngIf"],["cdkDrag","",1,"era-item"],[3,"eraUpdated","era","totalSongs","totalMashups"],[1,"reset-dialog"],[1,"dialog-content"],[1,"dialog-actions"],[1,"confirm-button",3,"click"]],template:function(o,r){o&1&&(d(0,"div",0),y(1,"div",1),d(2,"div",2),y(3,"img",3),d(4,"div",4)(5,"h1",5),f(6,"Eras Tour Setlist Builder"),u(),d(7,"h1",6),f(8,"Build Your Dream Show"),u()()(),d(9,"div",7)(10,"div",8)(11,"section",9)(12,"h2"),f(13,"Eras Tour Builder Rules"),u(),d(14,"ul")(15,"li"),f(16,"Drag and drop the Eras widgets to reorder them."),u(),d(17,"li"),f(18,"Select 45 songs to fill the setlist."),u(),d(19,"li"),f(20,"Select 2 songs for surprise songs."),u(),d(21,"li"),f(22,"Select 3 mashups (each counts as 1 song slot)."),u(),d(23,"li"),f(24,"Each Era must be represented and have at least 1 song."),u(),d(25,"li"),f(26,"An Era can have a maximum of 6 songs."),u(),d(27,"li"),f(28,"Click the 'x' to remove a song."),u(),d(29,"li"),f(30,"Save your changes to return and finish later."),u(),d(31,"li"),f(32,"When you have met all requirements, verify and share with your friends!"),u(),d(33,"li"),f(34,"Shout out to "),d(35,"span"),f(36,"@kristenacarey"),u(),f(37," on TikTok for this ruleset!"),u()()(),d(38,"div",10)(39,"div",11)(40,"p"),f(41),u(),d(42,"p"),f(43),u(),d(44,"p"),f(45),u(),d(46,"p"),f(47),u()(),d(48,"button",12),C("click",function(){return r.saveProgress()}),f(49,"Save Progress"),u(),d(50,"button",13),C("click",function(){return r.verifySetList()}),f(51,"Verify My Set List"),u(),d(52,"button",14),C("click",function(){return r.generateShareLink()}),f(53,"Share Set List"),u(),d(54,"button",15),C("click",function(){return r.openResetDialog()}),f(55,"Reset All"),u()()(),d(56,"div",16)(57,"div",17),C("cdkDropListDropped",function(a){return r.onDrop(a)}),w(58,c_,2,3,"div",18),u()()(),w(59,d_,11,0,"div",19),u()),o&2&&(m(41),j("",r.totalSongs,"/45 songs chosen"),m(2),j("",r.totalMashups,"/3 mashups used"),m(2),j("",r.erasAccountedFor,"/11 eras accounted for"),m(2),j("",r.totalSurpriseSongs,"/2 surprise songs chosen"),m(3),b("disabled",!r.allChoicesMade),m(2),b("disabled",!r.isSetListValid),m(6),b("ngForOf",r.setList),m(),b("ngIf",r.showResetDialog))},dependencies:[Md,$,X,Z,R,L,Tt],styles:[".eras-tour-builder[_ngcontent-%COMP%]{position:relative;max-width:1200px;margin:0 auto;padding:20px}.eras-tour-builder[_ngcontent-%COMP%]   .background-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:url(https://d3e29z0m37b0un.cloudfront.net/graphics/tour-builder-bg.webp) no-repeat center center;background-size:cover;z-index:-1;opacity:.2}.eras-tour-builder[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]{position:relative;width:100%;margin-bottom:30px;overflow:hidden;border-radius:10px}.eras-tour-builder[_ngcontent-%COMP%]   .background-graphic[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:50%;height:100%;object-fit:cover;z-index:1}.eras-tour-builder[_ngcontent-%COMP%]   .header-div[_ngcontent-%COMP%]{background-color:#ffd78c;height:100%;border-radius:10px;z-index:10;display:flex;flex-direction:column;align-items:center;padding:28px 20px 20px}.eras-tour-builder[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{width:100%;position:relative;z-index:2;color:#000;text-align:left;margin:0 0 10px;font-size:3rem}.eras-tour-builder[_ngcontent-%COMP%]   .header-sub-title[_ngcontent-%COMP%]{width:100%;position:relative;z-index:2;color:#266dd3;text-align:left;margin:0;font-size:3.6rem}.eras-tour-builder[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px}.eras-tour-builder[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%], .eras-tour-builder[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .right-column[_ngcontent-%COMP%]{flex:1;min-width:300px}.eras-tour-builder[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]{max-width:400px;position:relative}.eras-tour-builder[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .counter-box[_ngcontent-%COMP%]{position:sticky;display:flex;flex-direction:column;top:20px;background:#f0f0f0e6;border:1px solid #ccc;padding:10px;border-radius:5px;box-shadow:0 2px 4px #0000001a;z-index:1000}.eras-tour-builder[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .counter-box[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]{margin-bottom:10px}.eras-tour-builder[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .counter-box[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0;font-weight:700}.eras-tour-builder[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .counter-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#007bff;color:#fff;border:none;padding:10px;border-radius:5px;cursor:pointer;margin-bottom:10px}.eras-tour-builder[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .counter-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#0056b3}.eras-tour-builder[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .counter-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.5}.eras-tour-builder[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .counter-box[_ngcontent-%COMP%]   .verify-button[_ngcontent-%COMP%]{background:#28a745;color:#fff;border:none;padding:10px;border-radius:5px;cursor:pointer}.eras-tour-builder[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .counter-box[_ngcontent-%COMP%]   .verify-button[_ngcontent-%COMP%]:hover{background:#218838}.eras-tour-builder[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .counter-box[_ngcontent-%COMP%]   .verify-button[_ngcontent-%COMP%]:disabled{background:#6c757d;cursor:not-allowed;opacity:.5}.eras-tour-builder[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .counter-box[_ngcontent-%COMP%]   .share-button[_ngcontent-%COMP%]{background:#c335dc;color:#fff;border:none;padding:10px;border-radius:5px;cursor:pointer}.eras-tour-builder[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .counter-box[_ngcontent-%COMP%]   .share-button[_ngcontent-%COMP%]:hover{background:#a02ab5}.eras-tour-builder[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .counter-box[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]{background:#dc3545;color:#fff;border:none;padding:10px;border-radius:5px;cursor:pointer}.eras-tour-builder[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .counter-box[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]:hover{background:#c82333}.eras-tour-builder[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .rules-section[_ngcontent-%COMP%]{padding:20px;margin-bottom:20px;background:#f9f9f9e6;border-radius:10px;box-shadow:0 2px 4px #0000001a}.eras-tour-builder[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .rules-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:10px}.eras-tour-builder[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .rules-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc;padding-left:20px}.eras-tour-builder[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .rules-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:5px}.eras-tour-builder[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .rules-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:italic;color:#0056b3}.eras-tour-builder[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .right-column[_ngcontent-%COMP%]{flex-grow:2}.eras-tour-builder[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .era-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.eras-tour-builder[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .era-item[_ngcontent-%COMP%]{cursor:grab}.eras-tour-builder[_ngcontent-%COMP%]   .reset-dialog[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#f0f0f0f2;padding:20px;border-radius:10px;box-shadow:0 2px 4px #0003;z-index:1000}.eras-tour-builder[_ngcontent-%COMP%]   .reset-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.eras-tour-builder[_ngcontent-%COMP%]   .reset-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;color:#333}.eras-tour-builder[_ngcontent-%COMP%]   .reset-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.eras-tour-builder[_ngcontent-%COMP%]   .reset-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px}.eras-tour-builder[_ngcontent-%COMP%]   .reset-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:5px;cursor:pointer}.eras-tour-builder[_ngcontent-%COMP%]   .reset-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#0056b3}.eras-tour-builder[_ngcontent-%COMP%]   .reset-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.5}.eras-tour-builder[_ngcontent-%COMP%]   .reset-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   .confirm-button[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.eras-tour-builder[_ngcontent-%COMP%]   .reset-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   .confirm-button[_ngcontent-%COMP%]:hover{background:#c82333}@media (max-width: 768px){.eras-tour-builder[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]{max-width:none;width:100%}.eras-tour-builder[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:2rem}.eras-tour-builder[_ngcontent-%COMP%]   .header-sub-title[_ngcontent-%COMP%]{font-size:2.6rem}}"]});let n=t;return n})();var u_=["audioPlayer"];function h_(n,t){if(n&1){let i=E();d(0,"div",8)(1,"span",9),f(2),u(),d(3,"span",10),f(4),u(),d(5,"audio",11),C("error",function(o){P(i);let r=k();return S(r.handleAudioError(o))}),u()()}if(n&2){let i=t.$implicit,e=t.index;m(2),j("",e+1,"."),m(2),A(i.title),m(),b("src",i.audioSource,N)}}var Sd=(()=>{let t=class t{constructor(e,o){this.rankingsService=e,this.albumService=o,this.rankings=[],this.songs=[],this.currentlyPlaying=null}ngOnInit(){this.loadAlbumData(),this.disableAudioRightClick()}disableAudioRightClick(){document.addEventListener("contextmenu",e=>{e.target instanceof HTMLElement&&e.target.tagName==="AUDIO"&&e.preventDefault()},!1)}loadAlbumData(){this.albumService.getAlbumByTitle("Singles").subscribe(e=>{this.songs=e.songs.map(o=>K(Y({},o),{album:e.title})),console.log("Loaded album songs:",this.songs),this.loadRankings()},e=>{console.error("Error fetching album:",e)})}loadRankings(){this.rankingsService.getUserRankings().subscribe(e=>{e&&e.albumRankings&&e.albumRankings.standaloneSingles?(this.rankings=e.albumRankings.standaloneSingles.sort((o,r)=>o.rank-r.rank),console.log("Loaded rankings:",this.rankings)):(this.rankings=[],console.log("No rankings found")),this.applyRankingsToSongs()},e=>{console.error("Error fetching rankings:",e),this.rankings=[],this.applyRankingsToSongs()})}applyRankingsToSongs(){if(this.songs.length>0)if(this.rankings.length>0){let e=new Map(this.rankings.map(o=>[o.songId,o.rank]));this.songs.sort((o,r)=>{let s=e.get(o._id)??1/0,a=e.get(r._id)??1/0;return s-a})}else console.log("No rankings found, displaying all songs in original order");else console.log("No songs found");console.log("Final songs array:",this.songs)}onDrop(e){q(this.songs,e.previousIndex,e.currentIndex),this.updateRankings()}updateRankings(){let e=this.songs.map((o,r)=>({slot:r+1,albumName:o.album,songId:o._id,songTitle:o.title,albumCover:o.albumImageSource,rank:r+1}));this.rankingsService.updateRanking("standaloneSingles",e).subscribe(o=>console.log("Rankings updated"),o=>console.error("Error updating rankings:",o))}handleAudioError(e){console.error("Audio failed to load:",e)}};t.\u0275fac=function(o){return new(o||t)(x(U),x(H))},t.\u0275cmp=D({type:t,selectors:[["app-singles-ranking"]],viewQuery:function(o,r){if(o&1&&it(u_,5),o&2){let s;ot(s=rt())&&(r.audioPlayers=s)}},standalone:!0,features:[T],decls:15,vars:1,consts:[[1,"album-ranking-container"],[1,"media-column"],["src","https://d3e29z0m37b0un.cloudfront.net/singles/Singles.svg","alt","Album Cover",1,"album-cover"],[1,"ranking-column"],[1,"content-div"],[1,"helper-text"],["cdkDropList","",1,"song-list",3,"cdkDropListDropped"],["class","song-item","cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag","",1,"song-item"],[1,"rank-number"],[1,"song-title"],["controls","","controlsList","nodownload",3,"error","src"]],template:function(o,r){o&1&&(d(0,"div",0)(1,"div",1),y(2,"img",2),u(),d(3,"div",3)(4,"div",4)(5,"p"),f(6,"My Rankings For:"),u(),d(7,"h1"),f(8,"Taylor's Single Releases"),u(),d(9,"p"),f(10,"Released: 2006-Present"),u(),d(11,"p",5),f(12,"Click and drag a song to reorder your list!"),u()(),d(13,"div",6),C("cdkDropListDropped",function(a){return r.onDrop(a)}),w(14,h_,6,3,"div",7),u()()()),o&2&&(m(14),b("ngForOf",r.songs))},dependencies:[$,X,Z,R,L],styles:['.album-ranking-container[_ngcontent-%COMP%]{display:flex;max-width:1200px;margin:0 auto;padding:20px;position:relative;overflow:hidden}.album-ranking-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background-image:url(https://d3e29z0m37b0un.cloudfront.net/photo-grids/singles.png);background-size:cover;background-position:center;filter:blur(5px);z-index:-2}.album-ranking-container[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background-color:#0000001a;z-index:-1}.media-column[_ngcontent-%COMP%], .ranking-column[_ngcontent-%COMP%]{position:relative;z-index:1;background-color:#ffffff80;border-radius:10px;padding:20px;margin:10px}.media-column[_ngcontent-%COMP%]{align-self:flex-start;padding:10px;margin-right:20px}.album-cover[_ngcontent-%COMP%]{width:100%;max-width:400px;height:auto;border-radius:10px;box-shadow:0 4px 8px #0000001a}.ranking-column[_ngcontent-%COMP%]{flex:1;background-color:#fff;border-radius:10px;padding:20px;box-shadow:0 4px 8px #0000001a}.content-div[_ngcontent-%COMP%]{margin-bottom:20px;color:#333}.content-div[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;margin:10px 0}.content-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.helper-text[_ngcontent-%COMP%]{color:#679dcd!important;font-style:italic}.song-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px;margin-bottom:10px;border:2px solid #344055;border-radius:5px;background-color:#fff;cursor:grab;transition:background-color .3s ease}.song-item[_ngcontent-%COMP%]:hover{background:linear-gradient(#64b4e6,#679dcd)}.rank-number[_ngcontent-%COMP%]{width:30px;text-align:center;font-weight:700;color:#333}.song-title[_ngcontent-%COMP%]{flex-grow:1;padding-left:10px;color:#333}audio[_ngcontent-%COMP%]{width:200px;height:30px;background-color:#ffffff1a;border-radius:15px;outline:1px solid white}audio[_ngcontent-%COMP%]::-webkit-media-controls-panel{background-color:none}audio[_ngcontent-%COMP%]::-webkit-media-controls-play-button{background-color:#fff3;border-radius:50%}audio[_ngcontent-%COMP%]::-webkit-media-controls-current-time-display, audio[_ngcontent-%COMP%]::-webkit-media-controls-time-remaining-display{color:#000}@media (max-width: 768px){.album-ranking-container[_ngcontent-%COMP%]{flex-direction:column}.media-column[_ngcontent-%COMP%], .ranking-column[_ngcontent-%COMP%]{width:100%;margin:10px 0}.media-column[_ngcontent-%COMP%]{align-self:center;display:flex;justify-content:center;align-items:center}.song-item[_ngcontent-%COMP%]{width:90%}}']});let n=t;return n})();function g_(n,t){if(n&1){let i=E();d(0,"img",17),C("click",function(){let o=P(i).index,r=k();return S(r.openLightbox(o))}),u()}if(n&2){let i=t.$implicit;b("src",i.src,N)("alt",i.caption)}}function f_(n,t){if(n&1){let i=E();d(0,"div",18),C("click",function(o){P(i);let r=k();return S(r.closeLightbox(o))}),d(1,"span",19),C("click",function(o){P(i);let r=k();return S(r.closeLightbox(o))}),f(2,"\xD7"),u(),d(3,"img",20),C("click",function(o){return P(i),S(o.stopPropagation())}),u(),d(4,"div",21),f(5),u(),d(6,"a",22),C("click",function(){P(i);let o=k();return S(o.navigate(-1))}),f(7,"<"),u(),d(8,"a",23),C("click",function(){P(i);let o=k();return S(o.navigate(1))}),f(9,">"),u()()}if(n&2){let i=k();m(3),b("src",i.lightboxImage,N),m(2),A(i.lightboxCaption)}}var Od=(()=>{let t=class t{constructor(){this.lightboxVisible=!1,this.lightboxImage="",this.lightboxCaption="",this.currentIndex=0,this.images=[{src:"https://d3e29z0m37b0un.cloudfront.net/graphics/About+Photos/arlington.webp",caption:"Arlington, TX - March 31st, 2023"},{src:"https://d3e29z0m37b0un.cloudfront.net/graphics/About+Photos/kansas-city.webp",caption:"Kansas City, KS - July 8th, 2023"},{src:"https://d3e29z0m37b0un.cloudfront.net/graphics/About+Photos/eras-museum.webp",caption:"Eras Tour Collection Museum - Arlington, TX"},{src:"https://d3e29z0m37b0un.cloudfront.net/graphics/About+Photos/shirt-signing.webp",caption:"Gelsenkirchen, Germany - July 19th, 2024"},{src:"https://d3e29z0m37b0un.cloudfront.net/graphics/About+Photos/swiftkirchen.webp",caption:"Official city renaming to Swiftkirchen!"},{src:"https://d3e29z0m37b0un.cloudfront.net/graphics/About+Photos/poster.webp",caption:"Swiftkirchen Block Party - July 19th, 2024"},{src:"https://d3e29z0m37b0un.cloudfront.net/graphics/About+Photos/gelsenkirchen.webp",caption:"Veltins Arena in Gelsenkirchen"},{src:"https://d3e29z0m37b0un.cloudfront.net/graphics/About+Photos/funko.webp",caption:"I created a custom Taylor Funko Pop and display case :)"}]}openLightbox(e){this.currentIndex=e,this.lightboxImage=this.images[e].src,this.lightboxCaption=this.images[e].caption,this.lightboxVisible=!0}closeLightbox(e){e.stopPropagation(),this.lightboxVisible=!1}navigate(e){this.currentIndex=(this.currentIndex+e+this.images.length)%this.images.length,this.lightboxImage=this.images[this.currentIndex].src,this.lightboxCaption=this.images[this.currentIndex].caption}onArrowRight(e){this.lightboxVisible&&this.navigate(1)}onArrowLeft(e){this.lightboxVisible&&this.navigate(-1)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=D({type:t,selectors:[["app-about"]],hostBindings:function(o,r){o&1&&C("keydown.arrowright",function(a){return r.onArrowRight(a)},!1,Po)("keydown.arrowleft",function(a){return r.onArrowLeft(a)},!1,Po)},standalone:!0,features:[T],decls:41,vars:2,consts:[[1,"about-container"],[1,"widgets"],[1,"about-widget"],[1,"info-widget"],[1,"coffee-section"],[1,"pay-div"],["src","https://d3e29z0m37b0un.cloudfront.net/graphics/coffee.svg","alt","Buy Me a Coffee",1,"coffee-icon"],[1,"pay-category"],[1,"title"],[1,"creds"],[1,"my-profile-section"],[1,"btn-div"],["href","#"],[1,"photos"],[1,"photos-row"],["class","photo-item",3,"src","alt","click",4,"ngFor","ngForOf"],["id","lightbox","class","lightbox",3,"click",4,"ngIf"],[1,"photo-item",3,"click","src","alt"],["id","lightbox",1,"lightbox",3,"click"],[1,"close",3,"click"],[1,"lightbox-content",3,"click","src"],["id","caption",1,"caption"],[1,"prev",3,"click"],[1,"next",3,"click"]],template:function(o,r){o&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),f(4,"It's me, hi."),u(),d(5,"p"),f(6,"I\u2019m Cullen, and I\u2019m enchanted to have you here! By day, I\u2019m a software engineer and web developer, but when I\u2019m not coding, I\u2019m a dedicated Swiftie of course."),u(),d(7,"p"),f(8,"For a long time, I searched for a way to easily rank my favorite songs and organize tracks by album, but never really found something I liked. So, I decided to create my own solution!"),u(),d(9,"p"),f(10,"The Swiftie Ranking Hub let's you rank your top 13 songs, categorize tracks by album, and much more. The best part? Everything you do will be saved, so you can return and indulge in your rankings over and over (especially when Taylor drops new music)."),u(),d(11,"p"),f(12,"One of my favorite things about being a Swiftie is the supportive community that surrounds us. To celebrate this, I\u2019ve added the ability to share your top 13 songs list, custom profile page and dream Eras Tour with friends. I hope this helps us connect and share our love for Taylor even more \u{1FAF6}"),u()(),d(13,"div",3)(14,"div",4)(15,"p"),f(16,"This project is a true labor of love, and I\u2019m excited to share it with you. It\u2019s completely free, but if you\u2019d like to buy me a coffee as a token of appreciation, I\u2019d be incredibly grateful!"),u(),d(17,"div",5),y(18,"img",6),d(19,"div",7)(20,"p",8),f(21,"Venmo"),u(),d(22,"p",9),f(23,"cullenk13"),u()(),d(24,"div",7)(25,"p",8),f(26,"CashApp"),u(),d(27,"p",9),f(28,"cullenk13 (1313)"),u()()()(),d(29,"div",10)(30,"p"),f(31,"In case you're curious, check out some of my top songs and Switie questionnaire responses. Can't wait to see what all of you come up with too!"),u(),d(32,"div",11)(33,"a",12),f(34,"Cullen's Profile"),u(),d(35,"a",12),f(36,"Cullen's Dream Eras Tour"),u()()()()(),d(37,"div",13)(38,"div",14),w(39,g_,1,2,"img",15),u()()(),w(40,f_,10,2,"div",16)),o&2&&(m(39),b("ngForOf",r.images),m(),b("ngIf",r.lightboxVisible))},dependencies:[R,L,Tt],styles:['.about-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;max-width:90rem;margin:0 auto;padding:2rem}.widgets[_ngcontent-%COMP%]{display:flex;gap:2rem}.about-widget[_ngcontent-%COMP%], .info-widget[_ngcontent-%COMP%]{flex:1;padding:2rem;color:#fff}.info-widget[_ngcontent-%COMP%]{position:relative;color:#000;background-color:#ffffff80;-webkit-backdrop-filter:blur(40px);backdrop-filter:blur(40px);border-radius:1rem;box-shadow:0 2px 8px #0000001a;background-image:url(https://d3e29z0m37b0un.cloudfront.net/graphics/About+Photos/sky-bg.png);background-position:center;background-size:cover;overflow:hidden}.info-widget[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#dedede33;pointer-events:none;border-radius:1rem;z-index:1}.info-widget[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;z-index:2}.about-widget[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;margin-top:0;margin-bottom:1rem;color:#5cb3ff}.about-widget[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .info-widget[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:.75rem}.coffee-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:20px;gap:1rem}.pay-div[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.coffee-icon[_ngcontent-%COMP%]{margin-right:15px;width:50px}.pay-category[_ngcontent-%COMP%]{display:flex;flex-direction:column}.pay-category[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600;margin:0}.pay-category[_ngcontent-%COMP%]   .cred[_ngcontent-%COMP%]{color:#344055;margin:0}.my-profile-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:2rem;gap:1rem}.my-profile-section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;padding:.5rem 1rem;margin:10px;background-color:var(--secondary-color);color:#fff;text-decoration:none;border-radius:.5rem;transition:background-color .3s;font-size:1rem}.my-profile-section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#2a4a9c}.photos[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start}.photos-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;justify-content:center}.photo-item[_ngcontent-%COMP%]{width:auto;height:300px;border-radius:1rem;box-shadow:0 2px 5px #0000001a;transition:transform .3s,box-shadow .3s;cursor:pointer}.photo-item[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 10px #0003}.lightbox[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000000e6}.lightbox-content[_ngcontent-%COMP%]{margin:0;display:block;max-width:80%;max-height:80%;border-radius:10px;box-shadow:0 4px 10px #00000080}.caption[_ngcontent-%COMP%]{text-align:center;color:#ccc;padding:10px 0;height:auto;margin-top:.5rem}.close[_ngcontent-%COMP%]{position:absolute;top:15px;right:35px;color:#fff;font-size:40px;font-weight:700;transition:.3s;cursor:pointer}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#bbb;text-decoration:none;cursor:pointer}.prev[_ngcontent-%COMP%], .next[_ngcontent-%COMP%]{cursor:pointer;position:absolute;top:50%;width:auto;margin-top:-22px;padding:16px;color:#fff;font-weight:700;font-size:20px;transition:.3s;-webkit-user-select:none;user-select:none}.next[_ngcontent-%COMP%]{right:35px}.prev[_ngcontent-%COMP%]{left:35px}.prev[_ngcontent-%COMP%]:hover, .next[_ngcontent-%COMP%]:hover{color:#bbb}@media (max-width: 768px){.widgets[_ngcontent-%COMP%]{flex-direction:column}.about-widget[_ngcontent-%COMP%], .info-widget[_ngcontent-%COMP%]{flex:1 1 100%}}']});let n=t;return n})();function p_(n,t){if(n&1&&(d(0,"div",8)(1,"span",9),f(2),u(),y(3,"img",10),d(4,"span",11),f(5),u()()),n&2){let i=t.$implicit,e=t.index;m(2),j("",e+1,"."),m(),Jr("alt","",i.title," Cover"),b("src",i.albumCover,N),m(2),A(i.title)}}var Dd=(()=>{let t=class t{constructor(e,o,r){this.rankingsService=e,this.albumService=o,this.cd=r,this.albums=[],this.albumRankings=[]}ngOnInit(){this.loadAlbums()}loadAlbums(){this.albumService.getAlbums().subscribe(e=>{this.albums=e.filter(o=>o.title!=="Singles"),this.albums.sort((o,r)=>o.releaseYear-r.releaseYear),console.log("Fetched albums:",e),this.loadAlbumRankings()},e=>{console.error("Error fetching albums:",e)})}loadAlbumRankings(){this.rankingsService.getUserRankings().subscribe(e=>{console.log("Fetched rankings:",e),e&&e.albumRankings&&e.albumRankings.allAlbums&&e.albumRankings.allAlbums.length>0?(this.albumRankings=e.albumRankings.allAlbums.map(o=>({rank:o.rank,albumName:o.albumName.toString(),albumCover:o.albumCover.toString()})),console.log("Processed album rankings:",this.albumRankings),this.applyRankingsToAlbums()):(console.log("No album rankings found, using default order"),this.cd.detectChanges())},e=>{console.error("Error fetching album rankings:",e),this.cd.detectChanges()})}applyRankingsToAlbums(){if(this.albumRankings.length>0){let e=new Map(this.albumRankings.map(o=>[o.albumName,o.rank]));this.albums.sort((o,r)=>{let s=e.get(o.title)??1/0,a=e.get(r.title)??1/0;return s-a})}console.log("Albums after applying rankings:",this.albums),this.cd.detectChanges()}onDrop(e){q(this.albums,e.previousIndex,e.currentIndex),this.updateAlbumRankings()}updateAlbumRankings(){let e=this.albums.map((o,r)=>({rank:r+1,albumName:o.title,albumCover:o.albumCover}));console.log("Updating album rankings:",e),this.rankingsService.updateAlbumRanking(e).subscribe(o=>{console.log("Album rankings updated:",o),this.albumRankings=o,console.log("Updated albumRankings:",this.albumRankings)},o=>console.error("Error updating album rankings:",o))}};t.\u0275fac=function(o){return new(o||t)(x(U),x(H),x(Be))},t.\u0275cmp=D({type:t,selectors:[["app-all-albums-ranking"]],standalone:!0,features:[T],decls:15,vars:1,consts:[[1,"album-ranking-container"],[1,"media-column"],["src","https://d3e29z0m37b0un.cloudfront.net/All-Albums.svg","alt","Album Cover",1,"album-cover"],[1,"ranking-column"],[1,"content-div"],[1,"helper-text"],["cdkDropList","",1,"album-list",3,"cdkDropListDropped"],["class","album-item","cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag","",1,"album-item"],[1,"rank-number"],[1,"album-cover-small",3,"src","alt"],[1,"album-title"]],template:function(o,r){o&1&&(d(0,"div",0)(1,"div",1),y(2,"img",2),u(),d(3,"div",3)(4,"div",4)(5,"p"),f(6,"My Rankings For:"),u(),d(7,"h1"),f(8,"All Taylor Swift Albums"),u(),d(9,"p"),f(10,"Released: 2006-Present"),u(),d(11,"p",5),f(12,"Click and drag an album to reorder your list!"),u()(),d(13,"div",6),C("cdkDropListDropped",function(a){return r.onDrop(a)}),w(14,p_,6,5,"div",7),u()()()),o&2&&(m(14),b("ngForOf",r.albums))},dependencies:[$,X,Z,R,L],styles:['.album-ranking-container[_ngcontent-%COMP%]{display:flex;max-width:1200px;margin:0 auto;padding:20px;position:relative;overflow:hidden}.album-ranking-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background-image:url(https://d3e29z0m37b0un.cloudfront.net/graphics/eras-tour-background.webp);background-size:cover;background-position:center;filter:blur(5px);z-index:-2}.album-ranking-container[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background-color:#0000001a;z-index:-1}.media-column[_ngcontent-%COMP%], .ranking-column[_ngcontent-%COMP%]{position:relative;z-index:1;background-color:#ffffff80;border-radius:10px;padding:20px;margin:10px}.media-column[_ngcontent-%COMP%]{align-self:flex-start;padding:10px;margin-right:20px}.album-cover-small[_ngcontent-%COMP%]{width:80px;height:auto;border-radius:10px;box-shadow:0 4px 8px #0000001a;margin-right:10px}.ranking-column[_ngcontent-%COMP%]{flex:1;background-color:#fff;border-radius:10px;padding:20px;box-shadow:0 4px 8px #0000001a}.content-div[_ngcontent-%COMP%]{margin-bottom:20px;color:#333}.content-div[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;margin:10px 0}.content-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.helper-text[_ngcontent-%COMP%]{color:#955693!important;font-style:italic}.album-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px;margin-bottom:10px;border:2px solid #344055;border-radius:5px;background-color:#fff;cursor:grab;transition:background-color .3s ease}.album-item[_ngcontent-%COMP%]:hover{background:linear-gradient(#e66465,#e591cf)}.rank-number[_ngcontent-%COMP%]{width:30px;text-align:center;font-weight:700;color:#333}.album-title[_ngcontent-%COMP%]{flex-grow:1;padding-left:10px;color:#333}@media (max-width: 768px){.album-ranking-container[_ngcontent-%COMP%]{flex-direction:column}.media-column[_ngcontent-%COMP%], .ranking-column[_ngcontent-%COMP%]{width:100%;margin:10px 0}.media-column[_ngcontent-%COMP%]{align-self:center;display:flex;justify-content:center;align-items:center}.song-item[_ngcontent-%COMP%]{width:90%}}']});let n=t;return n})();function m_(n,t){n&1&&(d(0,"div",17),f(1," Name is required. "),u())}function __(n,t){n&1&&(d(0,"div",17),f(1," Valid email is required. "),u())}function b_(n,t){n&1&&(d(0,"div",17),f(1," Message is required. "),u())}function x_(n,t){n&1&&(d(0,"div",18),f(1," Your message has been sent successfully! "),u())}function v_(n,t){n&1&&(d(0,"div",17),f(1," There was an error sending your message. Please try again later. "),u())}var Td=(()=>{let t=class t{constructor(e,o){this.fb=e,this.mailService=o,this.submitStatus="idle",this.contactForm=this.fb.group({name:["",On.required],email:["",[On.required,On.email]],message:["",On.required]})}onSubmit(){this.contactForm.valid&&(this.submitStatus="sending",this.mailService.sendContactFormEmail(this.contactForm.value).subscribe(e=>{console.log("Contact form sent successfully",e),this.submitStatus="success",this.contactForm.reset()},e=>{console.error("Error sending contact form",e),this.submitStatus="error"}))}};t.\u0275fac=function(o){return new(o||t)(x(hs),x(ss))},t.\u0275cmp=D({type:t,selectors:[["app-contact"]],standalone:!0,features:[T],decls:28,vars:8,consts:[[1,"container"],[1,"header-container"],["src","https://d3e29z0m37b0un.cloudfront.net/graphics/bracelets.png","alt","Background Graphic",1,"background-graphic"],[1,"header-div"],[1,"header-title"],[1,"header-sub-title"],[1,"contact-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","name"],["id","name","type","text","formControlName","name","placeholder","Your Name",1,"form-input"],["class","error-message",4,"ngIf"],["for","email"],["id","email","type","email","formControlName","email","placeholder","Your Email",1,"form-input"],["for","message"],["id","message","formControlName","message","placeholder","Your Message",1,"form-textarea"],["type","submit",1,"submit-button",3,"disabled"],["class","success-message",4,"ngIf"],[1,"error-message"],[1,"success-message"]],template:function(o,r){if(o&1&&(d(0,"div",0)(1,"div",1),y(2,"img",2),d(3,"div",3)(4,"h1",4),f(5,"Question...?"),u(),d(6,"h1",5),f(7,"Contact Me"),u()()(),d(8,"form",6),C("ngSubmit",function(){return r.onSubmit()}),d(9,"div",7)(10,"label",8),f(11,"Name"),u(),y(12,"input",9),w(13,m_,2,0,"div",10),u(),d(14,"div",7)(15,"label",11),f(16,"Email"),u(),y(17,"input",12),w(18,__,2,0,"div",10),u(),d(19,"div",7)(20,"label",13),f(21,"Message"),u(),y(22,"textarea",14),w(23,b_,2,0,"div",10),u(),d(24,"button",15),f(25),u(),w(26,x_,2,0,"div",16)(27,v_,2,0,"div",10),u()()),o&2){let s,a,l;m(8),b("formGroup",r.contactForm),m(5),b("ngIf",((s=r.contactForm.get("name"))==null?null:s.invalid)&&((s=r.contactForm.get("name"))==null?null:s.touched)),m(5),b("ngIf",((a=r.contactForm.get("email"))==null?null:a.invalid)&&((a=r.contactForm.get("email"))==null?null:a.touched)),m(5),b("ngIf",((l=r.contactForm.get("message"))==null?null:l.invalid)&&((l=r.contactForm.get("message"))==null?null:l.touched)),m(),b("disabled",!r.contactForm.valid||r.submitStatus==="sending"),m(),j(" ",r.submitStatus==="sending"?"Sending...":"Send"," "),m(),b("ngIf",r.submitStatus==="success"),m(),b("ngIf",r.submitStatus==="error")}},dependencies:[yi,cs,qe,ue,ls,ds,us,R,Tt],styles:[".container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.header-container[_ngcontent-%COMP%]{position:relative;width:100%;height:200px;margin-bottom:30px;overflow:hidden;border-radius:10px}.background-graphic[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:50%;height:100%;object-fit:cover;z-index:1}.header-div[_ngcontent-%COMP%]{background-color:#ffd78c;height:100%;border-radius:10px;z-index:10;display:flex;flex-direction:column;align-items:center;padding:28px 20px 20px}.header-title[_ngcontent-%COMP%]{width:100%;position:relative;z-index:2;color:#000;text-align:left;margin:0 0 10px;font-size:3rem}.header-sub-title[_ngcontent-%COMP%]{width:100%;position:relative;z-index:2;color:#266dd3;text-align:left;margin:0;font-size:3.6rem}.contact-form[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:10px;padding:20px;box-shadow:0 4px 10px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-input[_ngcontent-%COMP%], .form-textarea[_ngcontent-%COMP%]{width:98%;padding:10px;border:1px solid #ccc;border-radius:5px;font-size:16px;transition:border-color .3s}.form-input[_ngcontent-%COMP%]:focus, .form-textarea[_ngcontent-%COMP%]:focus{border-color:#266dd3;outline:none}.form-textarea[_ngcontent-%COMP%]{height:100px}.error-message[_ngcontent-%COMP%]{color:red;font-size:12px;margin-top:5px}.submit-button[_ngcontent-%COMP%]{background-color:#266dd3;color:#fff;padding:10px 15px;border:none;border-radius:5px;font-size:16px;cursor:pointer;transition:background-color .3s}.submit-button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.submit-button[_ngcontent-%COMP%]:not(:disabled):hover{background-color:#1a5b9c}.success-message[_ngcontent-%COMP%]{color:green;padding:20px 0}"]});let n=t;return n})();var y_=[{path:"",component:ms,children:[{path:"userHome",component:Lc},{path:"about",component:Od},{path:"userProfile",component:Ms},{path:"top13list",component:ks},{path:"erasTourBuilder",component:Pd},{path:"rankings",component:zc},{path:"rankings/debut",component:gd},{path:"rankings/fearless",component:pd},{path:"rankings/speak-now",component:md},{path:"rankings/red",component:_d},{path:"rankings/nineteen-eighty-nine",component:bd},{path:"rankings/reputation",component:xd},{path:"rankings/lover",component:vd},{path:"rankings/folklore",component:yd},{path:"rankings/evermore",component:Cd},{path:"rankings/midnights",component:kd},{path:"rankings/tortured-poets-department",component:fd},{path:"rankings/singles",component:Sd},{path:"rankings/allAlbums",component:Dd},{path:"contact",component:Td},{path:"",redirectTo:"/user/userProfile",pathMatch:"full"},{path:"**",component:Fc}]}],Ed=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Vt({imports:[te.forChild(y_),te]});let n=t;return n})();var Id=(()=>{let t=class t{constructor(e){this.AuthService=e}intercept(e,o){let r=this.AuthService.getToken();if(r){let s=e.clone({headers:e.headers.set("Authorization",`Bearer ${r}`)});return o.handle(s)}return o.handle(e)}};t.\u0275fac=function(o){return new(o||t)(et(Ye))},t.\u0275prov=tt({token:t,factory:t.\u0275fac});let n=t;return n})();var Rw=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Vt({providers:[{provide:os,useClass:Id,multi:!0}],imports:[R,Ed,$]});let n=t;return n})();export{Rw as UserModule};
