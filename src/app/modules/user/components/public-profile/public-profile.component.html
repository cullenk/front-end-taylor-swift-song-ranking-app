<div class="user-profile" [ngClass]="getThemeClass()" [style.backgroundImage]="'url(' + getThemeBackground() + ')'">
  <div class="profile-content">
    <!-- Welcome column -->
    <div class="column welcome-column">
      <div class="profile-image-container">
        <img [src]="publicProfile?.profileImage || defaultProfileImage" alt="Profile Image" class="profile-image">
      </div>
      <h1>{{ publicProfile?.username }}'s Profile</h1>
      <a href="https://www.swiftierankinghub.com" target="_blank">
        <button class="share-btn">Create Your Own!</button>
      </a>
    </div>

    <!-- Top 13 column -->
    <div class="column top-13-column">
      <section class="top-13-list">
        <h2>Top 13 Songs</h2>
        <div class="song-list">
          <div *ngFor="let song of publicProfile?.rankings?.topThirteen" class="song-item">
            <div class="ranking-bubble">{{ song.slot }}</div>
            <img [src]="song.albumImage" [alt]="song.songTitle + ' cover'" class="album-cover">
            <div class="title-audio">
              <div class="song-details">
                <h3>{{ song.songTitle }}</h3>
              </div>
              <audio controls *ngIf="song.audioSource" controlsList="nodownload">
                <source [src]="song.audioSource" type="audio/mpeg">
                Your browser does not support the audio element.
              </audio>
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- Questionnaire column -->
    <div class="column questionnaire-column">
      <section class="questionnaire">
        <h2>Swiftie Questionnaire</h2>
        <div class="question-list">
          <div *ngFor="let questionObj of publicProfile?.profileQuestions" class="question-item">
            <p class="question">{{ questionObj.question }}</p>
            <div class="answer">{{ questionObj.answer }}</div>
          </div>
        </div>
      </section>
    </div>
  </div>
</div>

<div *ngIf="isLoading" class="loading">Loading...</div>
<div *ngIf="error" class="error">{{ error }}</div>