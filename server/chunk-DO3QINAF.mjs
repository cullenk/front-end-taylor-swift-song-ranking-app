import './polyfills.server.mjs';
import{a as bt,d as vt}from"./chunk-LT4UYVNC.mjs";import{b as z,c as kt,d as Et,e as x,g as D,h as M,i as B,j as R,k as V,l as F,n as N,o as H,p as K,t as Q,u as At,v as Lt,w as W,x as Y,y as Tt}from"./chunk-7XFLNHFR.mjs";import{$b as St,Aa as T,Ab as Mt,C as $,Ca as P,Da as C,Fa as tt,Fb as Pt,G as h,Ga as et,Ha as nt,Hb as wt,Ia as ot,Ja as l,Ka as O,La as j,M as b,N as v,Qa as _,Ra as dt,Sa as rt,Tb as Ot,Ub as Ut,V as ft,Vb as xt,Wb as Ft,Xb as I,Yb as yt,_b as k,aa as E,ac as It,bc as q,ca as f,da as m,fb as ut,ha as pt,j as lt,lb as gt,mb as S,nb as U,ob as Ct,pa as g,pb as w,ra as c,rb as ht,sa as mt,va as i,wa as s,xa as u,ya as J,z as ct,za as X,zb as _t}from"./chunk-JLEOY5R2.mjs";import{a as st,b as at}from"./chunk-VVCT4QZE.mjs";function Gt(n,o){n&1&&(i(0,"div",1),u(1,"div",2),s())}var jt=(()=>{let o=class o{constructor(){this.isLoading=!1}};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=h({type:o,selectors:[["app-loading-screen"]],inputs:{isLoading:"isLoading"},standalone:!0,features:[_],decls:1,vars:1,consts:[["class","loading-overlay",4,"ngIf"],[1,"loading-overlay"],[1,"spinner"]],template:function(t,r){t&1&&g(0,Gt,2,0,"div",0),t&2&&c("ngIf",r.isLoading)},dependencies:[w,U],styles:[".loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#fffc;z-index:9999;display:flex;justify-content:center;align-items:center}.spinner[_ngcontent-%COMP%]{border:12px solid #f3f3f3;border-top:12px solid #444444;border-radius:50%;width:70px;height:70px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"]});let n=o;return n})();var qt=(()=>{let o=class o{constructor(e,t,r){this.authService=e,this.router=t,this.platformId=r,this.isLoading=!0,this.title="taylor-swift-song-ranking-app"}ngOnInit(){ht(this.platformId)?(this.authService.authenticateFromLocalStorage().then(()=>{this.isLoading=!1}).catch(e=>{console.error("Authentication failed",e),this.isLoading=!1}),this.router.events.subscribe(e=>{e instanceof Ot?this.isLoading=!0:(e instanceof Ut||e instanceof xt||e instanceof Ft)&&(this.isLoading=!1)}),window.addEventListener("load",()=>{this.isLoading=!1})):this.isLoading=!1}};o.\u0275fac=function(t){return new(t||o)(m(x),m(k),m(ft))},o.\u0275cmp=h({type:o,selectors:[["app-root"]],standalone:!0,features:[_],decls:3,vars:1,consts:[[3,"isLoading"]],template:function(t,r){t&1&&u(0,"app-loading-screen",0)(1,"router-outlet")(2,"router-outlet"),t&2&&c("isLoading",r.isLoading)},dependencies:[yt,jt],styles:["body[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0;background-color:#344055}"]});let n=o;return n})();var Jt=["albumColumns"],Xt=["randomSquares"];function te(n,o){if(n&1&&u(0,"img",13),n&2){let a=o.$implicit;c("src",a,E)("alt","Album cover")}}function ee(n,o){if(n&1&&(i(0,"div",11),g(1,te,1,2,"img",12),s()),n&2){let a=o.$implicit;f(),c("ngForOf",a)}}function ne(n,o){if(n&1){let a=T();J(0),i(1,"form",14),P("ngSubmit",function(){b(a);let t=C(2);return v(t.onSubmit())}),u(2,"input",15)(3,"input",16),i(4,"button",17),l(5,"Sign In"),s()(),i(6,"div",18)(7,"a",19),P("click",function(){b(a);let t=C(2);return v(t.toggleMode())}),l(8,"Create Account"),s(),i(9,"a",19),P("click",function(){b(a);let t=C(2);return v(t.toggleForgotPasswordMode())}),l(10,"Forgot Password"),s()(),X()}if(n&2){let a=C(2);f(),c("formGroup",a.loginForm)}}function oe(n,o){if(n&1){let a=T();i(0,"form",14),P("ngSubmit",function(){b(a);let t=C(2);return v(t.onSubmit())}),u(1,"input",20)(2,"input",21)(3,"input",16),i(4,"button",17),l(5,"Create Account"),s()(),i(6,"div",18)(7,"a",19),P("click",function(){b(a);let t=C(2);return v(t.toggleMode())}),l(8,"Back to Login"),s()()}if(n&2){let a=C(2);c("formGroup",a.signupForm)}}function re(n,o){if(n&1&&(J(0),g(1,ne,11,1,"ng-container",10)(2,oe,9,1,"ng-template",null,3,rt),X()),n&2){let a=ot(3),e=C();f(),c("ngIf",e.isLoginMode)("ngIfElse",a)}}function ie(n,o){if(n&1){let a=T();i(0,"form",22),P("ngSubmit",function(){b(a);let t=C();return v(t.onForgotPassword())}),u(1,"input",23),i(2,"button",24),l(3,"Reset Password"),s()(),i(4,"div",18)(5,"a",19),P("click",function(){b(a);let t=C();return v(t.toggleForgotPasswordMode())}),l(6,"Back to Login"),s()()}if(n&2){let a=C();c("formGroup",a.forgotPasswordForm),f(2),c("disabled",!a.forgotPasswordForm.valid)}}var zt=(()=>{let o=class o{constructor(e,t,r,p){this.AuthService=e,this.MailService=t,this.renderer=r,this.toastr=p,this.isLoginMode=!0,this.isForgotPasswordMode=!1,this.albumCovers=["https://d3e29z0m37b0un.cloudfront.net/1989.jpeg","https://d3e29z0m37b0un.cloudfront.net/evermore.jpeg","https://d3e29z0m37b0un.cloudfront.net/fearless_taylors_version_album.jpg","https://d3e29z0m37b0un.cloudfront.net/folklore.jpg","https://d3e29z0m37b0un.cloudfront.net/lover.jpg","https://d3e29z0m37b0un.cloudfront.net/midnights.jpeg","https://d3e29z0m37b0un.cloudfront.net/ttpd1.png","https://d3e29z0m37b0un.cloudfront.net/red-tv.jpeg","https://d3e29z0m37b0un.cloudfront.net/reputation.jpg","https://d3e29z0m37b0un.cloudfront.net/speak-now-tv.jpg","https://d3e29z0m37b0un.cloudfront.net/Taylor+Swift.jpg","https://d3e29z0m37b0un.cloudfront.net/ttpd.jpg"],this.shuffledColumns=[],this.loginForm=new V({username:new F("",[M.required]),password:new F("",[M.required])}),this.signupForm=new V({username:new F("",[M.required]),email:new F("",[M.required]),password:new F("",[M.required])}),this.forgotPasswordForm=new V({email:new F("",[M.required,M.email])})}ngOnInit(){this.shuffleAlbumCovers()}ngAfterViewInit(){this.generateRandomSquares()}shuffleAlbumCovers(){let e=[...this.albumCovers];for(let t=e.length-1;t>0;t--){let r=Math.floor(Math.random()*(t+1));[e[t],e[r]]=[e[r],e[t]]}this.shuffledColumns=[e.slice(0,4),e.slice(4,8),e.slice(8,12)]}generateRandomSquares(){if(!this.randomSquaresElement)return;let e=this.randomSquaresElement.nativeElement,t=["#FFD700","#FF69B4","#00CED1","#FF6347","#32CD32"],r=15;for(let p=0;p<r;p++){let d=this.renderer.createElement("div");this.renderer.addClass(d,"random-square");let L=Math.floor(Math.random()*50)+20,Z=Math.random()*100,Wt=Math.random()*100,Yt=t[Math.floor(Math.random()*t.length)];this.renderer.setStyle(d,"width",`${L}px`),this.renderer.setStyle(d,"height",`${L}px`),this.renderer.setStyle(d,"top",`${Z}%`),this.renderer.setStyle(d,"left",`${Wt}%`),this.renderer.setStyle(d,"background-color",Yt),this.renderer.setStyle(d,"opacity","0.5"),this.renderer.appendChild(e,d)}}onMouseMove(e){if(!this.albumColumnsElement)return;let t=this.albumColumnsElement.nativeElement.querySelectorAll(".column"),r=e.clientX/window.innerWidth,p=e.clientY/window.innerHeight;t.forEach((d,L)=>{let Z=(L%2===0?1:-1)*50*(p-.5);this.renderer.setStyle(d,"transform",`translateY(${Z}px)`)})}onSubmit(){this.isLoginMode?this.AuthService.loginUser(this.loginForm.value.username,this.loginForm.value.password).subscribe(e=>{this.toastr.success("Login successful!","Success")},e=>{this.toastr.error("Login failed. Please check your credentials.","Error")}):this.AuthService.createNewUser(this.signupForm.value.username,this.signupForm.value.email,this.signupForm.value.password).subscribe(e=>{this.toastr.success("Account created successfully! Check your email for a welcome message.","Success"),this.isLoginMode=!0},e=>{this.toastr.error("Account creation failed. Please try again.","Error")})}toggleMode(){this.isLoginMode=!this.isLoginMode,this.isLoginMode?this.loginForm.reset():this.signupForm.reset()}onForgotPassword(){this.forgotPasswordForm.valid&&this.AuthService.forgotPassword(this.forgotPasswordForm.value.email).subscribe(()=>{this.toastr.success("Password reset email sent. Please check your inbox.","Success"),this.isForgotPasswordMode=!1},e=>{this.toastr.error("Failed to send password reset email. Please try again.","Error")})}toggleForgotPasswordMode(){this.isForgotPasswordMode=!this.isForgotPasswordMode,this.forgotPasswordForm.reset()}};o.\u0275fac=function(t){return new(t||o)(m(x),m(Et),m(pt),m(z))},o.\u0275cmp=h({type:o,selectors:[["app-sign-in"]],viewQuery:function(t,r){if(t&1&&(tt(Jt,5),tt(Xt,5)),t&2){let p;et(p=nt())&&(r.albumColumnsElement=p.first),et(p=nt())&&(r.randomSquaresElement=p.first)}},hostBindings:function(t,r){t&1&&P("mousemove",function(d){return r.onMouseMove(d)})},standalone:!0,features:[_],decls:13,vars:3,consts:[["randomSquares",""],["albumColumns",""],["forgotPasswordTemplate",""],["signupTemplate",""],[1,"login-container"],[1,"album-covers-container"],[1,"random-squares"],[1,"album-columns"],["class","column",4,"ngFor","ngForOf"],[1,"login-form-container"],[4,"ngIf","ngIfElse"],[1,"column"],["class","album-cover",3,"src","alt",4,"ngFor","ngForOf"],[1,"album-cover",3,"src","alt"],[1,"login-form",3,"ngSubmit","formGroup"],["type","text","formControlName","username","placeholder","Username or Email","name","username","required",""],["type","password","formControlName","password","placeholder","Password","name","password","required",""],["type","submit"],[1,"sub-links"],[3,"click"],["type","text","formControlName","username","placeholder","Username","name","username","required",""],["type","email","formControlName","email","placeholder","Email","name","email","required",""],[1,"forgot-password-form",3,"ngSubmit","formGroup"],["type","email","formControlName","email","placeholder","Enter your email","required",""],["type","submit",3,"disabled"]],template:function(t,r){if(t&1&&(i(0,"div",4)(1,"div",5),u(2,"div",6,0),i(4,"div",7,1),g(6,ee,2,1,"div",8),s()(),i(7,"div",9)(8,"h1"),l(9,"Welcome to the Swiftie Ranking Hub!"),s(),g(10,re,4,2,"ng-container",10)(11,ie,7,2,"ng-template",null,2,rt),s()()),t&2){let p=ot(12);f(6),c("ngForOf",r.shuffledColumns),f(4),c("ngIf",!r.isForgotPasswordMode)("ngIfElse",p)}},dependencies:[w,S,U,W,N,D,B,R,Q,H,K,q,Lt],styles:['@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7SUc.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7SUc.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7SUc.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7SUc.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7SUc.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7SUc.woff2) format("woff2");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7SUc.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7SUc.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7SUc.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7SUc.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7SUc.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7SUc.woff2) format("woff2");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}[_ngcontent-%COMP%]:root{font-size:16px}body[_ngcontent-%COMP%]{font-family:Inter,sans-serif;margin:0;padding:0}.login-container[_ngcontent-%COMP%]{display:flex;height:100vh;overflow:hidden;background-color:#344055;font-size:1rem}.album-covers-container[_ngcontent-%COMP%]{position:relative;flex:1}.random-squares[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}.album-columns[_ngcontent-%COMP%]{position:relative;z-index:2;display:flex;justify-content:space-around;height:110vh;padding:20px}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;height:100%;transition:transform .3s ease}.album-cover[_ngcontent-%COMP%]{width:100%;max-width:150px;height:auto;margin-bottom:10px;box-shadow:0 4px 8px #0000001a;transition:transform .3s ease}.album-cover[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.login-form-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:20px;background-color:#344055}h1[_ngcontent-%COMP%]{color:#fff;max-width:450px;font-size:2.5rem;margin-bottom:1.5rem;text-align:center}.login-form[_ngcontent-%COMP%]{width:100%;margin-bottom:10px;max-width:350px;z-index:5}.login-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:94%;max-width:100%;padding:10px;margin-bottom:10px;border:1px solid #ddd;border-radius:4px;font-size:1rem}.login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#266dd3;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:all .1s ease;font-size:1.1rem}.login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#1151aa}.sub-links[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;font-size:.9rem}.sub-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;text-align:center;margin:25px;color:#fff;text-decoration:none;transition:all .3s ease}.sub-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#a6cafc}.random-square[_ngcontent-%COMP%]{position:absolute;border-radius:8px;transform:rotate(45deg);transition:all .3s ease}.random-square[_ngcontent-%COMP%]:hover{transform:rotate(0) scale(1.1)}.forgot-password-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;max-width:300px}.forgot-password-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:10px;padding:10px;border:1px solid #ddd;border-radius:4px;font-size:1rem}.forgot-password-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;background-color:#266dd3;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:all .1s ease;font-size:1.1rem}.forgot-password-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#1151aa}@media screen and (max-width: 768px){.login-container[_ngcontent-%COMP%]{flex-direction:column;position:relative}.album-covers-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;opacity:.8}.login-form-container[_ngcontent-%COMP%]{position:relative;z-index:3;justify-content:flex-start;padding-top:50px;background-color:#344055b3}h1[_ngcontent-%COMP%]{font-size:2rem}.sub-links[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.sub-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:10px 0}}@media screen and (min-width: 769px){[_ngcontent-%COMP%]:root{font-size:18px}}@media screen and (min-width: 1024px){[_ngcontent-%COMP%]:root{font-size:20px}}']});let n=o;return n})();var Dt=(()=>{let o=class o{};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=h({type:o,selectors:[["app-not-found"]],standalone:!0,features:[_],decls:6,vars:0,consts:[[1,"not-found-container"],[1,"not-found-div"],["routerLink","/login"]],template:function(t,r){t&1&&(i(0,"div",0)(1,"div",1)(2,"h1"),l(3,"Sorry, can't find this page!"),s(),i(4,"a",2),l(5,"Login page"),s()()())},dependencies:[q,St],styles:[".not-found-container[_ngcontent-%COMP%]{height:100vh;width:100vw;display:flex;flex-direction:column;justify-content:center;align-items:center}.not-found-div[_ngcontent-%COMP%]{background-color:#f0f8ff;padding:25px}"]});let n=o;return n})();var Bt=(()=>{let o=class o{constructor(e,t){this.authService=e,this.router=t}canActivate(e,t){let r=this.authService.getIsAuthenticated();return r||this.router.navigate(["/login"]),r}};o.\u0275fac=function(t){return new(t||o)($(x),$(k))},o.\u0275prov=ct({token:o,factory:o.\u0275fac,providedIn:"root"});let n=o;return n})();function ae(n,o){if(n&1&&(i(0,"audio",13),u(1,"source",14),l(2," Your browser does not support the audio element. "),s()),n&2){let a=C().$implicit;f(),c("src",a.audioSource,E)}}function le(n,o){if(n&1&&(i(0,"li")(1,"div",9),u(2,"img",10),i(3,"div",11)(4,"h3"),l(5),s()(),g(6,ae,3,1,"audio",12),s()()),n&2){let a=o.$implicit;f(2),c("src",a.albumImage,E)("alt",a.songTitle+" cover"),f(3),O(a.songTitle),f(),c("ngIf",a.audioSource)}}function ce(n,o){if(n&1&&(i(0,"div",15)(1,"p",16),l(2),s(),i(3,"div",17),l(4),s()()),n&2){let a=o.$implicit;f(2),O(a.question),f(2),O(a.answer)}}function fe(n,o){n&1&&(i(0,"div",18),l(1,"Loading..."),s())}function pe(n,o){if(n&1&&(i(0,"div",19),l(1),s()),n&2){let a=C();f(),O(a.error)}}var Rt=(()=>{let o=class o{constructor(e,t,r){this.route=e,this.userProfileService=t,this.albumService=r,this.publicProfile=null,this.isLoading=!0,this.error=null,this.themeBackgrounds={Debut:"https://d3e29z0m37b0un.cloudfront.net/profile+backgrounds/debut-profile-bg.jpeg",Fearless:"https://d3e29z0m37b0un.cloudfront.net/profile+backgrounds/fearless-profile-bg.jpeg","Speak Now":"https://d3e29z0m37b0un.cloudfront.net/profile+backgrounds/speak-now-profile-bg.jpeg",Red:"https://d3e29z0m37b0un.cloudfront.net/profile+backgrounds/red-profile-bg.jpeg",1989:"https://d3e29z0m37b0un.cloudfront.net/profile+backgrounds/1989-profile-bg.jpeg",Reputation:"https://d3e29z0m37b0un.cloudfront.net/profile+backgrounds/reputation-profile-bg.jpeg",Lover:"https://d3e29z0m37b0un.cloudfront.net/profile+backgrounds/lover-profile-bg.jpeg",Folklore:"https://d3e29z0m37b0un.cloudfront.net/profile+backgrounds/folklore-profile-bg.jpeg",Evermore:"https://d3e29z0m37b0un.cloudfront.net/profile+backgrounds/evermore-profile-bg.jpeg",Midnights:"https://d3e29z0m37b0un.cloudfront.net/profile+backgrounds/midnights-profile-bg.jpeg","The Tortured Poets Department":"https://d3e29z0m37b0un.cloudfront.net/profile+backgrounds/ttpd-profile-bg.jpeg"},this.themeClassMap={Debut:"Debut",Fearless:"Fearless","Speak Now":"SpeakNow",Red:"Red",1989:"_1989",Reputation:"Reputation",Lover:"Lover",Folklore:"Folklore",Evermore:"Evermore",Midnights:"Midnights","The Tortured Poets Department":"TorturedPoets"},this.orderedQuestions=["What album made you a Swiftie?","What are your dream surprise songs? (Mashups allowed!)","What song would you play first for a non-swiftie?","What would be your cry in the car song?","Which song makes you have a dance party in your room?","Which song would you want to walk down the aisle to?","Hot take: What are three songs you usually skip?","Which Eras Tour set is your favorite?","Which album cover is your favorite?","What song has your favorite bridge?","What song has your favorite chorus?","What is your favorite lyric from any song?","Dream artist collaboration with Taylor?"]}ngOnInit(){let e=this.route.snapshot.paramMap.get("username");e&&this.userProfileService.getPublicProfile(e).subscribe(t=>{this.publicProfile=t,this.sortProfileQuestions(),this.loadTopThirteenDetails()},t=>{console.error("Error fetching public profile",t),this.error="Failed to load profile. Please try again.",this.isLoading=!1}),this.disableAudioRightClick()}loadTopThirteenDetails(){if(console.log("Entering loadTopThirteenDetails"),this.publicProfile?.rankings?.topThirteen){let e=this.publicProfile.rankings.topThirteen.map(t=>this.albumService.getSongById(t.songId));lt(e).subscribe(t=>{this.publicProfile.rankings.topThirteen=this.publicProfile.rankings.topThirteen.map((r,p)=>{let d=t[p];return at(st({},r),{albumImage:d.albumImageSource,audioSource:d.audioSource})}),this.publicProfile.rankings.topThirteen.sort((r,p)=>r.slot-p.slot),this.isLoading=!1},t=>{console.error("Error loading song details",t),this.error="Failed to load song details. Please try again.",this.isLoading=!1})}else this.isLoading=!1}getThemeClass(){return this.publicProfile?.theme?this.themeClassMap[this.publicProfile.theme]:""}sortProfileQuestions(){this.publicProfile&&this.publicProfile.profileQuestions&&this.publicProfile.profileQuestions.sort((e,t)=>{let r=this.orderedQuestions.indexOf(e.question),p=this.orderedQuestions.indexOf(t.question);return r-p})}getThemeBackground(){return this.publicProfile?.theme?this.themeBackgrounds[this.publicProfile.theme]:""}disableAudioRightClick(){document.addEventListener("contextmenu",e=>{e.target instanceof HTMLElement&&e.target.tagName==="AUDIO"&&e.preventDefault()},!1)}};o.\u0275fac=function(t){return new(t||o)(m(I),m(Y),m(Tt))},o.\u0275cmp=h({type:o,selectors:[["app-public-profile"]],standalone:!0,features:[_],decls:17,vars:8,consts:[[1,"user-profile",3,"ngClass"],[1,"profile-content"],[1,"top-13-list"],[4,"ngFor","ngForOf"],[1,"questionnaire"],[1,"question-list"],["class","question-item",4,"ngFor","ngForOf"],["class","loading",4,"ngIf"],["class","error",4,"ngIf"],[1,"song-item"],[1,"album-cover",3,"src","alt"],[1,"song-details"],["controls","",4,"ngIf"],["controls",""],["type","audio/mpeg",3,"src"],[1,"question-item"],[1,"question"],[1,"answer"],[1,"loading"],[1,"error"]],template:function(t,r){t&1&&(i(0,"div",0)(1,"header")(2,"h1"),l(3),s()(),i(4,"div",1)(5,"section",2)(6,"h2"),l(7,"Top 13 Songs"),s(),i(8,"ol"),g(9,le,7,4,"li",3),s()(),i(10,"section",4)(11,"h2"),l(12,"Swiftie Questionnaire"),s(),i(13,"div",5),g(14,ce,5,2,"div",6),s()()()(),g(15,fe,2,0,"div",7)(16,pe,2,1,"div",8)),t&2&&(mt("background-image","url("+r.getThemeBackground()+")"),c("ngClass",r.getThemeClass()),f(3),j("",r.publicProfile==null?null:r.publicProfile.username,"'s Profile"),f(6),c("ngForOf",r.publicProfile==null||r.publicProfile.rankings==null?null:r.publicProfile.rankings.topThirteen),f(5),c("ngForOf",r.publicProfile==null?null:r.publicProfile.profileQuestions),f(),c("ngIf",r.isLoading),f(),c("ngIf",r.error))},dependencies:[w,gt,S,U],styles:['@font-face{font-family:Caveat;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/caveat/v18/WnznHAc5bAfYB2QRah7pcpNvOx-pjfJ9eIipYSxP.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Caveat;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/caveat/v18/WnznHAc5bAfYB2QRah7pcpNvOx-pjfJ9eIGpYSxP.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Caveat;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/caveat/v18/WnznHAc5bAfYB2QRah7pcpNvOx-pjfJ9eIupYSxP.woff2) format("woff2");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Caveat;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/caveat/v18/WnznHAc5bAfYB2QRah7pcpNvOx-pjfJ9eIWpYQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}.user-profile[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:20px;font-family:inherit,sans-serif;transition:all .3s ease;background-size:cover;background-position:center;background-attachment:fixed;position:relative}.user-profile[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;opacity:.8;z-index:0}.user-profile[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;z-index:1}.user-profile[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px}.user-profile[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:10px}.user-profile[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .theme-selector[_ngcontent-%COMP%]{display:flex;flex-direction:column}.user-profile[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .theme-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:10px}.user-profile[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .theme-selector[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border-radius:10px;padding:5px;font-size:1rem}.user-profile[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .share-btn[_ngcontent-%COMP%]{padding:calc(var(--padding-base) * .5) var(--padding-base);background-color:var(--secondary-color);color:var(--text-color);border:none;border-radius:4px;cursor:pointer;transition:background-color .2s ease-in-out;font-size:1rem}.user-profile[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .share-btn[_ngcontent-%COMP%]:hover{background-color:var(--hover-color)}.user-profile[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .share-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.user-profile[_ngcontent-%COMP%]   .profile-content[_ngcontent-%COMP%]{display:flex;gap:30px}@media (max-width: 768px){.user-profile[_ngcontent-%COMP%]   .profile-content[_ngcontent-%COMP%]{flex-direction:column}}.user-profile[_ngcontent-%COMP%]   .top-13-list[_ngcontent-%COMP%], .user-profile[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]{flex:1}.user-profile[_ngcontent-%COMP%]   .top-13-list[_ngcontent-%COMP%]{background-color:#fff9;padding:25px;border-radius:10px;align-self:flex-start}.user-profile[_ngcontent-%COMP%]   .top-13-list[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0}.user-profile[_ngcontent-%COMP%]   .top-13-list[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{padding-left:10px}.user-profile[_ngcontent-%COMP%]   .top-13-list[_ngcontent-%COMP%]   audio[_ngcontent-%COMP%]{width:200px;height:30px;background-color:#ffffff1a;border-radius:15px;outline:1px solid white}.user-profile[_ngcontent-%COMP%]   .top-13-list[_ngcontent-%COMP%]   audio[_ngcontent-%COMP%]::-webkit-media-controls-panel{background-color:none}.user-profile[_ngcontent-%COMP%]   .top-13-list[_ngcontent-%COMP%]   audio[_ngcontent-%COMP%]::-webkit-media-controls-play-button{background-color:#fff3;border-radius:50%}.user-profile[_ngcontent-%COMP%]   .top-13-list[_ngcontent-%COMP%]   audio[_ngcontent-%COMP%]::-webkit-media-controls-current-time-display, .user-profile[_ngcontent-%COMP%]   .top-13-list[_ngcontent-%COMP%]   audio[_ngcontent-%COMP%]::-webkit-media-controls-time-remaining-display{color:#000}.user-profile[_ngcontent-%COMP%]   .top-13-list[_ngcontent-%COMP%]   .song-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px}.user-profile[_ngcontent-%COMP%]   .top-13-list[_ngcontent-%COMP%]   .song-item[_ngcontent-%COMP%]   .album-cover[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:cover;margin-right:15px}.user-profile[_ngcontent-%COMP%]   .top-13-list[_ngcontent-%COMP%]   .song-item[_ngcontent-%COMP%]   .song-details[_ngcontent-%COMP%]{flex:1}.user-profile[_ngcontent-%COMP%]   .top-13-list[_ngcontent-%COMP%]   .song-item[_ngcontent-%COMP%]   .song-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 5px}.user-profile[_ngcontent-%COMP%]   .top-13-list[_ngcontent-%COMP%]   .song-item[_ngcontent-%COMP%]   .song-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-style:italic}.user-profile[_ngcontent-%COMP%]   .top-13-list[_ngcontent-%COMP%]   .song-item[_ngcontent-%COMP%]   audio[_ngcontent-%COMP%]{width:200px}.user-profile[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]{font-family:Caveat,cursive;background-color:#fff9;padding:20px;border-radius:10px}.user-profile[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.user-profile[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:3em;margin-top:0;margin-bottom:0}.user-profile[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .question-list[_ngcontent-%COMP%]   .question-item[_ngcontent-%COMP%]{margin-bottom:20px}.user-profile[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .question-list[_ngcontent-%COMP%]   .question-item[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{font-size:2em;margin-bottom:5px;font-weight:600;transition:color .3s}.user-profile[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .question-list[_ngcontent-%COMP%]   .question-item[_ngcontent-%COMP%]   .answer[_ngcontent-%COMP%]{font-size:1.8em;min-height:30px;border-bottom:1px dashed #ccc;padding:5px;transition:background-color .3s}.user-profile[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .question-list[_ngcontent-%COMP%]   .question-item[_ngcontent-%COMP%]   .answer[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.user-profile[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .question-list[_ngcontent-%COMP%]   .question-item[_ngcontent-%COMP%]   .answer[contenteditable=true][_ngcontent-%COMP%]{background-color:#fff3;outline:none}.user-profile[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%], .user-profile[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{background-color:transparent;border:2px solid #fff;color:#fff;padding:5px 10px;font-family:Caveat,cursive;font-size:1.3em;cursor:pointer;transition:all .3s}.user-profile[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:hover, .user-profile[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:hover{background-color:#fff6}.user-profile.Debut[_ngcontent-%COMP%]:before{background-color:#52fda4b3}.user-profile.Fearless[_ngcontent-%COMP%]:before{background-color:#fff9c4b3}.user-profile.SpeakNow[_ngcontent-%COMP%]:before{background-color:#be35d6b3}.user-profile.Red[_ngcontent-%COMP%]:before{background-color:#960c0cb3}.user-profile._1989[_ngcontent-%COMP%]:before{background-color:#b3e5fcb3}.user-profile.Reputation[_ngcontent-%COMP%]:before{background-color:#2a2a2ab3}.user-profile.Lover[_ngcontent-%COMP%]:before{background-color:#ffbaf9b3}.user-profile.Folklore[_ngcontent-%COMP%]:before{background-color:#f5f5f5b3}.user-profile.Evermore[_ngcontent-%COMP%]:before{background-color:#db861eb3}.user-profile.Midnights[_ngcontent-%COMP%]:before{background-color:#191970b3}.user-profile.TorturedPoets[_ngcontent-%COMP%]:before{background-color:#e3e0c8}.user-profile.Debut[_ngcontent-%COMP%]{color:#161c19}.user-profile.Debut[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{color:#2474a5}.user-profile.Fearless[_ngcontent-%COMP%]{color:#232323}.user-profile.Fearless[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{color:#cbb50e}.user-profile.SpeakNow[_ngcontent-%COMP%]{color:#202020}.user-profile.SpeakNow[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{color:#5e039f}.user-profile.SpeakNow[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .user-profile.SpeakNow[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.user-profile.Red[_ngcontent-%COMP%]{color:#280909}.user-profile.Red[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{color:#b31800}.user-profile.Red[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .user-profile.Red[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.user-profile._1989[_ngcontent-%COMP%]{color:#202020}.user-profile._1989[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{color:#00ced1}.user-profile.Reputation[_ngcontent-%COMP%]{color:#202020}.user-profile.Reputation[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{color:#325e34}.user-profile.Reputation[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .user-profile.Reputation[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.user-profile.Lover[_ngcontent-%COMP%]{color:#202020}.user-profile.Lover[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{color:#ff69b4}.user-profile.Folklore[_ngcontent-%COMP%]{color:#202020}.user-profile.Folklore[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{color:#708090}.user-profile.Evermore[_ngcontent-%COMP%]{color:#272727}.user-profile.Evermore[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{color:#8b4513}.user-profile.Midnights[_ngcontent-%COMP%]{color:#202020}.user-profile.Midnights[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{color:#3f4ffd}.user-profile.Midnights[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .user-profile.Midnights[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.user-profile.TorturedPoets[_ngcontent-%COMP%]{color:#202020}.user-profile.TorturedPoets[_ngcontent-%COMP%]   .questionnaire[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{color:#686868}']});let n=o;return n})();var me=n=>({"background-image":n});function de(n,o){if(n&1&&(i(0,"li"),l(1),s()),n&2){let a=o.$implicit;f(),O(a.title)}}function ue(n,o){if(n&1&&(i(0,"div",10),u(1,"div",11),i(2,"h3",12),l(3),s(),i(4,"ol"),g(5,de,2,1,"li",13),s()()),n&2){let a=o.$implicit,e=C();c("ngStyle",dt(3,me,"url("+e.getAlbumCover(a.era)+")")),f(3),O(a.era),f(2),c("ngForOf",a.songs)}}var Vt=(()=>{let o=class o{constructor(e,t){this.route=e,this.userProfileService=t,this.setList=[],this.username=null}ngOnInit(){this.username=this.route.snapshot.paramMap.get("username"),this.loadSetList(this.username)}loadSetList(e){e&&this.userProfileService.getErasTourSetListByUsername(e).subscribe(t=>{this.setList=t},t=>{console.error("Error loading set list:",t)})}getAlbumCover(e){return{Debut:"https://all-taylor-swift-album-covers.s3.us-east-2.amazonaws.com/Taylor+Swift.jpg",Fearless:"https://all-taylor-swift-album-covers.s3.us-east-2.amazonaws.com/fearless_taylors_version_album.jpg","Speak Now":"https://all-taylor-swift-album-covers.s3.us-east-2.amazonaws.com/speak-now-tv.jpg",Red:"https://all-taylor-swift-album-covers.s3.us-east-2.amazonaws.com/red-tv.jpeg",1989:"https://all-taylor-swift-album-covers.s3.us-east-2.amazonaws.com/1989.jpeg",Reputation:"https://all-taylor-swift-album-covers.s3.us-east-2.amazonaws.com/reputation.jpg",Lover:"https://all-taylor-swift-album-covers.s3.us-east-2.amazonaws.com/lover.jpg",Folklore:"https://all-taylor-swift-album-covers.s3.us-east-2.amazonaws.com/folklore.jpg",Evermore:"https://all-taylor-swift-album-covers.s3.us-east-2.amazonaws.com/evermore.jpeg",Midnights:"https://all-taylor-swift-album-covers.s3.us-east-2.amazonaws.com/MidnightsNoText.png","The Tortured Poets Department":"https://all-taylor-swift-album-covers.s3.us-east-2.amazonaws.com/ttpd.jpg","Surprise Songs":"https://all-taylor-swift-album-covers.s3.us-east-2.amazonaws.com/surpriseSongs.png"}[e]||""}};o.\u0275fac=function(t){return new(t||o)(m(I),m(Y))},o.\u0275cmp=h({type:o,selectors:[["app-share-setlist"]],standalone:!0,features:[_],decls:12,vars:2,consts:[[1,"share-setlist"],[1,"background-overlay"],[1,"content"],[1,"header-container"],["src","https://all-taylor-swift-album-covers.s3.us-east-2.amazonaws.com/graphics/bracelets.png","alt","Background Graphic",1,"background-graphic"],[1,"header-div"],[1,"username"],[1,"setlist-title"],[1,"era-list"],["class","era-item",3,"ngStyle",4,"ngFor","ngForOf"],[1,"era-item",3,"ngStyle"],[1,"overlay"],[1,"era-title"],[4,"ngFor","ngForOf"]],template:function(t,r){t&1&&(i(0,"div",0),u(1,"div",1),i(2,"div",2)(3,"div",3),u(4,"img",4),i(5,"div",5)(6,"h2",6),l(7),s(),i(8,"h1",7),l(9,"Dream Eras Tour Setlist"),s()()(),i(10,"div",8),g(11,ue,6,5,"div",9),s()()()),t&2&&(f(7),j("",r.username,"'s"),f(4),c("ngForOf",r.setList))},dependencies:[w,S,Ct],styles:[".share-setlist[_ngcontent-%COMP%]{position:relative;max-width:1200px;margin:0 auto;padding:20px}.share-setlist[_ngcontent-%COMP%]   .background-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:-1;opacity:.5}.share-setlist[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:relative;z-index:1;text-align:left}.share-setlist[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .background-graphic[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:50%;height:100%;object-fit:cover;z-index:1}.share-setlist[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]{position:relative;background-color:#ffd78c;height:100%;border-radius:10px;z-index:10;display:flex;flex-direction:column;align-items:left;padding:28px 20px 20px;margin-bottom:25px;box-shadow:2px 0 4px #0000001a}.share-setlist[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{width:100%;position:relative;z-index:2;color:#000;text-align:left;margin:0 0 10px;font-size:3rem}.share-setlist[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .setlist-title[_ngcontent-%COMP%]{width:100%;position:relative;z-index:2;color:#266dd3;text-align:left;margin:0;font-size:3.6rem}.share-setlist[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .era-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;justify-content:center}.share-setlist[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .era-list[_ngcontent-%COMP%]   .era-item[_ngcontent-%COMP%]{position:relative;padding:20px;background-size:cover;background-position:center;border-radius:10px;box-shadow:0 2px 4px #0000001a;color:#fff;width:340px;height:400px;transition:transform .3s ease,box-shadow .3s ease}.share-setlist[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .era-list[_ngcontent-%COMP%]   .era-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 4px 8px #0003}.share-setlist[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .era-list[_ngcontent-%COMP%]   .era-item[_ngcontent-%COMP%]   .era-title[_ngcontent-%COMP%]{position:relative;font-size:2rem;color:#fff;z-index:1}.share-setlist[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .era-list[_ngcontent-%COMP%]   .era-item[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0009;border-radius:10px;z-index:0;transition:background .3s ease}.share-setlist[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .era-list[_ngcontent-%COMP%]   .era-item[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{background:#0006}.share-setlist[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .era-list[_ngcontent-%COMP%]   .era-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{position:relative;z-index:1;margin-top:0}.share-setlist[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .era-list[_ngcontent-%COMP%]   .era-item[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{position:relative;z-index:1;list-style-type:circle;padding-left:10px}.share-setlist[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .era-list[_ngcontent-%COMP%]   .era-item[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{text-align:left;margin-bottom:5px;font-size:1.2rem;opacity:0;animation:_ngcontent-%COMP%_fadeIn .5s forwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@media (max-width: 819px){.share-setlist[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .era-list[_ngcontent-%COMP%]   .era-item[_ngcontent-%COMP%]{width:100%}}"]});let n=o;return n})();function ge(n,o){n&1&&(i(0,"div",9),l(1," Password must be at least 6 characters long. "),s())}function Ce(n,o){n&1&&(i(0,"div",9),l(1," Passwords do not match. "),s())}var Nt=(()=>{let o=class o{constructor(e,t,r,p,d){this.fb=e,this.route=t,this.router=r,this.authService=p,this.toastr=d,this.token=null,this.resetForm=this.fb.group({password:["",[M.required,M.minLength(6)]],confirmPassword:["",M.required]},{validator:this.passwordMatchValidator})}ngOnInit(){this.token=this.route.snapshot.paramMap.get("token"),this.token||(this.toastr.error("Invalid password reset link"),this.router.navigate(["/login"]))}passwordMatchValidator(e){return e.get("password")?.value===e.get("confirmPassword")?.value?null:{mismatch:!0}}onSubmit(){if(this.resetForm.valid&&this.token){let e=this.resetForm.get("password")?.value;this.authService.resetPassword(this.token,e).subscribe(()=>{this.toastr.success("Your password has been reset successfully"),this.router.navigate(["/login"])},t=>{this.toastr.error("Failed to reset password. Please try again.")})}}};o.\u0275fac=function(t){return new(t||o)(m(At),m(I),m(k),m(x),m(z))},o.\u0275cmp=h({type:o,selectors:[["app-password-reset"]],standalone:!0,features:[_],decls:16,vars:4,consts:[[1,"password-reset-container"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","password"],["type","password","id","password","formControlName","password","required",""],["class","error-message",4,"ngIf"],["for","confirmPassword"],["type","password","id","confirmPassword","formControlName","confirmPassword","required",""],["type","submit",3,"disabled"],[1,"error-message"]],template:function(t,r){if(t&1&&(i(0,"div",0)(1,"h2"),l(2,"Reset Your Password"),s(),i(3,"form",1),P("ngSubmit",function(){return r.onSubmit()}),i(4,"div",2)(5,"label",3),l(6,"New Password"),s(),u(7,"input",4),g(8,ge,2,0,"div",5),s(),i(9,"div",2)(10,"label",6),l(11,"Confirm New Password"),s(),u(12,"input",7),g(13,Ce,2,0,"div",5),s(),i(14,"button",8),l(15,"Reset Password"),s()()()),t&2){let p,d;f(3),c("formGroup",r.resetForm),f(5),c("ngIf",((p=r.resetForm.get("password"))==null?null:p.invalid)&&((p=r.resetForm.get("password"))==null?null:p.touched)),f(5),c("ngIf",r.resetForm.hasError("mismatch")&&((d=r.resetForm.get("confirmPassword"))==null?null:d.touched)),f(),c("disabled",r.resetForm.invalid)}},dependencies:[w,U,W,N,D,B,R,Q,H,K],styles:['@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7SUc.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7SUc.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7SUc.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7SUc.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7SUc.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7SUc.woff2) format("woff2");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7SUc.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7SUc.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7SUc.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7SUc.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7SUc.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7SUc.woff2) format("woff2");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}[_ngcontent-%COMP%]:root{font-size:16px}body[_ngcontent-%COMP%]{font-family:Inter,sans-serif;margin:0;padding:0}.password-reset-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px}.password-reset-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#fff}.password-reset-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.password-reset-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:#dbdbdb}.password-reset-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px;font-size:1rem}.password-reset-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:red;font-size:.8em;margin-top:5px}.password-reset-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:1.1rem}.password-reset-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#ccc}']});let n=o;return n})();var Ht=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:zt},{path:"reset-password/:token",component:Nt},{path:"public-profile/:username",component:Rt},{path:"share-setlist/:username",component:Vt},{path:"user",canActivate:[Bt],loadChildren:()=>import("./chunk-Z3JXYPGE.mjs").then(n=>n.UserModule)},{path:"**",component:Dt}];var Kt={providers:[It(Ht),wt(),_t(Mt()),bt(),kt({closeButton:!0,positionClass:"toast-bottom-right"})]};var he={providers:[vt()]},Qt=ut(Kt,he);var _e=()=>Pt(qt,Qt),hn=_e;export{hn as a};
